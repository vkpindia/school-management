(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"4dcf":function(t,e,i){"use strict";i.r(e),i.d(e,"SetupModule",(function(){return U}));var s=i("ofXK"),c=i("3Pt+"),r=i("fXoL"),n=i("tyNb"),a=i("dNgK"),p=i("tk/3"),o=i("z6cu"),l=i("lJxs"),h=i("JIr8"),u=i("AytR");let d=(()=>{class t{constructor(t){this._http=t,this._apiUrl=u.a.apiBaseUrl,this.httpOptions={headers:new p.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"})}}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Back-end returned code ${t.status}, body was: `+t.error),Object(o.a)("Something bad happened; please try again later.")}extractData(t){return t||{}}getTransportTypes(){return this._http.get(this._apiUrl+"setup/getvillages",this.httpOptions).pipe(Object(l.a)(this.extractData),Object(h.a)(this.handleError))}getExpanseTypes(){return this._http.get(this._apiUrl+"setup/getexpensetypes",this.httpOptions).pipe(Object(l.a)(this.extractData),Object(h.a)(this.handleError))}getFeeType(){return this._http.get(this._apiUrl+"setup/getfeetypes",this.httpOptions).pipe(Object(l.a)(this.extractData),Object(h.a)(this.handleError))}getSalaryType(){return this._http.get(this._apiUrl+"setup/getsalarytypes",this.httpOptions).pipe(Object(l.a)(this.extractData),Object(h.a)(this.handleError))}getExpanses(){return this._http.get(this._apiUrl+"setup/getexpenses",this.httpOptions).pipe(Object(l.a)(this.extractData),Object(h.a)(this.handleError))}saveSetup(t){return this._http.post(this._apiUrl+"setup/addgenerictype",t,this.httpOptions).pipe(Object(l.a)(this.extractData),Object(h.a)(this.handleError))}deleteEvent(t,e){return"transport"==e?this._http.delete(`${this._apiUrl}setup/deletevillages?id=${t}`,this.httpOptions).pipe(Object(h.a)(this.handleError)):"salary"==e?this._http.delete(`${this._apiUrl}setup/deletesalarytypes?id=${t}`,this.httpOptions).pipe(Object(h.a)(this.handleError)):"fee"==e?this._http.delete(`${this._apiUrl}setup/deletefeetypes?id=${t}`,this.httpOptions).pipe(Object(h.a)(this.handleError)):"expanse"==e?this._http.delete(`${this._apiUrl}setup/deleteexpensetypes?id=${t}`,this.httpOptions).pipe(Object(h.a)(this.handleError)):void 0}}return t.\u0275fac=function(e){return new(e||t)(r.rc(p.b))},t.\u0275prov=r.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=i("Wp6s"),g=i("f0Cb"),m=i("kmnG"),f=i("d3UM"),b=i("qFsG"),j=i("bTqV"),T=i("FKr1");function O(t,e){if(1&t&&(r.jc(0,"mat-option",29),r.Wc(1),r.ic()),2&t){const t=e.$implicit;r.Ec("value",t.value),r.Pb(1),r.Xc(t.label)}}function v(t,e){1&t&&(r.jc(0,"mat-error"),r.Wc(1," Type is "),r.jc(2,"strong"),r.Wc(3,"required"),r.ic(),r.ic())}function x(t,e){if(1&t&&(r.jc(0,"mat-error"),r.Wc(1),r.jc(2,"strong"),r.Wc(3,"required"),r.ic(),r.ic()),2&t){const t=r.yc(2);r.Pb(1),r.Yc(" ",t.fieldLabel?t.fieldLabel:"Setup Type"," is ")}}function _(t,e){1&t&&(r.jc(0,"mat-error"),r.Wc(1," Amount is "),r.jc(2,"strong"),r.Wc(3,"required"),r.ic(),r.ic())}function E(t,e){if(1&t){const t=r.kc();r.jc(0,"form",17),r.uc("ngSubmit",(function(){return r.Oc(t),r.yc().onSubmit()})),r.jc(1,"div",2),r.jc(2,"div",18),r.jc(3,"mat-form-field",19),r.jc(4,"mat-label"),r.Wc(5,"Type"),r.ic(),r.jc(6,"mat-select",20),r.uc("selectionChange",(function(e){return r.Oc(t),r.yc().onSetupTypeChange(e)})),r.Uc(7,O,2,2,"ng-template",21),r.ic(),r.Uc(8,v,4,0,"mat-error",22),r.ic(),r.ic(),r.jc(9,"div",18),r.jc(10,"mat-form-field",19),r.jc(11,"mat-label"),r.Wc(12),r.ic(),r.ec(13,"input",23),r.Uc(14,x,4,1,"mat-error",22),r.ic(),r.ic(),r.jc(15,"div",24),r.jc(16,"mat-form-field",19),r.jc(17,"mat-label"),r.Wc(18,"Amount"),r.ic(),r.ec(19,"input",25),r.Uc(20,_,4,0,"mat-error",22),r.ic(),r.ic(),r.ic(),r.jc(21,"div",26),r.jc(22,"button",27),r.Wc(23,"Submit"),r.ic(),r.jc(24,"button",28),r.uc("click",(function(e){return r.Oc(t),r.yc().onFormReset(e)})),r.Wc(25,"Reset"),r.ic(),r.ic(),r.ic()}if(2&t){const t=r.yc();r.Ec("formGroup",t.setupForm),r.Pb(7),r.Ec("ngForOf",t.setupTypeList),r.Pb(1),r.Ec("ngIf",t.submitted&&t.f.type.hasError("required")),r.Pb(4),r.Xc(t.fieldLabel?t.fieldLabel:"Setup Type"),r.Pb(2),r.Ec("ngIf",t.submitted&&t.f.typename.hasError("required")),r.Pb(1),r.Ec("hidden","Transport Type"!=t.fieldLabel),r.Pb(5),r.Ec("ngIf",t.submitted&&t.f.optionalparam.hasError("required"))}}function P(t,e){if(1&t){const t=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.ic(),r.jc(6,"a",30),r.uc("click",(function(){r.Oc(t);const i=e.$implicit;return r.yc().deleteTransportType(i,"fee")})),r.ic(),r.ic()}if(2&t){const t=e.$implicit,i=e.index;r.Pb(3),r.Yc("",i+1,"."),r.Pb(2),r.Xc(t.feetype)}}function F(t,e){if(1&t){const t=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.ic(),r.jc(6,"a",30),r.uc("click",(function(){r.Oc(t);const i=e.$implicit;return r.yc().deleteTransportType(i,"salary")})),r.ic(),r.ic()}if(2&t){const t=e.$implicit,i=e.index;r.Pb(3),r.Yc("",i+1,"."),r.Pb(2),r.Xc(t.salarytype)}}function C(t,e){if(1&t){const t=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.zc(6,"currency"),r.ic(),r.jc(7,"a",30),r.uc("click",(function(){r.Oc(t);const i=e.$implicit;return r.yc().deleteTransportType(i,"transport")})),r.ic(),r.ic()}if(2&t){const t=e.$implicit,i=e.index;r.Pb(3),r.Yc("",i+1,"."),r.Pb(2),r.Zc("",t.villagename,"\xa0-\xa0",r.Bc(6,3,t.price,"INR"),"")}}function L(t,e){if(1&t){const t=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.ic(),r.jc(6,"a",30),r.uc("click",(function(){r.Oc(t);const i=e.$implicit;return r.yc().deleteTransportType(i,"expanse")})),r.ic(),r.ic()}if(2&t){const t=e.$implicit,i=e.index;r.Pb(3),r.Yc("",i+1,"."),r.Pb(2),r.Xc(t.expensetype)}}let S=(()=>{class t{constructor(t,e,i,s){this._ar=t,this._router=e,this._snackBar=i,this._cs=s,this.setupTypeList=[{value:"villages",label:"Transport"},{value:"expensetypes",label:"Expense Type"},{value:"feetypes",label:"Fee Type"},{value:"salarytypes",label:"Salary Type"}],this.loading=!1,this.showForm=!0,this.submitted=!1,this.error="",this.cardTitle="Add New Class",this.classSectionList=[],this.feeTypeList=[],this.transportList=[],this.expansesTypeList=[],this.salaryTypeList=[],this.expansesList=[],this.horizontalPosition="start",this.verticalPosition="bottom"}ngOnInit(){this.setupForm=new c.j({type:new c.g(null,c.x.required),typename:new c.g([],c.x.required),optionalparam:new c.g(null)}),this.getTransportType(),this.getExpansesType(),this.getFeeType(),this.getSaleType(),this.getExpanses()}getFeeType(){this._cs.getFeeType().subscribe(t=>{t&&(this.feeTypeList=t)})}getExpansesType(){this._cs.getExpanseTypes().subscribe(t=>{t&&(this.expansesTypeList=t)})}getSaleType(){this._cs.getSalaryType().subscribe(t=>{t&&(this.salaryTypeList=t)})}getTransportType(){this._cs.getTransportTypes().subscribe(t=>{t&&(this.transportList=t)})}getExpanses(){this._cs.getExpanses().subscribe(t=>{t&&(this.expansesList=t)})}get f(){return this.setupForm.controls}onSubmit(){if(console.log("onSubmit"),this.submitted=!0,this.setupForm.invalid)return;let t={};this.loading=!0,Object.assign(t,this.setupForm.value),delete t.section,this._cs.saveSetup(t).subscribe(t=>{this.showNotification("Submitted Successfully!!"),"villages"==this.setupForm.value.type?this.getTransportType():"expensetypes"==this.setupForm.value.type?this.getExpansesType():"feetypes"==this.setupForm.value.type?this.getFeeType():"salarytypes"==this.setupForm.value.type?this.getSaleType():this.getExpanses(),this.setupForm.reset(),this.showForm=!1,setTimeout(()=>{this.showForm=!0},50)},t=>{this.error=t,this.loading=!1,console.error(this.error)})}onSetupTypeChange(t){t&&("villages"==t.value?this.fieldLabel="Transport Type":"expensetypes"==t.value?this.fieldLabel="Expense Type":"feetypes"==t.value?this.fieldLabel="Fee Type":"salarytypes"==t.value&&(this.fieldLabel="Salary Type"))}showNotification(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}onFormReset(t){t&&this.setupForm.reset()}deleteTransportType(t,e){confirm("Are you sure u want to delete "+e+" type?")&&this._cs.deleteEvent(t.id,e).subscribe(t=>{"transport"==e?this.getTransportType():"expanse"==e?this.getExpansesType():"fee"==e?this.getFeeType():"salary"==e&&this.getSaleType()})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(n.a),r.dc(n.g),r.dc(a.a),r.dc(d))},t.\u0275cmp=r.Xb({type:t,selectors:[["app-setup"]],decls:47,vars:5,consts:[[1,"list-container"],[1,"page-title"],[1,"row","m-0"],[1,"col-12","s-list","pl-0","pr-0"],[1,"h-100"],[1,"list-head"],[1,""],[1,"form-container"],[1,"form-fields","pt-4"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"s-list","col-12","p-0","pt-3"],[1,"mt-4"],[1,"pt-4"],[1,"row","m-0","pt-2","setup-list"],[1,"col-12","col-sm-6","col-md-3","list"],[1,"p-0","m-0",2,"list-style","none"],[4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"col-6"],["appearance","outline",1,"col-12","p-0"],["placeholder","Enter Type","formControlName","type",3,"selectionChange"],["ngFor","",3,"ngForOf"],[4,"ngIf"],["matInput","","placeholder","Setup Type","formControlName","typename"],[1,"col-6",3,"hidden"],["matInput","","placeholder","Enter Amount","formControlName","optionalparam"],[1,"example-button-row","pt-3","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"value"],["href","javascript:void(0)",1,"fa","fa-trash",2,"color","#f00",3,"click"]],template:function(t,e){1&t&&(r.jc(0,"div",0),r.jc(1,"div",1),r.jc(2,"h3"),r.Wc(3,"Setup"),r.ic(),r.ic(),r.jc(4,"div",2),r.jc(5,"div",3),r.jc(6,"mat-card",4),r.jc(7,"div",5),r.jc(8,"mat-card-title"),r.Wc(9,"Create Setup"),r.ic(),r.ic(),r.jc(10,"mat-card-content",6),r.jc(11,"div",7),r.jc(12,"div",8),r.Uc(13,E,26,7,"form",9),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.jc(14,"div",2),r.jc(15,"div",10),r.jc(16,"mat-card",4),r.jc(17,"div",5),r.jc(18,"mat-card-title"),r.Wc(19,"Setup List"),r.ic(),r.ec(20,"mat-divider",11),r.ic(),r.jc(21,"mat-card-content",12),r.jc(22,"div",13),r.jc(23,"div",14),r.jc(24,"h3"),r.jc(25,"strong"),r.Wc(26,"Fee Type List"),r.ic(),r.ic(),r.jc(27,"ul",15),r.Uc(28,P,7,2,"li",16),r.ic(),r.ic(),r.jc(29,"div",14),r.jc(30,"h3"),r.jc(31,"strong"),r.Wc(32,"Salary Type List"),r.ic(),r.ic(),r.jc(33,"ul",15),r.Uc(34,F,7,2,"li",16),r.ic(),r.ic(),r.jc(35,"div",14),r.jc(36,"h3"),r.jc(37,"strong"),r.Wc(38,"Transport Type List"),r.ic(),r.ic(),r.jc(39,"ul",15),r.Uc(40,C,8,6,"li",16),r.ic(),r.ic(),r.jc(41,"div",14),r.jc(42,"h3"),r.jc(43,"strong"),r.Wc(44,"Expense Type List"),r.ic(),r.ic(),r.jc(45,"ul",15),r.Uc(46,L,7,2,"li",16),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic()),2&t&&(r.Pb(13),r.Ec("ngIf",e.showForm),r.Pb(15),r.Ec("ngForOf",e.feeTypeList),r.Pb(6),r.Ec("ngForOf",e.salaryTypeList),r.Pb(6),r.Ec("ngForOf",e.transportList),r.Pb(6),r.Ec("ngForOf",e.expansesTypeList))},directives:[y.a,y.d,y.b,s.n,g.a,s.m,c.z,c.r,c.k,m.c,m.f,f.a,c.q,c.i,b.b,c.c,j.a,T.n,m.b],pipes:[s.d],styles:[".setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{border-right:1px solid #ccc;margin-bottom:20px}.setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]:last-child{border-right:none!important}@media screen and (max-width:991px){.setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]:nth-child(2){border-right:none!important}}@media screen and (max-width:576px){.setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{border-right:none!important}}.setup-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:10px}.setup-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:15px}.setup-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){flex:1}"]}),t})();var w=i("1kSV"),W=i("jAig");const k=[{path:"",component:S}];let U=(()=>{class t{}return t.\u0275mod=r.bc({type:t}),t.\u0275inj=r.ac({factory:function(e){return new(e||t)},imports:[[s.c,c.m,n.i.forChild(k),c.w,w.d,W.a]]}),t})()}}]);