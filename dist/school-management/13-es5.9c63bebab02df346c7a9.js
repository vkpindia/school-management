function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var c=0;c<e.length;c++){var i=e[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,c){return e&&_defineProperties(t.prototype,e),c&&_defineProperties(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{eK3z:function(t,e,c){"use strict";c.r(e),c.d(e,"AttendanceModule",(function(){return kt}));var i,n=c("ofXK"),a=c("tyNb"),s=c("M9IT"),o=c("Dh3D"),r=c("+0xr"),l=c("0EQZ"),d=c("3Pt+"),u=c("fXoL"),h=c("tk/3"),f=c("z6cu"),m=c("lJxs"),p=c("JIr8"),g=c("AytR"),b=((i=function(){function t(e){_classCallCheck(this,t),this._http=e,this._apiUrl=g.a.apiBaseUrl,this.httpOptions={headers:new h.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}),crossDomain:!0}}return _createClass(t,[{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Back-end returned code ".concat(t.status,", body was: ")+t.error),Object(f.a)("Something bad happened; please try again later.")}},{key:"extractData",value:function(t){return t||{}}},{key:"getStudentRecord",value:function(t,e){return this._http.get(this._apiUrl+"/student/GetStudentSearch?classid=".concat(t,"&sectionid=").concat(e)).pipe(Object(m.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getStudentAttendance",value:function(t,e){return this._http.get(this._apiUrl+"attandance/getstudentsattandancebyclasssection?classid=".concat(t,"&sectionid=").concat(e)).pipe(Object(m.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getClassSection",value:function(){return this._http.get(this._apiUrl+"setup/getclassesandsections").pipe(Object(m.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getSections",value:function(t){return this._http.get("".concat(this._apiUrl,"setup/getsectionsforclass?id=").concat(t)).pipe(Object(m.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"saveAttendance",value:function(t){return this._http.post(this._apiUrl+"attandance/addstudentatendence",t).pipe(Object(m.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"updateAttendance",value:function(t){return this._http.put(this._apiUrl+"attandance/updatestudentatendence",t).pipe(Object(m.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"deleteAttendance",value:function(t){return this._http.delete(this._apiUrl+"attandance/deletestudentatendence?id="+t).pipe(Object(m.a)(this.extractData),Object(p.a)(this.handleError))}}]),t}()).\u0275fac=function(t){return new(t||i)(u.rc(h.b))},i.\u0275prov=u.Zb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),v=c("dNgK"),j=c("Wp6s"),S=c("kmnG"),y=c("d3UM"),k=c("qFsG"),w=c("z17N"),C=c("NFeN"),_=c("FKr1"),D=c("bTqV"),L=c("bSwM");function E(t,e){if(1&t&&(u.jc(0,"mat-option",36),u.Wc(1),u.ic()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Xc(c.classname)}}function P(t,e){1&t&&(u.jc(0,"mat-error"),u.Wc(1," Class is "),u.jc(2,"strong"),u.Wc(3,"required"),u.ic(),u.ic())}function I(t,e){if(1&t&&(u.jc(0,"mat-option",36),u.Wc(1),u.ic()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Xc(c.sectionname)}}function U(t,e){1&t&&(u.jc(0,"mat-error"),u.Wc(1," Section is "),u.jc(2,"strong"),u.Wc(3,"required"),u.ic(),u.ic())}function W(t,e){1&t&&(u.jc(0,"mat-error"),u.Wc(1," Date-time is "),u.jc(2,"strong"),u.Wc(3,"required"),u.ic(),u.ic())}function A(t,e){1&t&&(u.jc(0,"mat-error"),u.Wc(1," Attendace_part is "),u.jc(2,"strong"),u.Wc(3,"required"),u.ic(),u.ic())}function O(t,e){if(1&t){var c=u.kc();u.jc(0,"th",37),u.jc(1,"mat-checkbox",38),u.uc("change",(function(t){u.Oc(c);var e=u.yc(2);return t?e.masterToggle():null})),u.ic(),u.ic()}if(2&t){var i=u.yc(2);u.Pb(1),u.Ec("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("aria-label",i.checkboxLabel())}}function F(t,e){if(1&t){var c=u.kc();u.jc(0,"td",39),u.jc(1,"mat-checkbox",40),u.uc("click",(function(t){return u.Oc(c),t.stopPropagation()}))("change",(function(t){u.Oc(c);var i=e.$implicit,n=u.yc(2);return t&&n.selection.toggle(i),n.onSelectionToggle(i)})),u.ic(),u.ic()}if(2&t){var i=e.$implicit,n=u.yc(2);u.Pb(1),u.Ec("checked",n.selection.isSelected(i))("aria-label",n.checkboxLabel(i))("checked",!0)}}function x(t,e){1&t&&(u.jc(0,"th",41),u.Wc(1,"Student Name"),u.ic())}function T(t,e){if(1&t&&(u.jc(0,"span"),u.Wc(1),u.ic()),2&t){var c=u.yc().$implicit;u.Pb(1),u.Xc(c.name)}}function R(t,e){if(1&t&&(u.jc(0,"td",39),u.Uc(1,T,2,1,"span",42),u.ic()),2&t){var c=e.$implicit;u.yc(2);var i=u.Mc(11);u.Pb(1),u.Ec("ngIf",c.name)("ngIfElse",i)}}function $(t,e){1&t&&u.ec(0,"tr",43)}function M(t,e){1&t&&u.ec(0,"tr",44)}function q(t,e){if(1&t){var c=u.kc();u.jc(0,"button",45),u.uc("click",(function(t){return u.Oc(c),u.yc(2).onFormReset(t)})),u.Wc(1,"Reset"),u.ic()}}var N=function(){return[5,10,25,100]};function z(t,e){if(1&t){var c=u.kc();u.jc(0,"form",6),u.uc("ngSubmit",(function(){return u.Oc(c),u.yc().onSubmit()})),u.jc(1,"div",7),u.jc(2,"div",8),u.jc(3,"mat-form-field",9),u.jc(4,"mat-label"),u.Wc(5,"Class"),u.ic(),u.jc(6,"mat-select",10),u.uc("selectionChange",(function(t){return u.Oc(c),u.yc().onClassChange(t)})),u.Uc(7,E,2,2,"mat-option",11),u.ic(),u.Uc(8,P,4,0,"mat-error",12),u.ic(),u.ic(),u.jc(9,"div",8),u.jc(10,"mat-form-field",9),u.jc(11,"mat-label"),u.Wc(12,"Section"),u.ic(),u.jc(13,"mat-select",13),u.uc("selectionChange",(function(t){return u.Oc(c),u.yc().onSectionChange(t)})),u.Uc(14,I,2,2,"mat-option",11),u.ic(),u.Uc(15,U,4,0,"mat-error",12),u.ic(),u.ic(),u.jc(16,"div",8),u.jc(17,"mat-form-field",14),u.jc(18,"mat-label"),u.Wc(19,"Select Date"),u.ic(),u.ec(20,"input",15),u.jc(21,"mat-icon",16),u.Wc(22,"date_range"),u.ic(),u.ec(23,"owl-date-time",null,17),u.Uc(25,W,4,0,"mat-error",12),u.ic(),u.ic(),u.jc(26,"div",8),u.jc(27,"mat-form-field",9),u.jc(28,"mat-label"),u.Wc(29,"Select shift"),u.ic(),u.jc(30,"mat-select",18),u.jc(31,"mat-option",19),u.Wc(32,"First shift"),u.ic(),u.jc(33,"mat-option",20),u.Wc(34,"Second shift"),u.ic(),u.ic(),u.Uc(35,A,4,0,"mat-error",12),u.ic(),u.ic(),u.jc(36,"div",21),u.jc(37,"div",22),u.jc(38,"div",23),u.jc(39,"h3"),u.jc(40,"strong"),u.Wc(41,"Student List"),u.ic(),u.ic(),u.ic(),u.jc(42,"table",24),u.hc(43,25),u.Uc(44,O,2,3,"th",26),u.Uc(45,F,2,3,"td",27),u.gc(),u.hc(46,28),u.Uc(47,x,2,0,"th",29),u.Uc(48,R,2,2,"td",27),u.gc(),u.Uc(49,$,1,0,"tr",30),u.Uc(50,M,1,0,"tr",31),u.ic(),u.ec(51,"mat-paginator",32),u.ic(),u.ic(),u.ic(),u.jc(52,"div",33),u.jc(53,"button",34),u.Wc(54,"Submit"),u.ic(),u.Uc(55,q,2,0,"button",35),u.ic(),u.ic()}if(2&t){var i=u.Mc(24),n=u.yc();u.Ec("formGroup",n.attendanceForm),u.Pb(7),u.Ec("ngForOf",n.classList),u.Pb(1),u.Ec("ngIf",n.submitted&&n.f.classid.hasError("required")),u.Pb(6),u.Ec("ngForOf",n.sectionList),u.Pb(1),u.Ec("ngIf",n.submitted&&n.f.sectionid.hasError("required")),u.Pb(5),u.Ec("owlDateTime",i)("owlDateTimeTrigger",i),u.Pb(1),u.Ec("owlDateTimeTrigger",i),u.Pb(4),u.Ec("ngIf",n.submitted&&n.f.date.hasError("required")),u.Pb(10),u.Ec("ngIf",n.submitted&&n.f.attendace_part.hasError("required")),u.Pb(7),u.Ec("dataSource",n.studentList),u.Pb(7),u.Ec("matHeaderRowDef",n.displayedColumns),u.Pb(1),u.Ec("matRowDefColumns",n.displayedColumns),u.Pb(1),u.Ec("length",n.recordLength)("pageSize",10)("pageSizeOptions",u.Hc(17,N)),u.Pb(4),u.Ec("ngIf",!n.showButtons)}}function H(t,e){}var X,B=((X=function(){function t(e,c,i,n,a){_classCallCheck(this,t),this._cs=e,this._router=c,this._activatedRout=i,this._date=n,this._snackBar=a,this.displayedColumns=["select","name"],this.filterData="",this.isLoading=!0,this.classList=[],this.sectionList=[],this.classID=new d.g,this.sectionID=new d.g,this.shift=new d.g,this.absentStudentsID=[],this.selection=new l.c(!0,this.studentList?this.studentList.data:[]),this.loading=!1,this.submitted=!1,this.isSelected=!0,this.isFormActive=!0,this.error="",this.cardTitle="Add New Students",this.showButtons=!1,this.buttonLabel="Submit",this.showForm=!0,this.disabled=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.color="primary"}return _createClass(t,[{key:"ngOnInit",value:function(){this.attendanceForm=new d.j({classid:new d.g(null,d.x.required),sectionid:new d.g(null,d.x.required),attendace_part:new d.g(null,d.x.required),date:new d.g(new Date,d.x.required)}),this.isAllSelected(),this.getClassSection(),this.getStudentAttendanceList()}},{key:"getClassSection",value:function(){var t=this;this._cs.getClassSection().subscribe((function(e){e&&(t.classList=e)}))}},{key:"onClassChange",value:function(t){var e=this;t&&this._cs.getSections(t.value).subscribe((function(t){t&&(e.sectionList=t)}))}},{key:"getStudentList",value:function(){var t=this;this.attendanceForm.value.classid&&this.attendanceForm.value.sectionid&&this._cs.getStudentRecord(this.attendanceForm.value.classid,this.attendanceForm.value.sectionid).subscribe((function(e){console.log("student Record",e),e&&(t.recordLength=e.length,t.studentList=new r.k(e),t.selection=new l.c(!0,t.studentList.data),t.studentList.sort=t.TSort,t.studentList.paginator=t.paginator,t.isLoading=!1)}))}},{key:"getStudentAttendanceList",value:function(){this._cs.getStudentAttendance(1,2).subscribe((function(t){console.log("student Record",t)}))}},{key:"onSectionChange",value:function(t){t&&this.getStudentList()}},{key:"showNotification",value:function(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}},{key:"onFormReset",value:function(t){t&&this.attendanceForm&&this.attendanceForm.reset()}},{key:"isAllSelected",value:function(){if(this.studentList)return this.selection.selected.length===this.studentList.data.length}},{key:"onSelectionToggle",value:function(t){0==this.selection.isSelected(t)&&this.absentStudentsID.push(t.id),console.log("this.selection.isSelected(row)",this.selection.isSelected(t)),console.log("row",t)}},{key:"masterToggle",value:function(){var t=this;this.isAllSelected()?this.selection.clear():this.studentList.data.forEach((function(e){return t.selection.select(e)})),console.log("this.studentList.data",this.selection.selected)}},{key:"checkboxLabel",value:function(t){return t?"".concat(this.selection.isSelected(t)?"deselect":"select"," row ").concat(t.position+1):(this.isAllSelected()?"select":"deselect")+" all"}},{key:"applyFilter",value:function(t){this.studentList.filter=t.target.value.trim().toLowerCase(),this.studentList.paginator&&this.studentList.paginator.firstPage()}},{key:"onSubmit",value:function(){var t=this;if(this.submitted=!0,!this.attendanceForm.invalid){this.attendanceForm.value&&(this.attendanceForm.value.startdate=this._date.transform(this.attendanceForm.value.date,"MM/dd/yyyy h:mm a"));var e={};Object.assign(e,this.attendanceForm.value),"shift_1"===e.attendace_part?(e.part1=!0,e.part2=!1,e.absent_student_id1=this.absentStudentsID.toString(),e.absent_student_id2=null):"shift_2"===this.attendanceForm.value.attendace_part&&(e.part2=!0,e.part1=!1,e.absent_student_id2=this.absentStudentsID.toString(),e.absent_student_id1=null),delete e.attendace_part,this.loading=!0,this._cs.saveAttendance(e).subscribe((function(e){t.showNotification("Submitted Successfully!!"),t.attendanceForm.reset(),t.isFormActive=!1,setTimeout((function(){return t.isFormActive=!0}),0),t.getStudentList(),t.showForm=!1,t.studentList=new r.k([]),setTimeout((function(){t.showForm=!0}),50)}),(function(e){t.error=e,t.loading=!1,console.error(t.error)}))}}},{key:"f",get:function(){return this.attendanceForm.controls}}]),t}()).\u0275fac=function(t){return new(t||X)(u.dc(b),u.dc(a.g),u.dc(a.a),u.dc(n.f),u.dc(v.a))},X.\u0275cmp=u.Xb({type:X,selectors:[["app-attendance"]],viewQuery:function(t,e){var c;1&t&&(u.Sc(s.a,!0),u.Sc(o.a,!0)),2&t&&(u.Lc(c=u.vc())&&(e.paginator=c.first),u.Lc(c=u.vc())&&(e.TSort=c.first))},features:[u.Ob([n.f])],decls:12,vars:1,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[3,"formGroup","ngSubmit",4,"ngIf"],["dash",""],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-4"],["appearance","outline",1,"p-0"],["placeholder","Select Class","formControlName","classid",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Section","formControlName","sectionid",3,"selectionChange"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Date Time","formControlName","date",3,"owlDateTime","owlDateTimeTrigger"],["matSuffix","",2,"cursor","pointer",3,"owlDateTimeTrigger"],["dt2",""],["placeholder","Select shift","formControlName","attendace_part"],["value","shift_1"],["value","shift_2"],[1,"list-container","col-12"],[1,"s-list","studentList","p-0"],[1,"list-head"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],[1,"example-button-row","pt-3","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","class","ml-3 mat-secondary",3,"click",4,"ngIf"],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["mat-header-row",""],["mat-row",""],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"]],template:function(t,e){1&t&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"h3"),u.Wc(3,"Attendance"),u.ic(),u.ic(),u.jc(4,"div",2),u.jc(5,"mat-card"),u.jc(6,"mat-card-title"),u.Wc(7,"Student Attendance"),u.ic(),u.jc(8,"mat-card-content",3),u.Uc(9,z,56,18,"form",4),u.ic(),u.ic(),u.ic(),u.Uc(10,H,0,0,"ng-template",null,5,u.Vc),u.ic()),2&t&&(u.Pb(9),u.Ec("ngIf",e.isFormActive))},directives:[j.a,j.d,j.b,n.n,d.z,d.r,d.k,S.c,S.f,y.a,d.q,d.i,n.m,k.b,d.c,w.b,w.d,C.a,S.g,w.a,_.n,r.j,o.a,r.c,r.e,r.b,r.g,r.i,s.a,D.a,S.b,r.d,L.a,r.a,o.b,r.f,r.h],styles:[""]}),X),V=c("1kSV");function G(t,e){if(1&t&&(u.jc(0,"mat-option",31),u.Wc(1),u.ic()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Xc(c.classname)}}function J(t,e){if(1&t&&(u.jc(0,"mat-option",31),u.Wc(1),u.ic()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Xc(c.sectionname)}}function K(t,e){if(1&t){var c=u.kc();u.jc(0,"th",32),u.jc(1,"mat-checkbox",33),u.uc("change",(function(t){u.Oc(c);var e=u.yc();return t?e.masterToggle():null})),u.ic(),u.ic()}if(2&t){var i=u.yc();u.Pb(1),u.Ec("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("aria-label",i.checkboxLabel())}}function Q(t,e){if(1&t){var c=u.kc();u.jc(0,"td",34),u.jc(1,"mat-checkbox",35),u.uc("click",(function(t){return u.Oc(c),t.stopPropagation()}))("change",(function(t){u.Oc(c);var i=e.$implicit,n=u.yc();return t?n.selection.toggle(i):null})),u.ic(),u.ic()}if(2&t){var i=e.$implicit,n=u.yc();u.Pb(1),u.Ec("checked",n.selection.isSelected(i))("aria-label",n.checkboxLabel(i))}}function Z(t,e){1&t&&(u.jc(0,"th",36),u.Wc(1,"Absent Students"),u.ic())}function Y(t,e){if(1&t&&(u.jc(0,"span"),u.Wc(1),u.ic()),2&t){var c=u.yc().$implicit;u.Pb(1),u.Xc(c.absent_student_id1)}}function tt(t,e){if(1&t&&(u.jc(0,"td",34),u.Uc(1,Y,2,1,"span",37),u.ic()),2&t){var c=e.$implicit;u.yc();var i=u.Mc(56);u.Pb(1),u.Ec("ngIf",c.absent_student_id1)("ngIfElse",i)}}function et(t,e){1&t&&(u.jc(0,"th",36),u.Wc(1,"Class Name"),u.ic())}function ct(t,e){if(1&t&&(u.jc(0,"span"),u.Wc(1),u.ic()),2&t){var c=u.yc().$implicit;u.Pb(1),u.Xc(c.classid)}}function it(t,e){if(1&t&&(u.jc(0,"td",34),u.Uc(1,ct,2,1,"span",37),u.ic()),2&t){var c=e.$implicit;u.yc();var i=u.Mc(56);u.Pb(1),u.Ec("ngIf",c.classid)("ngIfElse",i)}}function nt(t,e){1&t&&(u.jc(0,"th",36),u.Wc(1," Section Name "),u.ic())}function at(t,e){if(1&t&&(u.jc(0,"span"),u.Wc(1),u.ic()),2&t){var c=u.yc().$implicit;u.Pb(1),u.Xc(c.sectionid)}}function st(t,e){if(1&t&&(u.jc(0,"td",34),u.Uc(1,at,2,1,"span",37),u.ic()),2&t){var c=e.$implicit;u.yc();var i=u.Mc(56);u.Pb(1),u.Ec("ngIf",c.sectionid)("ngIfElse",i)}}function ot(t,e){1&t&&(u.jc(0,"th",36),u.Wc(1," Date "),u.ic())}function rt(t,e){if(1&t&&(u.jc(0,"span",39),u.Wc(1),u.zc(2,"date"),u.ic()),2&t){var c=u.yc().$implicit;u.Pb(1),u.Yc(" ",u.Bc(2,1,c.date,"MM/dd/yyyy")," ")}}function lt(t,e){if(1&t&&(u.jc(0,"td",34),u.Uc(1,rt,3,4,"span",38),u.ic()),2&t){var c=e.$implicit;u.yc();var i=u.Mc(56);u.Pb(1),u.Ec("ngIf",c.date)("ngIfElse",i)}}function dt(t,e){1&t&&u.ec(0,"th",40)}function ut(t,e){if(1&t){var c=u.kc();u.jc(0,"td",34),u.jc(1,"div",41),u.jc(2,"div",42),u.ec(3,"span",43),u.jc(4,"div",44),u.jc(5,"button",45),u.uc("click",(function(){u.Oc(c);var t=e.$implicit;return u.yc().onDelete(t)})),u.ec(6,"span",46),u.Wc(7,"\xa0\xa0\xa0Delete"),u.ic(),u.ic(),u.ic(),u.ic(),u.ic()}}function ht(t,e){1&t&&u.ec(0,"tr",47)}function ft(t,e){1&t&&u.ec(0,"tr",48)}function mt(t,e){1&t&&u.Wc(0,"---")}var pt,gt,bt,vt=function(){return[5,10,25,100]},jt=[{path:"",component:B},{path:"list",component:(pt=function(){function t(e,c,i){_classCallCheck(this,t),this._cs=e,this._router=c,this._activatedRout=i,this.displayedColumns=["select","absent_student_id1","classid","sectionid","date","actions"],this.filterData="",this.isLoading=!0,this.selection=new l.c(!0,[]),this.classID=new d.g,this.sectionID=new d.g,this.classList=[],this.sectionList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.getClassSection()}},{key:"getAttendanceList",value:function(){var t=this;this._cs.getStudentAttendance(this.classID.value,this.sectionID.value).subscribe((function(e){e&&(t.recordLength=e.length,t.attendanceList=new r.k(e),t.attendanceList.sort=t.TSort,t.attendanceList.paginator=t.paginator),t.isLoading=!1}))}},{key:"getClassSection",value:function(){var t=this;this._cs.getClassSection().subscribe((function(e){e&&(t.classList=e)}))}},{key:"onClassChange",value:function(t){var e=this;t&&this._cs.getSections(t.value).subscribe((function(t){t&&(e.sectionList=t)}))}},{key:"isAllSelected",value:function(){if(this.classID.value&&this.sectionID.value&&this.attendanceList)return this.selection.selected.length===this.attendanceList.data.length}},{key:"masterToggle",value:function(){var t=this;this.classID.value&&this.sectionID.value&&(this.isAllSelected()?this.selection.clear():this.attendanceList.data.forEach((function(e){return t.selection.select(e)})))}},{key:"checkboxLabel",value:function(t){return t?"".concat(this.selection.isSelected(t)?"deselect":"select"," row ").concat(t.position+1):(this.isAllSelected()?"select":"deselect")+" all"}},{key:"applyFilter",value:function(t){this.attendanceList.filter=t.target.value.trim().toLowerCase(),this.attendanceList.paginator&&this.attendanceList.paginator.firstPage()}},{key:"onDelete",value:function(t){var e=this;console.log("row",t),confirm("Are sure you want to delete this attendance record?")&&this._cs.deleteAttendance(t.id).subscribe((function(t){e.getAttendanceList()}))}}]),t}(),pt.\u0275fac=function(t){return new(t||pt)(u.dc(b),u.dc(a.g),u.dc(a.a))},pt.\u0275cmp=u.Xb({type:pt,selectors:[["app-attendance-list"]],viewQuery:function(t,e){var c;1&t&&(u.Sc(s.a,!0),u.Sc(o.a,!0)),2&t&&(u.Lc(c=u.vc())&&(e.paginator=c.first),u.Lc(c=u.vc())&&(e.TSort=c.first))},decls:57,vars:11,consts:[[1,"list-container"],[1,"page-title"],[1,"s-list"],[1,"row"],[1,"col-5"],["appearance","outline",1,"p-0","w-100"],["placeholder","Select Class",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Section",3,"formControl"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"list-head"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"keyup"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","absent_student_id1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","classid"],["matColumnDef","sectionid"],["matColumnDef","date"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["dash",""],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.jc(0,"div",0),u.jc(1,"div",1),u.jc(2,"h3"),u.Wc(3,"Attendance"),u.ic(),u.ic(),u.jc(4,"div",2),u.jc(5,"div",3),u.jc(6,"div",4),u.jc(7,"mat-form-field",5),u.jc(8,"mat-label"),u.Wc(9,"Class"),u.ic(),u.jc(10,"mat-select",6),u.uc("selectionChange",(function(t){return e.onClassChange(t)})),u.Uc(11,G,2,2,"mat-option",7),u.ic(),u.ic(),u.ic(),u.jc(12,"div",4),u.jc(13,"mat-form-field",5),u.jc(14,"mat-label"),u.Wc(15,"Section"),u.ic(),u.jc(16,"mat-select",8),u.Uc(17,J,2,2,"mat-option",7),u.ic(),u.ic(),u.ic(),u.jc(18,"div",9),u.jc(19,"button",10),u.uc("click",(function(){return e.getAttendanceList()})),u.Wc(20,"Search"),u.ic(),u.ic(),u.ic(),u.jc(21,"mat-card"),u.jc(22,"div",11),u.jc(23,"mat-card-title"),u.Wc(24,"Student Attendance"),u.ic(),u.jc(25,"div"),u.jc(26,"mat-form-field",12),u.jc(27,"mat-label"),u.Wc(28,"Filter"),u.ic(),u.jc(29,"input",13),u.uc("keyup",(function(t){return e.applyFilter(t)})),u.ic(),u.jc(30,"mat-icon",14),u.Wc(31,"search"),u.ic(),u.ic(),u.ic(),u.ic(),u.jc(32,"mat-card-content",15),u.jc(33,"table",16),u.hc(34,17),u.Uc(35,K,2,3,"th",18),u.Uc(36,Q,2,2,"td",19),u.gc(),u.hc(37,20),u.Uc(38,Z,2,0,"th",21),u.Uc(39,tt,2,2,"td",19),u.gc(),u.hc(40,22),u.Uc(41,et,2,0,"th",21),u.Uc(42,it,2,2,"td",19),u.gc(),u.hc(43,23),u.Uc(44,nt,2,0,"th",21),u.Uc(45,st,2,2,"td",19),u.gc(),u.hc(46,24),u.Uc(47,ot,2,0,"th",21),u.Uc(48,lt,2,2,"td",19),u.gc(),u.hc(49,25),u.Uc(50,dt,1,0,"th",26),u.Uc(51,ut,8,0,"td",19),u.gc(),u.Uc(52,ht,1,0,"tr",27),u.Uc(53,ft,1,0,"tr",28),u.ic(),u.ec(54,"mat-paginator",29),u.ic(),u.ic(),u.ic(),u.ic(),u.Uc(55,mt,1,0,"ng-template",null,30,u.Vc)),2&t&&(u.Pb(10),u.Ec("formControl",e.classID),u.Pb(1),u.Ec("ngForOf",e.classList),u.Pb(5),u.Ec("formControl",e.sectionID),u.Pb(1),u.Ec("ngForOf",e.sectionList),u.Pb(16),u.Ec("dataSource",e.attendanceList),u.Pb(19),u.Ec("matHeaderRowDef",e.displayedColumns),u.Pb(1),u.Ec("matRowDefColumns",e.displayedColumns),u.Pb(1),u.Ec("length",e.recordLength)("pageSize",10)("pageSizeOptions",u.Hc(10,vt)))},directives:[S.c,S.f,y.a,d.q,d.h,n.m,D.a,j.a,j.d,k.b,C.a,S.g,j.b,r.j,o.a,r.c,r.e,r.b,r.g,r.i,s.a,_.n,r.d,L.a,r.a,o.b,n.n,V.a,V.e,V.c,V.b,r.f,r.h],pipes:[n.f],styles:[""]}),pt)}],St=((gt=function t(){_classCallCheck(this,t)}).\u0275mod=u.bc({type:gt}),gt.\u0275inj=u.ac({factory:function(t){return new(t||gt)},imports:[[a.i.forChild(jt)],a.i]}),gt),yt=c("jAig"),kt=((bt=function t(){_classCallCheck(this,t)}).\u0275mod=u.bc({type:bt}),bt.\u0275inj=u.ac({factory:function(t){return new(t||bt)},imports:[[n.c,St,d.m,d.w,V.d,yt.a]]}),bt)}}]);