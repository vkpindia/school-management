(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cFL4:function(t,e,r){"use strict";r.r(e),r.d(e,"OnlineExaminationModule",(function(){return ot}));var c=r("ofXK"),i=r("tyNb"),a=r("3Pt+"),s=r("FtGj"),n=r("fXoL"),o=r("dNgK"),m=r("tk/3"),l=r("z6cu"),u=r("lJxs"),d=r("JIr8"),h=r("AytR");let p=(()=>{class t{constructor(t){this._http=t,this._apiUrl=h.a.apiBaseUrl,this.httpOptions={headers:new m.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}),crossDomain:!0}}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Back-end returned code ${t.status}, body was: `+t.error),Object(l.a)("Something bad happened; please try again later.")}extractData(t){return t||{}}getExams(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/Getexamsdropdown?classid=${t}&sectionid=${e}`).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}getExamsDropdownForStudent(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getexamsdropdownforstudents?studentid="+t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}getExamsByStudentID(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/GetexamsBystudentid?dateTime=${t}&studentid=${e}`).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}getQuestionByExamID(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getquestonsbyexamid?examid="+t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}getClassSection(){return this._http.get(this._apiUrl+"setup/getclassesandsections").pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}getSections(t){return this._http.get(`${this._apiUrl}setup/getsectionsforclass?id=${t}`).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}addExamResults(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddExamResults",t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}addExamSetup(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddOnlineExam",t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}addExamQustions(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddQuestions",t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}getTotalResultsByStudentID(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/GetTotalresultsbystudentid?examid=${t}&studentid=${e}`).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}updateExamResults(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateExamResults",t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}updateExamSetup(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateOnlineExam",t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}updateExamQuestions(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateQuestions",t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}deleteResults(t){return this._http.delete(this._apiUrl+"attandance/DeleteResult?id="+t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}deleteQuestions(t){return this._http.delete(this._apiUrl+"attandance/DeleteQuestion?id="+t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}deleteExamSetup(t){return this._http.delete(this._apiUrl+"attandance/DeleteExam?id="+t).pipe(Object(u.a)(this.extractData),Object(d.a)(this.handleError))}}return t.\u0275fac=function(e){return new(e||t)(n.rc(m.b))},t.\u0275prov=n.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=r("Wp6s"),f=r("wZkO"),b=r("NFeN"),j=r("kmnG"),x=r("d3UM"),E=r("qFsG"),w=r("iadO"),q=r("bTqV"),I=r("FKr1");function O(t,e){1&t&&(n.jc(0,"mat-icon",7),n.Wc(1,"wc"),n.ic(),n.Wc(2," Exam Setup "))}function S(t,e){if(1&t&&(n.jc(0,"mat-option",30),n.Wc(1),n.ic()),2&t){const t=e.$implicit;n.Ec("value",t.id),n.Pb(1),n.Xc(t.classname)}}function W(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Class is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function v(t,e){if(1&t&&(n.jc(0,"mat-option",30),n.Wc(1),n.ic()),2&t){const t=e.$implicit;n.Ec("value",t.id),n.Pb(1),n.Yc("",t.sectionname," ")}}function y(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Section is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function F(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Exam name is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function C(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Exam date is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function U(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Subject is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function _(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Teacher name is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function P(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Allotted time is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function k(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Total questions is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function D(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Total marks is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function A(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Comments is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function N(t,e){if(1&t){const t=n.kc();n.jc(0,"form",8),n.uc("ngSubmit",(function(){return n.Oc(t),n.yc().onSubmit("setup")})),n.jc(1,"div",9),n.jc(2,"div",10),n.jc(3,"mat-form-field",11),n.jc(4,"mat-label"),n.Wc(5,"Class"),n.ic(),n.jc(6,"mat-select",12),n.uc("selectionChange",(function(e){return n.Oc(t),n.yc().onClassChange(e)})),n.Uc(7,S,2,2,"mat-option",13),n.ic(),n.Uc(8,W,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(9,"div",10),n.jc(10,"mat-form-field",11),n.jc(11,"mat-label"),n.Wc(12,"Section"),n.ic(),n.jc(13,"mat-select",15),n.Uc(14,v,2,2,"mat-option",13),n.ic(),n.Uc(15,y,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(16,"div",10),n.jc(17,"mat-form-field",11),n.jc(18,"mat-label"),n.Wc(19,"Exam Name"),n.ic(),n.ec(20,"input",16),n.Uc(21,F,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(22,"div",10),n.jc(23,"mat-form-field",11),n.jc(24,"mat-label"),n.Wc(25,"Date of Exam"),n.ic(),n.ec(26,"input",17),n.ec(27,"mat-datepicker-toggle",18),n.ec(28,"mat-datepicker",null,19),n.Uc(30,C,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(31,"div",10),n.jc(32,"mat-form-field",11),n.jc(33,"mat-label"),n.Wc(34,"Subject"),n.ic(),n.ec(35,"input",20),n.Uc(36,U,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(37,"div",10),n.jc(38,"mat-form-field",11),n.jc(39,"mat-label"),n.Wc(40,"Teacher Name"),n.ic(),n.ec(41,"input",21),n.Uc(42,_,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(43,"div",10),n.jc(44,"mat-form-field",11),n.jc(45,"mat-label"),n.Wc(46,"Allotted Time"),n.ic(),n.ec(47,"input",22),n.Uc(48,P,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(49,"div",10),n.jc(50,"mat-form-field",11),n.jc(51,"mat-label"),n.Wc(52,"Total Questions"),n.ic(),n.ec(53,"input",23),n.Uc(54,k,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(55,"div",10),n.jc(56,"mat-form-field",11),n.jc(57,"mat-label"),n.Wc(58,"Total Marks"),n.ic(),n.ec(59,"input",24),n.Uc(60,D,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(61,"div",25),n.jc(62,"mat-form-field",11),n.jc(63,"mat-label"),n.Wc(64,"Comments"),n.ic(),n.ec(65,"textarea",26),n.Uc(66,A,4,0,"mat-error",14),n.ic(),n.ic(),n.ic(),n.jc(67,"div",27),n.jc(68,"button",28),n.Wc(69,"Next"),n.ic(),n.jc(70,"button",29),n.uc("click",(function(e){return n.Oc(t),n.yc().onFormReset(e,"setup")})),n.Wc(71,"Reset"),n.ic(),n.ic(),n.ic()}if(2&t){const t=n.Mc(29),e=n.yc();n.Ec("formGroup",e.createExamForm),n.Pb(7),n.Ec("ngForOf",e.classList),n.Pb(1),n.Ec("ngIf",e.submitted&&e.ef.classid.hasError("required")),n.Pb(6),n.Ec("ngForOf",e.sectionList),n.Pb(1),n.Ec("ngIf",e.submitted&&e.ef.sectionid.hasError("required")),n.Pb(6),n.Ec("ngIf",e.submitted&&e.ef.examname.hasError("required")),n.Pb(5),n.Ec("matDatepicker",t),n.Pb(1),n.Ec("for",t),n.Pb(3),n.Ec("ngIf",e.submitted&&e.ef.examdate.hasError("required")),n.Pb(6),n.Ec("ngIf",e.submitted&&e.ef.subjectame.hasError("required")),n.Pb(6),n.Ec("ngIf",e.submitted&&e.ef.teachername.hasError("required")),n.Pb(6),n.Ec("ngIf",e.submitted&&e.ef.timeallotted.hasError("required")),n.Pb(6),n.Ec("ngIf",e.submitted&&e.ef.totalquestions.hasError("required")),n.Pb(6),n.Ec("ngIf",e.submitted&&e.ef.totalmarks.hasError("required")),n.Pb(6),n.Ec("ngIf",e.submitted&&e.ef.teachersnotes.hasError("required"))}}function Q(t,e){1&t&&(n.jc(0,"mat-icon",31),n.Wc(1,"layers"),n.ic(),n.Wc(2," Create Questions "))}function T(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Question is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function L(t,e){if(1&t&&n.ec(0,"img",48),2&t){const t=n.yc(3);n.Ec("src",t.qImageSrc,n.Pc)}}function R(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," First answer is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function G(t,e){if(1&t&&n.ec(0,"img",48),2&t){const t=n.yc(3);n.Ec("src",t.qansImageSrc1,n.Pc)}}function $(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Second answer is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function B(t,e){if(1&t&&n.ec(0,"img",48),2&t){const t=n.yc(3);n.Ec("src",t.qansImageSrc1,n.Pc)}}function M(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Third answer is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function z(t,e){if(1&t&&n.ec(0,"img",48),2&t){const t=n.yc(3);n.Ec("src",t.qansImageSrc1,n.Pc)}}function V(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Fourth answer is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function X(t,e){if(1&t&&n.ec(0,"img",48),2&t){const t=n.yc(3);n.Ec("src",t.qansImageSrc1,n.Pc)}}function Z(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Right answer is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function J(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Question Mark is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function K(t,e){if(1&t){const t=n.kc();n.jc(0,"div",34),n.jc(1,"div",35),n.jc(2,"div",36),n.jc(3,"mat-form-field",11),n.jc(4,"mat-label"),n.Wc(5,"Question"),n.ic(),n.ec(6,"textarea",37),n.Uc(7,T,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(8,"div",36),n.Uc(9,L,1,1,"img",38),n.jc(10,"div",39),n.jc(11,"label",40),n.Wc(12,"Upload Question"),n.ic(),n.jc(13,"input",41),n.uc("change",(function(r){n.Oc(t);const c=e.index;return n.yc(2).onFileChange(r,"questionImage",c)})),n.ic(),n.ic(),n.ic(),n.jc(14,"div",10),n.jc(15,"mat-form-field",11),n.jc(16,"mat-label"),n.Wc(17,"First Answer"),n.ic(),n.ec(18,"input",42),n.Uc(19,R,4,0,"mat-error",14),n.ic(),n.jc(20,"div",31),n.Uc(21,G,1,1,"img",38),n.jc(22,"div",39),n.jc(23,"label",40),n.Wc(24,"Upload Answer"),n.ic(),n.jc(25,"input",41),n.uc("change",(function(r){n.Oc(t);const c=e.index;return n.yc(2).onFileChange(r,"answerImage1",c)})),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(26,"div",10),n.jc(27,"mat-form-field",11),n.jc(28,"mat-label"),n.Wc(29,"Second Answer"),n.ic(),n.ec(30,"input",43),n.Uc(31,$,4,0,"mat-error",14),n.ic(),n.jc(32,"div",31),n.Uc(33,B,1,1,"img",38),n.jc(34,"div",39),n.jc(35,"label",40),n.Wc(36,"Upload Answer"),n.ic(),n.jc(37,"input",41),n.uc("change",(function(r){n.Oc(t);const c=e.index;return n.yc(2).onFileChange(r,"answerImage2",c)})),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(38,"div",10),n.jc(39,"mat-form-field",11),n.jc(40,"mat-label"),n.Wc(41,"Third Answer"),n.ic(),n.ec(42,"input",44),n.Uc(43,M,4,0,"mat-error",14),n.ic(),n.jc(44,"div",31),n.Uc(45,z,1,1,"img",38),n.jc(46,"div",39),n.jc(47,"label",40),n.Wc(48,"Upload Answer"),n.ic(),n.jc(49,"input",41),n.uc("change",(function(r){n.Oc(t);const c=e.index;return n.yc(2).onFileChange(r,"answerImage3",c)})),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(50,"div",10),n.jc(51,"mat-form-field",11),n.jc(52,"mat-label"),n.Wc(53,"Fourth Answer"),n.ic(),n.ec(54,"input",45),n.Uc(55,V,4,0,"mat-error",14),n.ic(),n.jc(56,"div",31),n.Uc(57,X,1,1,"img",38),n.jc(58,"div",39),n.jc(59,"label",40),n.Wc(60,"Upload Answer"),n.ic(),n.jc(61,"input",41),n.uc("change",(function(r){n.Oc(t);const c=e.index;return n.yc(2).onFileChange(r,"answerImage4",c)})),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(62,"div",10),n.jc(63,"mat-form-field",11),n.jc(64,"mat-label"),n.Wc(65,"Right Answer"),n.ic(),n.ec(66,"input",46),n.Uc(67,Z,4,0,"mat-error",14),n.ic(),n.ic(),n.jc(68,"div",10),n.jc(69,"mat-form-field",11),n.jc(70,"mat-label"),n.Wc(71,"Question Mark"),n.ic(),n.ec(72,"input",47),n.Uc(73,J,4,0,"mat-error",14),n.ic(),n.ic(),n.ic(),n.ic()}if(2&t){const t=e.$implicit,r=e.index,c=n.yc(2);n.Pb(1),n.Ec("formGroupName",r),n.Pb(6),n.Ec("ngIf",c.submitted&&t.get("question").hasError("required")),n.Pb(2),n.Ec("ngIf",c.qImageSrc),n.Pb(10),n.Ec("ngIf",c.submitted&&t.get("answer1").hasError("required")),n.Pb(2),n.Ec("ngIf",c.qansImageSrc1),n.Pb(10),n.Ec("ngIf",c.submitted&&t.get("answer2").hasError("required")),n.Pb(2),n.Ec("ngIf",c.qansImageSrc2),n.Pb(10),n.Ec("ngIf",c.submitted&&t.get("answer3").hasError("required")),n.Pb(2),n.Ec("ngIf",c.qansImageSrc3),n.Pb(10),n.Ec("ngIf",c.submitted&&t.get("answer4").hasError("required")),n.Pb(2),n.Ec("ngIf",c.qansImageSrc4),n.Pb(10),n.Ec("ngIf",c.submitted&&t.get("rightanswer").hasError("required")),n.Pb(6),n.Ec("ngIf",c.submitted&&t.get("marksforthis").hasError("required"))}}function Y(t,e){if(1&t){const t=n.kc();n.jc(0,"form",8),n.uc("ngSubmit",(function(){return n.Oc(t),n.yc().onSubmit("questions")})),n.jc(1,"div",9),n.Uc(2,K,74,13,"div",32),n.ic(),n.jc(3,"div",27),n.jc(4,"button",33),n.uc("click",(function(){return n.Oc(t),n.yc().addNextSubjectMark()})),n.Wc(5,"Add Question"),n.ic(),n.jc(6,"button",28),n.Wc(7,"Submit"),n.ic(),n.jc(8,"button",29),n.uc("click",(function(e){return n.Oc(t),n.yc().onFormReset(e,"questions")})),n.Wc(9,"Reset"),n.ic(),n.ic(),n.ic()}if(2&t){const t=n.yc();n.Ec("formGroup",t.questionForm),n.Pb(2),n.Ec("ngForOf",t.f.items.controls)}}let H=(()=>{class t{constructor(t,e,r,c){this._ar=t,this._router=e,this._snackBar=r,this._cs=c,this.loading=!1,this.submitted=!1,this.error="",this.cardTitle="Create Assessment",this.showButtons=!1,this.isTabDisabled=!0,this.buttonLabel="Submit",this._phonePattern="^[0-9-+s()]*$",this._emailPattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.selectedIndex=0,this.classList=[],this.sectionList=[],this.showForm=!0,this.horizontalPosition="start",this.verticalPosition="bottom",this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[s.g,s.c]}ngOnInit(){this.createExamForm=new a.j({classid:new a.g(null,a.x.required),sectionid:new a.g("",a.x.required),examname:new a.g(null,a.x.required),examdate:new a.g("",a.x.required),subjectame:new a.g(null,a.x.required),teachername:new a.g(null,a.x.required),timeallotted:new a.g(null,a.x.required),totalquestions:new a.g(null,a.x.required),totalmarks:new a.g(null,a.x.required),teachersnotes:new a.g(null)}),this.questionForm=new a.j({items:new a.d([this.createFields()])}),this.getClassList()}get f(){return this.questionForm.controls}get ef(){return this.createExamForm.controls}createFields(){return new a.j({question:new a.g(null,a.x.required),question_image:new a.g(null),answer1:new a.g(null,a.x.required),answer1_image:new a.g(null),answer2:new a.g(null,a.x.required),answer2_image:new a.g(null),answer3:new a.g(null,a.x.required),answer3_image:new a.g(null),answer4:new a.g(null,a.x.required),answer4_image:new a.g(null),rightanswer:new a.g(null,a.x.required),marksforthis:new a.g(null,a.x.required)})}onFileChange(t,e,r){const c=new FileReader;t.target.files&&t.target.files.length&&(c.readAsDataURL(t.target.files[0]),c.onload=()=>{"questionImage"===e?(this.qImageSrc=c.result,this.questionForm.get("items").at(r).get("question_image").patchValue(this.qImageSrc.substring(22))):"answerImage1"===e?(this.qansImageSrc1=c.result,this.questionForm.get("items").at(r).get("answer1_image").patchValue(this.qansImageSrc1.substring(22))):"answerImage2"===e?(this.qansImageSrc2=c.result,this.questionForm.get("items").at(r).get("answer2_image").patchValue(this.qansImageSrc2.substring(22))):"answerImage3"===e?(this.qansImageSrc3=c.result,this.questionForm.get("items").at(r).get("answer3_image").patchValue(this.qansImageSrc3.substring(22))):"answerImage4"===e&&(this.qansImageSrc4=c.result,this.questionForm.get("items").at(r).get("answer4_image").patchValue(this.qansImageSrc4.substring(22)))})}addNextSubjectMark(){this.f.items.push(this.createFields()),this.controlIndex++}getClassList(){this._cs.getClassSection().subscribe(t=>{t&&(this.classList=t)})}onClassChange(t){t&&this._cs.getSections(t.value).subscribe(t=>{t&&(this.sectionList=t)})}onSubmit(t){if(console.log("onSubmit"),this.submitted=!0,console.log("this.createExamForm.value",this.createExamForm.value),console.log("this.parentForm.value",this.questionForm.value),this.createExamForm.invalid&&0===this.selectedIndex)return;if(this.questionForm.invalid&&1===this.selectedIndex)return;let e,r={};this.loading=!0,"setup"===t&&(Object.assign(r,this.createExamForm.value),this.classList&&this.classList.length&&this.classList.map(t=>{r.classid===t.id&&(r.classname=t.classname)}),this.sectionList&&this.sectionList.length&&this.sectionList.map(t=>{r.sectionid===t.id&&(r.sectionname=t.sectionname)}),this._cs.addExamSetup(r).subscribe(t=>{e=t.examid,this.isTabDisabled=!1,this.showNotification("Submitted Successfully!!"),this.createExamForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100),this.selectedIndex=1},t=>{this.error=t,this.loading=!1,console.error(this.error)})),"questions"===t&&(Object.assign(r,this.questionForm.value),r.items.map(t=>(t.examid=e,t)),console.log("payload",r),this._cs.addExamQustions(r.items).subscribe(t=>{console.log("data",t),this.showNotification("Submitted Successfully!!"),this.questionForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100)},t=>{this.error=t,this.loading=!1,console.error(this.error)}))}showNotification(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}onFormReset(t,e){t&&"setup"===e&&this.createExamForm.reset(),t&&"questions"===e&&this.questionForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(n.dc(i.a),n.dc(i.g),n.dc(o.a),n.dc(p))},t.\u0275cmp=n.Xb({type:t,selectors:[["app-exam-setup"]],decls:16,vars:4,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[3,"selectedIndex"],["mat-tab-label",""],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"example-tab-icon"],[3,"formGroup","ngSubmit"],[1,"row","col-12","m-0","p-0","pt-3"],[1,"col-12","col-sm-6","col-md-4"],["appearance","outline",1,"p-0"],["placeholder","Select Class","formControlName","classid",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Section","formControlName","sectionid"],["matInput","","formControlName","examname","placeholder","Enter Exam Name"],["matInput","","placeholder","Select Date","formControlName","examdate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","Enter Class Subject Name","formControlName","subjectame"],["matInput","","placeholder","Enter Techaer Name","formControlName","teachername"],["type","number","matInput","","placeholder","Enter Allotted Time","formControlName","timeallotted"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalquestions"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalmarks"],[1,"col-12","col-sm-6","col-md-6"],["matInput","","placeholder","Enter Comments","formControlName","teachersnotes","rows","2"],[1,"example-button-row","pt-3","pb-2","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"value"],[1,""],["class","questions-widget","formArrayName","items",4,"ngFor","ngForOf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"],["formArrayName","items",1,"questions-widget"],[1,"row","m-0",3,"formGroupName"],[1,"col-12"],["matInput","","placeholder","Enter Question","formControlName","question","rows","2"],["style","width:200px;","class","mb-2",3,"src",4,"ngIf"],[1,"form-group"],["for","exampleFormControlFile1"],["type","file","id","exampleFormControlFile1","accept","image/*",1,"form-control-file",3,"change"],["matInput","","placeholder","Enter first answer","formControlName","answer1"],["type","number","matInput","","placeholder","Enter second answer","formControlName","answer2"],["matInput","","placeholder","Enter third answer","formControlName","answer3"],["matInput","","placeholder","Enter fourth answer","formControlName","answer4"],["matInput","","placeholder","Enter right answer","formControlName","rightanswer"],["type","number","matInput","","placeholder","Enter mark","formControlName","marksforthis"],[1,"mb-2",2,"width","200px",3,"src"]],template:function(t,e){1&t&&(n.jc(0,"div",0),n.jc(1,"div",1),n.jc(2,"h3"),n.Wc(3,"Assessment Setup"),n.ic(),n.ic(),n.jc(4,"div",2),n.jc(5,"mat-card"),n.jc(6,"mat-card-title"),n.Wc(7),n.ic(),n.jc(8,"mat-card-content",3),n.jc(9,"mat-tab-group",4),n.jc(10,"mat-tab"),n.Uc(11,O,3,0,"ng-template",5),n.Uc(12,N,72,15,"form",6),n.ic(),n.jc(13,"mat-tab"),n.Uc(14,Q,3,0,"ng-template",5),n.Uc(15,Y,10,2,"form",6),n.ic(),n.ic(),n.ic(),n.ic(),n.ic(),n.ic()),2&t&&(n.Pb(7),n.Xc(e.cardTitle),n.Pb(2),n.Ec("selectedIndex",e.selectedIndex),n.Pb(3),n.Ec("ngIf",e.showForm),n.Pb(3),n.Ec("ngIf",e.showForm))},directives:[g.a,g.d,g.b,f.b,f.a,f.c,c.n,b.a,a.z,a.r,a.k,j.c,j.f,x.a,a.q,a.i,c.m,E.b,a.c,w.b,w.d,j.g,w.a,a.v,q.a,I.n,j.b,a.e,a.l],styles:[".questions-widget[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding-top:15px}.questions-widget[_ngcontent-%COMP%]:first-child{border-top:0 solid #ccc;padding-top:0}"]}),t})(),tt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xb({type:t,selectors:[["app-exam-result"]],decls:2,vars:0,template:function(t,e){1&t&&(n.jc(0,"p"),n.Wc(1,"exam-result works!"),n.ic())},styles:[""]}),t})();var et=r("pW6c");function rt(t,e){if(1&t){const t=n.kc();n.jc(0,"button",6),n.uc("click",(function(){return n.Oc(t),n.yc().startAssessment()})),n.Wc(1,"Start Assessment"),n.ic()}}function ct(t,e){if(1&t){const t=n.kc();n.jc(0,"button",6),n.uc("click",(function(){return n.Oc(t),n.yc().getQuestions()})),n.Wc(1,"Start Exam"),n.ic()}}const it=[{path:"",component:H,data:{breadcrumb:"Setup"}},{path:"questions",component:(()=>{class t{constructor(t,e,r){this.date=t,this.authenticationService=e,this.as=r}ngOnInit(){this.isStartExam=!0}startAssessment(){this.authenticationService.currentUser.subscribe(t=>{this.as.getExamsByStudentID((new Date).toISOString(),t.id).subscribe(t=>{Array.isArray(t)&&t.length?(this.examID=t[0].id,this.isStartExam=!1):(this.isStartExam=!0,alert("Exams are not scheduled!"))})})}getQuestions(){this.as.getQuestionByExamID(this.examID).subscribe(t=>{console.log("questions",t)})}}return t.\u0275fac=function(e){return new(e||t)(n.dc(c.f),n.dc(et.a),n.dc(p))},t.\u0275cmp=n.Xb({type:t,selectors:[["app-assessment-questions"]],features:[n.Ob([c.f])],decls:10,vars:2,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[1,"pb-2","text-center"],["mat-raised-button","","type","button","class","mat-next mt-2 mr-3",3,"click",4,"ngIf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"]],template:function(t,e){1&t&&(n.jc(0,"div",0),n.jc(1,"div",1),n.jc(2,"h3"),n.Wc(3,"Assessment Questions"),n.ic(),n.ic(),n.jc(4,"div",2),n.jc(5,"mat-card"),n.jc(6,"mat-card-content",3),n.jc(7,"div",4),n.Uc(8,rt,2,0,"button",5),n.Uc(9,ct,2,0,"button",5),n.ic(),n.ic(),n.ic(),n.ic(),n.ic()),2&t&&(n.Pb(8),n.Ec("ngIf",e.isStartExam),n.Pb(1),n.Ec("ngIf",!e.isStartExam))},directives:[g.a,g.b,c.n,q.a],styles:[""]}),t})(),data:{breadcrumb:"Questions"}},{path:"result",component:tt,data:{breadcrumb:"Result"}}];let at=(()=>{class t{}return t.\u0275mod=n.bc({type:t}),t.\u0275inj=n.ac({factory:function(e){return new(e||t)},imports:[[i.i.forChild(it)],i.i]}),t})();var st=r("1kSV"),nt=r("jAig");let ot=(()=>{class t{}return t.\u0275mod=n.bc({type:t}),t.\u0275inj=n.ac({factory:function(e){return new(e||t)},imports:[[c.c,at,a.m,a.w,st.d,nt.a]]}),t})()}}]);