(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cFL4:function(t,e,c){"use strict";c.r(e),c.d(e,"OnlineExaminationModule",(function(){return bc}));var i=c("ofXK"),s=c("tyNb"),n=c("3Pt+"),a=c("FtGj"),o=c("fXoL"),r=c("dNgK"),l=c("tk/3"),h=c("z6cu"),m=c("lJxs"),u=c("JIr8"),d=c("AytR");let f=(()=>{class t{constructor(t){this._http=t,this._apiUrl=d.a.apiBaseUrl,this.httpOptions={headers:new l.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}),crossDomain:!0}}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Back-end returned code ${t.status}, body was: `+t.error),Object(h.a)("Something bad happened; please try again later.")}extractData(t){return t||{}}getExams(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/Getexamsdropdown?classid=${t}&sectionid=${e}`).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}getExamsDropdownForStudent(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getexamsdropdownforstudents?studentid="+t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}getExamsByStudentID(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/GetexamsBystudentid?dateTime=${t}&studentid=${e}`).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}getQuestionByExamID(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getquestonsbyexamid?examid="+t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}getClassSection(){return this._http.get(this._apiUrl+"setup/getclassesandsections").pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}getSections(t){return this._http.get(`${this._apiUrl}setup/getsectionsforclass?id=${t}`).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}addExamResults(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddExamResults",t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}addExamSetup(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddOnlineExam",t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}addExamQustions(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddQuestions",t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}getTotalResultsByStudentID(t,e=null){return this._http.get(this._apiUrl+`OnlineexamsController/GetTotalresultsbystudentid?examid=${t}&studentid=${e}`).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}updateExamResults(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateExamResults",t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}updateExamSetup(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateOnlineExam",t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}updateExamQuestions(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateQuestions",t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}deleteResults(t){return this._http.delete(this._apiUrl+"OnlineexamsController/DeleteResult?id="+t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}deleteQuestions(t){return this._http.delete(this._apiUrl+"OnlineexamsController/DeleteQuestion?id="+t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}deleteExamSetup(t){return this._http.delete(this._apiUrl+"OnlineexamsController/DeleteExam?id="+t).pipe(Object(m.a)(this.extractData),Object(u.a)(this.handleError))}}return t.\u0275fac=function(e){return new(e||t)(o.qc(l.b))},t.\u0275prov=o.Yb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=c("Wp6s"),g=c("wZkO"),b=c("+0xr"),x=c("0EQZ"),E=c("Dh3D"),w=c("M9IT"),I=c("zWHe"),v=c("kmnG"),Y=c("d3UM"),P=c("bTqV"),D=c("qFsG"),C=c("NFeN"),S=c("FKr1"),q=c("bSwM"),W=c("1kSV");function k(t,e){if(1&t&&(o.ic(0,"mat-option",34),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.classname)}}function O(t,e){if(1&t&&(o.ic(0,"mat-option",34),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.sectionname)}}function L(t,e){if(1&t){const t=o.jc();o.ic(0,"th",35),o.ic(1,"mat-checkbox",36),o.tc("change",(function(e){o.Oc(t);const c=o.xc();return e?c.masterToggle():null})),o.hc(),o.hc()}if(2&t){const t=o.xc();o.Pb(1),o.Ec("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function y(t,e){if(1&t){const t=o.jc();o.ic(0,"td",37),o.ic(1,"mat-checkbox",38),o.tc("click",(function(e){return o.Oc(t),e.stopPropagation()}))("change",(function(c){o.Oc(t);const i=e.$implicit,s=o.xc();return c?s.selection.toggle(i):null})),o.hc(),o.hc()}if(2&t){const t=e.$implicit,c=o.xc();o.Pb(1),o.Ec("checked",c.selection.isSelected(t))("aria-label",c.checkboxLabel(t))}}function F(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Exam Name"),o.hc())}function _(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.examname)}}function $(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,_,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.examname)("ngIfElse",c)}}function j(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Class"),o.hc())}function A(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.classname)}}function R(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,A,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.classname)("ngIfElse",c)}}function M(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Section"),o.hc())}function T(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.sectionname)}}function Q(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,T,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.sectionname)("ngIfElse",c)}}function N(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Subject"),o.hc())}function Z(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.subjectame)}}function U(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,Z,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.subjectame)("ngIfElse",c)}}function z(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Time"),o.hc())}function B(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad("",t.timeallotted," Minute")}}function H(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,B,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.timeallotted)("ngIfElse",c)}}function V(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Total Questions"),o.hc())}function G(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad("",t.totalquestions," Minute")}}function J(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,G,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.totalquestions)("ngIfElse",c)}}function X(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1," Total Mark "),o.hc())}function K(t,e){if(1&t&&(o.ic(0,"span",42),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad(" ",t.totalmarks," ")}}function tt(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,K,2,1,"span",41),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.totalmarks)("ngIfElse",c)}}function et(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1," Total Mark "),o.hc())}function ct(t,e){if(1&t&&(o.ic(0,"span",42),o.Yc(1),o.yc(2,"date"),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad(" ",o.Ac(2,1,t.examdate,"dd-MM-yyyy")," ")}}function it(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,ct,3,4,"span",41),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(65);o.Pb(1),o.Ec("ngIf",t.examdate)("ngIfElse",c)}}function st(t,e){1&t&&o.dc(0,"th",43)}function nt(t,e){if(1&t){const t=o.jc();o.ic(0,"td",37),o.ic(1,"div",44),o.ic(2,"div",45),o.dc(3,"span",46),o.ic(4,"div",47),o.ic(5,"button",48),o.tc("click",(function(){o.Oc(t);const c=e.$implicit;return o.xc().onEdit(c)})),o.dc(6,"span",49),o.Yc(7,"\xa0\xa0\xa0Edit"),o.hc(),o.ic(8,"button",48),o.tc("click",(function(){o.Oc(t);const c=e.$implicit;return o.xc().onDelete(c)})),o.dc(9,"span",50),o.Yc(10,"\xa0\xa0\xa0Delete"),o.hc(),o.hc(),o.hc(),o.hc(),o.hc()}}function at(t,e){1&t&&o.dc(0,"tr",51)}function ot(t,e){1&t&&o.dc(0,"tr",52)}function rt(t,e){1&t&&o.Yc(0,"---")}const lt=function(){return[5,10,25,100]};let ht=(()=>{class t{constructor(t,e,c,i){this._cs=t,this._router=e,this._activatedRout=c,this.as=i,this.examEdit=new o.r,this.displayedColumns=["select","examname","classname","sectionname","subjectame","timeallotted","totalquestions","totalmarks","examdate","actions"],this.filterData="",this.isLoading=!0,this.selection=new x.c(!0,[]),this.classID=new n.g,this.sectionID=new n.g,this.examID=new n.g,this.classList=[],this.sectionList=[],this.examList=[]}ngOnInit(){this.getClassSection()}getResults(){this.as.getExams(this.classID.value,this.sectionID.value).subscribe(t=>{Array.isArray(t)&&(this.recordLength=t.length,this.resultList=new b.k(t),this.resultList.sort=this.TSort,this.resultList.paginator=this.paginator,this.isLoading=!1)})}getClassSection(){this._cs.getClassSection().subscribe(t=>{t&&(this.classList=t)})}onClassChange(t){t&&this._cs.getSections(t.value).subscribe(t=>{t&&(this.sectionList=t)})}getExamList(){this.as.getExams(this.classID.value,this.sectionID.value).subscribe(t=>{t&&(this.examList=t)})}isAllSelected(){if(this.classID.value&&this.sectionID.value&&this.resultList)return this.selection.selected.length===this.resultList.data.length}masterToggle(){this.classID.value&&this.sectionID.value&&(this.isAllSelected()?this.selection.clear():this.resultList.data.forEach(t=>this.selection.select(t)))}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}applyFilter(t){this.resultList.filter=t.target.value.trim().toLowerCase(),this.resultList.paginator&&this.resultList.paginator.firstPage()}onDelete(t){confirm("Are sure you want to delete this exam?")&&this.as.deleteExamSetup(t.id).subscribe(t=>{this.getResults()})}onEdit(t){t&&this.examEdit.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.cc(I.a),o.cc(s.g),o.cc(s.a),o.cc(f))},t.\u0275cmp=o.Wb({type:t,selectors:[["app-exams-list"]],viewQuery:function(t,e){var c;1&t&&(o.Sc(w.a,!0),o.Sc(E.a,!0)),2&t&&(o.Lc(c=o.uc())&&(e.paginator=c.first),o.Lc(c=o.uc())&&(e.TSort=c.first))},outputs:{examEdit:"examEdit"},decls:66,vars:11,consts:[[1,"list-container"],[1,"s-list"],[1,"row"],[1,"col-5"],["appearance","outline",1,"p-0","w-100"],["placeholder","Select Class",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Section",3,"formControl"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"list-head"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"keyup"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","examname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","classname"],["matColumnDef","sectionname"],["matColumnDef","subjectame"],["matColumnDef","timeallotted"],["matColumnDef","totalquestions"],["matColumnDef","totalmarks"],["matColumnDef","examdate"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["dash",""],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-edit",2,"color","green"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.ic(0,"div",0),o.ic(1,"div",1),o.ic(2,"div",2),o.ic(3,"div",3),o.ic(4,"mat-form-field",4),o.ic(5,"mat-label"),o.Yc(6,"Class"),o.hc(),o.ic(7,"mat-select",5),o.tc("selectionChange",(function(t){return e.onClassChange(t)})),o.Wc(8,k,2,2,"mat-option",6),o.hc(),o.hc(),o.hc(),o.ic(9,"div",3),o.ic(10,"mat-form-field",4),o.ic(11,"mat-label"),o.Yc(12,"Section"),o.hc(),o.ic(13,"mat-select",7),o.Wc(14,O,2,2,"mat-option",6),o.hc(),o.hc(),o.hc(),o.ic(15,"div",8),o.ic(16,"button",9),o.tc("click",(function(){return e.getResults()})),o.Yc(17,"Search"),o.hc(),o.hc(),o.hc(),o.ic(18,"mat-card"),o.ic(19,"div",10),o.ic(20,"mat-card-title"),o.Yc(21,"Exam List"),o.hc(),o.ic(22,"div"),o.ic(23,"mat-form-field",11),o.ic(24,"mat-label"),o.Yc(25,"Filter"),o.hc(),o.ic(26,"input",12),o.tc("keyup",(function(t){return e.applyFilter(t)})),o.hc(),o.ic(27,"mat-icon",13),o.Yc(28,"search"),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(29,"mat-card-content",14),o.ic(30,"table",15),o.gc(31,16),o.Wc(32,L,2,3,"th",17),o.Wc(33,y,2,2,"td",18),o.fc(),o.gc(34,19),o.Wc(35,F,2,0,"th",20),o.Wc(36,$,2,2,"td",18),o.fc(),o.gc(37,21),o.Wc(38,j,2,0,"th",20),o.Wc(39,R,2,2,"td",18),o.fc(),o.gc(40,22),o.Wc(41,M,2,0,"th",20),o.Wc(42,Q,2,2,"td",18),o.fc(),o.gc(43,23),o.Wc(44,N,2,0,"th",20),o.Wc(45,U,2,2,"td",18),o.fc(),o.gc(46,24),o.Wc(47,z,2,0,"th",20),o.Wc(48,H,2,2,"td",18),o.fc(),o.gc(49,25),o.Wc(50,V,2,0,"th",20),o.Wc(51,J,2,2,"td",18),o.fc(),o.gc(52,26),o.Wc(53,X,2,0,"th",20),o.Wc(54,tt,2,2,"td",18),o.fc(),o.gc(55,27),o.Wc(56,et,2,0,"th",20),o.Wc(57,it,2,2,"td",18),o.fc(),o.gc(58,28),o.Wc(59,st,1,0,"th",29),o.Wc(60,nt,11,0,"td",18),o.fc(),o.Wc(61,at,1,0,"tr",30),o.Wc(62,ot,1,0,"tr",31),o.hc(),o.dc(63,"mat-paginator",32),o.hc(),o.hc(),o.hc(),o.hc(),o.Wc(64,rt,1,0,"ng-template",null,33,o.Xc)),2&t&&(o.Pb(7),o.Ec("formControl",e.classID),o.Pb(1),o.Ec("ngForOf",e.classList),o.Pb(5),o.Ec("formControl",e.sectionID),o.Pb(1),o.Ec("ngForOf",e.sectionList),o.Pb(16),o.Ec("dataSource",e.resultList),o.Pb(31),o.Ec("matHeaderRowDef",e.displayedColumns),o.Pb(1),o.Ec("matRowDefColumns",e.displayedColumns),o.Pb(1),o.Ec("length",e.recordLength)("pageSize",10)("pageSizeOptions",o.Hc(10,lt)))},directives:[v.c,v.f,Y.a,n.q,n.h,i.m,P.a,p.a,p.d,D.b,C.a,v.g,p.b,b.j,E.a,b.c,b.e,b.b,b.g,b.i,w.a,S.n,b.d,q.a,b.a,E.b,i.n,W.a,W.e,W.c,W.b,b.f,b.h],pipes:[i.f],styles:[""]}),t})();function mt(t,e){if(1&t&&(o.ic(0,"mat-option",34),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.classname)}}function ut(t,e){if(1&t&&(o.ic(0,"mat-option",34),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.sectionname)}}function dt(t,e){if(1&t&&(o.ic(0,"mat-option",34),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.examname)}}function ft(t,e){if(1&t){const t=o.jc();o.ic(0,"th",35),o.ic(1,"mat-checkbox",36),o.tc("change",(function(e){o.Oc(t);const c=o.xc();return e?c.masterToggle():null})),o.hc(),o.hc()}if(2&t){const t=o.xc();o.Pb(1),o.Ec("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function pt(t,e){if(1&t){const t=o.jc();o.ic(0,"td",37),o.ic(1,"mat-checkbox",38),o.tc("click",(function(e){return o.Oc(t),e.stopPropagation()}))("change",(function(c){o.Oc(t);const i=e.$implicit,s=o.xc();return c?s.selection.toggle(i):null})),o.hc(),o.hc()}if(2&t){const t=e.$implicit,c=o.xc();o.Pb(1),o.Ec("checked",c.selection.isSelected(t))("aria-label",c.checkboxLabel(t))}}function gt(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Question"),o.hc())}function bt(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.question)}}function xt(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,bt,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(68);o.Pb(1),o.Ec("ngIf",t.question)("ngIfElse",c)}}function Et(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Answer-1"),o.hc())}function wt(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.answer1)}}function It(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,wt,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(68);o.Pb(1),o.Ec("ngIf",t.answer1)("ngIfElse",c)}}function vt(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1,"Answer-2"),o.hc())}function Yt(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.answer2)}}function Pt(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,Yt,2,1,"span",40),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(68);o.Pb(1),o.Ec("ngIf",t.answer2)("ngIfElse",c)}}function Dt(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1," Answer-3 "),o.hc())}function Ct(t,e){if(1&t&&(o.ic(0,"span",42),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad(" ",t.answer3," ")}}function St(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,Ct,2,1,"span",41),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(68);o.Pb(1),o.Ec("ngIf",t.answer3)("ngIfElse",c)}}function qt(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1," Answer-4 "),o.hc())}function Wt(t,e){if(1&t&&(o.ic(0,"span",42),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad(" ",t.answer4," ")}}function kt(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,Wt,2,1,"span",41),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(68);o.Pb(1),o.Ec("ngIf",t.answer4)("ngIfElse",c)}}function Ot(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1," Right Answer "),o.hc())}function Lt(t,e){if(1&t&&(o.ic(0,"span",42),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad(" ",t.rightanswer," ")}}function yt(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,Lt,2,1,"span",41),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(68);o.Pb(1),o.Ec("ngIf",t.rightanswer)("ngIfElse",c)}}function Ft(t,e){1&t&&(o.ic(0,"th",39),o.Yc(1," Mark "),o.hc())}function _t(t,e){if(1&t&&(o.ic(0,"span",42),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad(" ",t.marksforthis," ")}}function $t(t,e){if(1&t&&(o.ic(0,"td",37),o.Wc(1,_t,2,1,"span",41),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(68);o.Pb(1),o.Ec("ngIf",t.marksforthis)("ngIfElse",c)}}function jt(t,e){1&t&&o.dc(0,"th",43)}function At(t,e){if(1&t){const t=o.jc();o.ic(0,"td",37),o.ic(1,"div",44),o.ic(2,"div",45),o.dc(3,"span",46),o.ic(4,"div",47),o.ic(5,"button",48),o.tc("click",(function(){o.Oc(t);const c=e.$implicit;return o.xc().onEdit(c)})),o.dc(6,"span",49),o.Yc(7,"\xa0\xa0\xa0Edit"),o.hc(),o.ic(8,"button",48),o.tc("click",(function(){o.Oc(t);const c=e.$implicit;return o.xc().onDelete(c)})),o.dc(9,"span",50),o.Yc(10,"\xa0\xa0\xa0Delete"),o.hc(),o.hc(),o.hc(),o.hc(),o.hc()}}function Rt(t,e){1&t&&o.dc(0,"tr",51)}function Mt(t,e){1&t&&o.dc(0,"tr",52)}function Tt(t,e){1&t&&o.Yc(0,"---")}const Qt=function(){return[5,10,25,100]};let Nt=(()=>{class t{constructor(t,e,c,i){this._cs=t,this._router=e,this._activatedRout=c,this.as=i,this.questionEdit=new o.r,this.displayedColumns=["select","question","answer1","answer2","answer3","answer4","rightanswer","marksforthis","actions"],this.filterData="",this.isLoading=!0,this.selection=new x.c(!0,[]),this.classID=new n.g,this.sectionID=new n.g,this.examID=new n.g,this.classList=[],this.sectionList=[],this.examList=[]}ngOnInit(){this.getClassSection()}getResults(){this.as.getQuestionByExamID(this.examID.value).subscribe(t=>{Array.isArray(t)&&(this.recordLength=t.length,this.resultList=new b.k(t),this.resultList.sort=this.TSort,this.resultList.paginator=this.paginator,this.isLoading=!1)})}getClassSection(){this._cs.getClassSection().subscribe(t=>{t&&(this.classList=t)})}onClassChange(t){t&&this._cs.getSections(t.value).subscribe(t=>{t&&(this.sectionList=t)})}getExamList(){this.as.getExams(this.classID.value,this.sectionID.value).subscribe(t=>{t&&(this.examList=t)})}isAllSelected(){if(this.classID.value&&this.sectionID.value&&this.resultList)return this.selection.selected.length===this.resultList.data.length}masterToggle(){this.classID.value&&this.sectionID.value&&(this.isAllSelected()?this.selection.clear():this.resultList.data.forEach(t=>this.selection.select(t)))}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}applyFilter(t){this.resultList.filter=t.target.value.trim().toLowerCase(),this.resultList.paginator&&this.resultList.paginator.firstPage()}onDelete(t){confirm("Are sure you want to delete this question?")&&this.as.deleteQuestions(t.id).subscribe(t=>{this.getResults()})}onEdit(t){t&&this.questionEdit.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.cc(I.a),o.cc(s.g),o.cc(s.a),o.cc(f))},t.\u0275cmp=o.Wb({type:t,selectors:[["app-question-list"]],viewQuery:function(t,e){var c;1&t&&(o.Sc(w.a,!0),o.Sc(E.a,!0)),2&t&&(o.Lc(c=o.uc())&&(e.paginator=c.first),o.Lc(c=o.uc())&&(e.TSort=c.first))},outputs:{questionEdit:"questionEdit"},decls:69,vars:13,consts:[[1,"list-container"],[1,"s-list"],[1,"row"],[1,"col-3"],["appearance","outline",1,"p-0","w-100"],["placeholder","Select Class",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Section",3,"formControl","selectionChange"],["placeholder","Select exam",3,"formControl"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"list-head"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"keyup"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","answer1"],["matColumnDef","answer2"],["matColumnDef","answer3"],["matColumnDef","answer4"],["matColumnDef","rightanswer"],["matColumnDef","marksforthis"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["dash",""],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-edit",2,"color","green"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.ic(0,"div",0),o.ic(1,"div",1),o.ic(2,"div",2),o.ic(3,"div",3),o.ic(4,"mat-form-field",4),o.ic(5,"mat-label"),o.Yc(6,"Class"),o.hc(),o.ic(7,"mat-select",5),o.tc("selectionChange",(function(t){return e.onClassChange(t)})),o.Wc(8,mt,2,2,"mat-option",6),o.hc(),o.hc(),o.hc(),o.ic(9,"div",3),o.ic(10,"mat-form-field",4),o.ic(11,"mat-label"),o.Yc(12,"Section"),o.hc(),o.ic(13,"mat-select",7),o.tc("selectionChange",(function(){return e.getExamList()})),o.Wc(14,ut,2,2,"mat-option",6),o.hc(),o.hc(),o.hc(),o.ic(15,"div",3),o.ic(16,"mat-form-field",4),o.ic(17,"mat-label"),o.Yc(18,"Exams"),o.hc(),o.ic(19,"mat-select",8),o.Wc(20,dt,2,2,"mat-option",6),o.hc(),o.hc(),o.hc(),o.ic(21,"div",9),o.ic(22,"button",10),o.tc("click",(function(){return e.getResults()})),o.Yc(23,"Search"),o.hc(),o.hc(),o.hc(),o.ic(24,"mat-card"),o.ic(25,"div",11),o.ic(26,"mat-card-title"),o.Yc(27,"Assessment Questions"),o.hc(),o.ic(28,"div"),o.ic(29,"mat-form-field",12),o.ic(30,"mat-label"),o.Yc(31,"Filter"),o.hc(),o.ic(32,"input",13),o.tc("keyup",(function(t){return e.applyFilter(t)})),o.hc(),o.ic(33,"mat-icon",14),o.Yc(34,"search"),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(35,"mat-card-content",15),o.ic(36,"table",16),o.gc(37,17),o.Wc(38,ft,2,3,"th",18),o.Wc(39,pt,2,2,"td",19),o.fc(),o.gc(40,20),o.Wc(41,gt,2,0,"th",21),o.Wc(42,xt,2,2,"td",19),o.fc(),o.gc(43,22),o.Wc(44,Et,2,0,"th",21),o.Wc(45,It,2,2,"td",19),o.fc(),o.gc(46,23),o.Wc(47,vt,2,0,"th",21),o.Wc(48,Pt,2,2,"td",19),o.fc(),o.gc(49,24),o.Wc(50,Dt,2,0,"th",21),o.Wc(51,St,2,2,"td",19),o.fc(),o.gc(52,25),o.Wc(53,qt,2,0,"th",21),o.Wc(54,kt,2,2,"td",19),o.fc(),o.gc(55,26),o.Wc(56,Ot,2,0,"th",21),o.Wc(57,yt,2,2,"td",19),o.fc(),o.gc(58,27),o.Wc(59,Ft,2,0,"th",21),o.Wc(60,$t,2,2,"td",19),o.fc(),o.gc(61,28),o.Wc(62,jt,1,0,"th",29),o.Wc(63,At,11,0,"td",19),o.fc(),o.Wc(64,Rt,1,0,"tr",30),o.Wc(65,Mt,1,0,"tr",31),o.hc(),o.dc(66,"mat-paginator",32),o.hc(),o.hc(),o.hc(),o.hc(),o.Wc(67,Tt,1,0,"ng-template",null,33,o.Xc)),2&t&&(o.Pb(7),o.Ec("formControl",e.classID),o.Pb(1),o.Ec("ngForOf",e.classList),o.Pb(5),o.Ec("formControl",e.sectionID),o.Pb(1),o.Ec("ngForOf",e.sectionList),o.Pb(5),o.Ec("formControl",e.examID),o.Pb(1),o.Ec("ngForOf",e.examList),o.Pb(16),o.Ec("dataSource",e.resultList),o.Pb(28),o.Ec("matHeaderRowDef",e.displayedColumns),o.Pb(1),o.Ec("matRowDefColumns",e.displayedColumns),o.Pb(1),o.Ec("length",e.recordLength)("pageSize",10)("pageSizeOptions",o.Hc(12,Qt)))},directives:[v.c,v.f,Y.a,n.q,n.h,i.m,P.a,p.a,p.d,D.b,C.a,v.g,p.b,b.j,E.a,b.c,b.e,b.b,b.g,b.i,w.a,S.n,b.d,q.a,b.a,E.b,i.n,W.a,W.e,W.c,W.b,b.f,b.h],styles:[""]}),t})();var Zt=c("iadO");function Ut(t,e){1&t&&(o.ic(0,"mat-icon",10),o.Yc(1,"wc"),o.hc(),o.Yc(2," Exam Setup "))}function zt(t,e){if(1&t&&(o.ic(0,"mat-option",33),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.classname)}}function Bt(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Class is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function Ht(t,e){if(1&t&&(o.ic(0,"mat-option",33),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.ad("",t.sectionname," ")}}function Vt(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Section is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function Gt(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Exam name is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function Jt(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Exam date is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function Xt(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Subject is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function Kt(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Teacher name is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function te(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Allotted time is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function ee(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Total questions is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function ce(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Total marks is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function ie(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Comments is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function se(t,e){if(1&t){const t=o.jc();o.ic(0,"form",11),o.tc("ngSubmit",(function(){return o.Oc(t),o.xc().onSubmit("setup")})),o.ic(1,"div",12),o.ic(2,"div",13),o.ic(3,"mat-form-field",14),o.ic(4,"mat-label"),o.Yc(5,"Class"),o.hc(),o.ic(6,"mat-select",15),o.tc("selectionChange",(function(e){return o.Oc(t),o.xc().onClassChange(e)})),o.Wc(7,zt,2,2,"mat-option",16),o.hc(),o.Wc(8,Bt,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(9,"div",13),o.ic(10,"mat-form-field",14),o.ic(11,"mat-label"),o.Yc(12,"Section"),o.hc(),o.ic(13,"mat-select",18),o.Wc(14,Ht,2,2,"mat-option",16),o.hc(),o.Wc(15,Vt,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(16,"div",13),o.ic(17,"mat-form-field",14),o.ic(18,"mat-label"),o.Yc(19,"Exam Name"),o.hc(),o.dc(20,"input",19),o.Wc(21,Gt,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(22,"div",13),o.ic(23,"mat-form-field",14),o.ic(24,"mat-label"),o.Yc(25,"Date of Exam"),o.hc(),o.dc(26,"input",20),o.dc(27,"mat-datepicker-toggle",21),o.dc(28,"mat-datepicker",null,22),o.Wc(30,Jt,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(31,"div",13),o.ic(32,"mat-form-field",14),o.ic(33,"mat-label"),o.Yc(34,"Subject"),o.hc(),o.dc(35,"input",23),o.Wc(36,Xt,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(37,"div",13),o.ic(38,"mat-form-field",14),o.ic(39,"mat-label"),o.Yc(40,"Teacher Name"),o.hc(),o.dc(41,"input",24),o.Wc(42,Kt,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(43,"div",13),o.ic(44,"mat-form-field",14),o.ic(45,"mat-label"),o.Yc(46,"Allotted Time"),o.hc(),o.dc(47,"input",25),o.Wc(48,te,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(49,"div",13),o.ic(50,"mat-form-field",14),o.ic(51,"mat-label"),o.Yc(52,"Total Questions"),o.hc(),o.dc(53,"input",26),o.Wc(54,ee,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(55,"div",13),o.ic(56,"mat-form-field",14),o.ic(57,"mat-label"),o.Yc(58,"Total Marks"),o.hc(),o.dc(59,"input",27),o.Wc(60,ce,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(61,"div",28),o.ic(62,"mat-form-field",14),o.ic(63,"mat-label"),o.Yc(64,"Comments"),o.hc(),o.dc(65,"textarea",29),o.Wc(66,ie,4,0,"mat-error",17),o.hc(),o.hc(),o.hc(),o.ic(67,"div",30),o.ic(68,"button",31),o.Yc(69,"Next"),o.hc(),o.ic(70,"button",32),o.tc("click",(function(e){return o.Oc(t),o.xc().onFormReset(e,"setup")})),o.Yc(71,"Reset"),o.hc(),o.hc(),o.hc()}if(2&t){const t=o.Mc(29),e=o.xc();o.Ec("formGroup",e.createExamForm),o.Pb(7),o.Ec("ngForOf",e.classList),o.Pb(1),o.Ec("ngIf",e.submitted&&e.ef.classid.hasError("required")),o.Pb(6),o.Ec("ngForOf",e.sectionList),o.Pb(1),o.Ec("ngIf",e.submitted&&e.ef.sectionid.hasError("required")),o.Pb(6),o.Ec("ngIf",e.submitted&&e.ef.examname.hasError("required")),o.Pb(5),o.Ec("matDatepicker",t),o.Pb(1),o.Ec("for",t),o.Pb(3),o.Ec("ngIf",e.submitted&&e.ef.examdate.hasError("required")),o.Pb(6),o.Ec("ngIf",e.submitted&&e.ef.subjectame.hasError("required")),o.Pb(6),o.Ec("ngIf",e.submitted&&e.ef.teachername.hasError("required")),o.Pb(6),o.Ec("ngIf",e.submitted&&e.ef.timeallotted.hasError("required")),o.Pb(6),o.Ec("ngIf",e.submitted&&e.ef.totalquestions.hasError("required")),o.Pb(6),o.Ec("ngIf",e.submitted&&e.ef.totalmarks.hasError("required")),o.Pb(6),o.Ec("ngIf",e.submitted&&e.ef.teachersnotes.hasError("required"))}}function ne(t,e){1&t&&(o.ic(0,"mat-icon",34),o.Yc(1,"layers"),o.hc(),o.Yc(2," Create Questions "))}function ae(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Question is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function oe(t,e){if(1&t&&o.dc(0,"img",51),2&t){const t=o.xc(3);o.Ec("src",t.qImageSrc,o.Pc)}}function re(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," First answer is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function le(t,e){if(1&t&&o.dc(0,"img",51),2&t){const t=o.xc(3);o.Ec("src",t.qansImageSrc1,o.Pc)}}function he(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Second answer is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function me(t,e){if(1&t&&o.dc(0,"img",51),2&t){const t=o.xc(3);o.Ec("src",t.qansImageSrc1,o.Pc)}}function ue(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Third answer is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function de(t,e){if(1&t&&o.dc(0,"img",51),2&t){const t=o.xc(3);o.Ec("src",t.qansImageSrc1,o.Pc)}}function fe(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Fourth answer is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function pe(t,e){if(1&t&&o.dc(0,"img",51),2&t){const t=o.xc(3);o.Ec("src",t.qansImageSrc1,o.Pc)}}function ge(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Right answer is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function be(t,e){1&t&&(o.ic(0,"mat-error"),o.Yc(1," Question Mark is "),o.ic(2,"strong"),o.Yc(3,"required"),o.hc(),o.hc())}function xe(t,e){if(1&t){const t=o.jc();o.ic(0,"div",37),o.ic(1,"div",38),o.ic(2,"div",39),o.ic(3,"mat-form-field",14),o.ic(4,"mat-label"),o.Yc(5,"Question"),o.hc(),o.dc(6,"textarea",40),o.Wc(7,ae,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(8,"div",39),o.Wc(9,oe,1,1,"img",41),o.ic(10,"div",42),o.ic(11,"label",43),o.Yc(12,"Upload Question"),o.hc(),o.ic(13,"input",44),o.tc("change",(function(c){o.Oc(t);const i=e.index;return o.xc(2).onFileChange(c,"questionImage",i)})),o.hc(),o.hc(),o.hc(),o.ic(14,"div",13),o.ic(15,"mat-form-field",14),o.ic(16,"mat-label"),o.Yc(17,"First Answer"),o.hc(),o.dc(18,"input",45),o.Wc(19,re,4,0,"mat-error",17),o.hc(),o.ic(20,"div",34),o.Wc(21,le,1,1,"img",41),o.ic(22,"div",42),o.ic(23,"label",43),o.Yc(24,"Upload Answer"),o.hc(),o.ic(25,"input",44),o.tc("change",(function(c){o.Oc(t);const i=e.index;return o.xc(2).onFileChange(c,"answerImage1",i)})),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(26,"div",13),o.ic(27,"mat-form-field",14),o.ic(28,"mat-label"),o.Yc(29,"Second Answer"),o.hc(),o.dc(30,"input",46),o.Wc(31,he,4,0,"mat-error",17),o.hc(),o.ic(32,"div",34),o.Wc(33,me,1,1,"img",41),o.ic(34,"div",42),o.ic(35,"label",43),o.Yc(36,"Upload Answer"),o.hc(),o.ic(37,"input",44),o.tc("change",(function(c){o.Oc(t);const i=e.index;return o.xc(2).onFileChange(c,"answerImage2",i)})),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(38,"div",13),o.ic(39,"mat-form-field",14),o.ic(40,"mat-label"),o.Yc(41,"Third Answer"),o.hc(),o.dc(42,"input",47),o.Wc(43,ue,4,0,"mat-error",17),o.hc(),o.ic(44,"div",34),o.Wc(45,de,1,1,"img",41),o.ic(46,"div",42),o.ic(47,"label",43),o.Yc(48,"Upload Answer"),o.hc(),o.ic(49,"input",44),o.tc("change",(function(c){o.Oc(t);const i=e.index;return o.xc(2).onFileChange(c,"answerImage3",i)})),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(50,"div",13),o.ic(51,"mat-form-field",14),o.ic(52,"mat-label"),o.Yc(53,"Fourth Answer"),o.hc(),o.dc(54,"input",48),o.Wc(55,fe,4,0,"mat-error",17),o.hc(),o.ic(56,"div",34),o.Wc(57,pe,1,1,"img",41),o.ic(58,"div",42),o.ic(59,"label",43),o.Yc(60,"Upload Answer"),o.hc(),o.ic(61,"input",44),o.tc("change",(function(c){o.Oc(t);const i=e.index;return o.xc(2).onFileChange(c,"answerImage4",i)})),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(62,"div",13),o.ic(63,"mat-form-field",14),o.ic(64,"mat-label"),o.Yc(65,"Right Answer"),o.hc(),o.dc(66,"input",49),o.Wc(67,ge,4,0,"mat-error",17),o.hc(),o.hc(),o.ic(68,"div",13),o.ic(69,"mat-form-field",14),o.ic(70,"mat-label"),o.Yc(71,"Question Mark"),o.hc(),o.dc(72,"input",50),o.Wc(73,be,4,0,"mat-error",17),o.hc(),o.hc(),o.hc(),o.hc()}if(2&t){const t=e.$implicit,c=e.index,i=o.xc(2);o.Pb(1),o.Ec("formGroupName",c),o.Pb(6),o.Ec("ngIf",i.submitted&&t.get("question").hasError("required")),o.Pb(2),o.Ec("ngIf",i.qImageSrc),o.Pb(10),o.Ec("ngIf",i.submitted&&t.get("answer1").hasError("required")),o.Pb(2),o.Ec("ngIf",i.qansImageSrc1),o.Pb(10),o.Ec("ngIf",i.submitted&&t.get("answer2").hasError("required")),o.Pb(2),o.Ec("ngIf",i.qansImageSrc2),o.Pb(10),o.Ec("ngIf",i.submitted&&t.get("answer3").hasError("required")),o.Pb(2),o.Ec("ngIf",i.qansImageSrc3),o.Pb(10),o.Ec("ngIf",i.submitted&&t.get("answer4").hasError("required")),o.Pb(2),o.Ec("ngIf",i.qansImageSrc4),o.Pb(10),o.Ec("ngIf",i.submitted&&t.get("rightanswer").hasError("required")),o.Pb(6),o.Ec("ngIf",i.submitted&&t.get("marksforthis").hasError("required"))}}function Ee(t,e){if(1&t){const t=o.jc();o.ic(0,"form",11),o.tc("ngSubmit",(function(){return o.Oc(t),o.xc().onSubmit("questions")})),o.ic(1,"div",12),o.Wc(2,xe,74,13,"div",35),o.hc(),o.ic(3,"div",30),o.ic(4,"button",36),o.tc("click",(function(){return o.Oc(t),o.xc().addNextSubjectMark()})),o.Yc(5,"Add Question"),o.hc(),o.ic(6,"button",31),o.Yc(7,"Submit"),o.hc(),o.ic(8,"button",32),o.tc("click",(function(e){return o.Oc(t),o.xc().onFormReset(e,"questions")})),o.Yc(9,"Reset"),o.hc(),o.hc(),o.hc()}if(2&t){const t=o.xc();o.Ec("formGroup",t.questionForm),o.Pb(2),o.Ec("ngForOf",t.f.items.controls)}}function we(t,e){1&t&&(o.ic(0,"mat-icon",10),o.Yc(1,"wc"),o.hc(),o.Yc(2," Exam List "))}function Ie(t,e){1&t&&(o.ic(0,"mat-icon",34),o.Yc(1,"layers"),o.hc(),o.Yc(2," Questions List "))}let ve=(()=>{class t{constructor(t,e,c,i){this._ar=t,this._router=e,this._snackBar=c,this._cs=i,this.loading=!1,this.submitted=!1,this.error="",this.cardTitle="Create Assessment",this.showButtons=!1,this.isTabDisabled=!0,this.buttonLabel="Submit",this._phonePattern="^[0-9-+s()]*$",this._emailPattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.selectedIndex=0,this.classList=[],this.sectionList=[],this.showForm=!0,this.horizontalPosition="start",this.verticalPosition="bottom",this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[a.g,a.c]}ngOnInit(){this.createExamForm=new n.j({classid:new n.g(null,n.x.required),sectionid:new n.g("",n.x.required),examname:new n.g(null,n.x.required),examdate:new n.g("",n.x.required),subjectame:new n.g(null,n.x.required),teachername:new n.g(null,n.x.required),timeallotted:new n.g(null,n.x.required),totalquestions:new n.g(null,n.x.required),totalmarks:new n.g(null,n.x.required),teachersnotes:new n.g(null)}),this.questionForm=new n.j({items:new n.d([this.createFields()])}),this.getClassList()}get f(){return this.questionForm.controls}get ef(){return this.createExamForm.controls}createFields(){return new n.j({question:new n.g(null,n.x.required),question_image:new n.g(null),answer1:new n.g(null,n.x.required),answer1_image:new n.g(null),answer2:new n.g(null,n.x.required),answer2_image:new n.g(null),answer3:new n.g(null,n.x.required),answer3_image:new n.g(null),answer4:new n.g(null,n.x.required),answer4_image:new n.g(null),rightanswer:new n.g(null,n.x.required),marksforthis:new n.g(null,n.x.required)})}onFileChange(t,e,c){const i=new FileReader;if(t.target.files&&t.target.files.length){let s=t.target.files[0].type.split("/")[1];i.readAsDataURL(t.target.files[0]),i.onload=()=>{"questionImage"===e?(this.qImageSrc=i.result,this.questionForm.get("items").at(c).get("question_image").patchValue(this.qImageSrc.replace(`data:image/${s};base64,`,""))):"answerImage1"===e?(this.qansImageSrc1=i.result,this.questionForm.get("items").at(c).get("answer1_image").patchValue(this.qansImageSrc1.replace(`data:image/${s};base64,`,""))):"answerImage2"===e?(this.qansImageSrc2=i.result,this.questionForm.get("items").at(c).get("answer2_image").patchValue(this.qansImageSrc2.replace(`data:image/${s};base64,`,""))):"answerImage3"===e?(this.qansImageSrc3=i.result,this.questionForm.get("items").at(c).get("answer3_image").patchValue(this.qansImageSrc3.replace(`data:image/${s};base64,`,""))):"answerImage4"===e&&(this.qansImageSrc4=i.result,this.questionForm.get("items").at(c).get("answer4_image").patchValue(this.qansImageSrc4.replace(`data:image/${s};base64,`,"")))}}}addNextSubjectMark(){this.f.items.push(this.createFields()),this.controlIndex++}getClassList(){this._cs.getClassSection().subscribe(t=>{t&&(this.classList=t)})}onClassChange(t){t&&this._cs.getSections(t.value).subscribe(t=>{t&&(this.sectionList=t)})}onSubmit(t){if(console.log("onSubmit"),this.submitted=!0,console.log("this.createExamForm.value",this.createExamForm.value),console.log("this.parentForm.value",this.questionForm.value),this.createExamForm.invalid&&0===this.selectedIndex)return;if(this.questionForm.invalid&&1===this.selectedIndex)return;let e={};this.loading=!0,"setup"===t&&(Object.assign(e,this.createExamForm.value),this.classList&&this.classList.length&&this.classList.map(t=>{e.classid===t.id&&(e.classname=t.classname)}),this.sectionList&&this.sectionList.length&&this.sectionList.map(t=>{e.sectionid===t.id&&(e.sectionname=t.sectionname)}),this.examDetails&&this.examDetails.id?(e.id=this.examDetails.id,this._cs.updateExamSetup(e).subscribe(t=>{this.isTabDisabled=!1,this.showNotification("Updated Successfully!!"),this.createExamForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100)},t=>{this.error=t,this.loading=!1,console.error(this.error)})):this._cs.addExamSetup(e).subscribe(t=>{localStorage.setItem("examID",t.id),this.isTabDisabled=!1,this.showNotification("Submitted Successfully!!"),this.createExamForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100),this.selectedIndex=1},t=>{this.error=t,this.loading=!1,console.error(this.error)})),"questions"===t&&(Object.assign(e,this.questionForm.value),e.items.map(t=>(this.questionsRecord&&this.questionsRecord.id&&(t.id=this.questionsRecord.id),t.examid=this.questionsRecord?this.questionsRecord.examid:localStorage.getItem("examID"),t)),this.questionsRecord&&this.questionsRecord.id?this._cs.updateExamQuestions(e.items).subscribe(t=>{this.showNotification("Updated Successfully!!"),this.questionForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100)},t=>{this.error=t,this.loading=!1,console.error(this.error)}):this._cs.addExamQustions(e.items).subscribe(t=>{this.showNotification("Submitted Successfully!!"),this.questionForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100)},t=>{this.error=t,this.loading=!1,console.error(this.error)}))}showNotification(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}onExamEdit(t){t&&(this.examDetails=t,this.createExamForm.patchValue(t))}onQuestionEdit(t){if(t){this.selectedIndex=1,this.questionsRecord=t;let e=[];e.push(t),console.log("questionsList",e),this.questionForm.patchValue({items:e})}}onFormReset(t,e){t&&"setup"===e&&this.createExamForm.reset(),t&&"questions"===e&&this.questionForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(o.cc(s.a),o.cc(s.g),o.cc(r.a),o.cc(f))},t.\u0275cmp=o.Wb({type:t,selectors:[["app-exam-setup"]],decls:26,vars:5,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[3,"selectedIndex"],["mat-tab-label",""],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"pt-3"],[3,"examEdit"],[3,"questionEdit"],[1,"example-tab-icon"],[3,"formGroup","ngSubmit"],[1,"row","col-12","m-0","p-0","pt-3"],[1,"col-12","col-sm-6","col-md-4"],["appearance","outline",1,"p-0"],["placeholder","Select Class","formControlName","classid",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Section","formControlName","sectionid"],["matInput","","formControlName","examname","placeholder","Enter Exam Name"],["matInput","","placeholder","Select Date","formControlName","examdate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","Enter Class Subject Name","formControlName","subjectame"],["matInput","","placeholder","Enter Techaer Name","formControlName","teachername"],["type","number","matInput","","placeholder","Enter Allotted Time","formControlName","timeallotted"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalquestions"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalmarks"],[1,"col-12","col-sm-6","col-md-6"],["matInput","","placeholder","Enter Comments","formControlName","teachersnotes","rows","2"],[1,"example-button-row","pt-3","pb-2","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"value"],[1,""],["class","questions-widget","formArrayName","items",4,"ngFor","ngForOf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"],["formArrayName","items",1,"questions-widget"],[1,"row","m-0",3,"formGroupName"],[1,"col-12"],["matInput","","placeholder","Enter Question","formControlName","question","rows","2"],["style","width:200px;","class","mb-2",3,"src",4,"ngIf"],[1,"form-group"],["for","exampleFormControlFile1"],["type","file","accept","image/*",1,"form-control-file",3,"change"],["matInput","","placeholder","Enter first answer","formControlName","answer1"],["type","text","matInput","","placeholder","Enter second answer","formControlName","answer2"],["matInput","","placeholder","Enter third answer","formControlName","answer3"],["matInput","","placeholder","Enter fourth answer","formControlName","answer4"],["matInput","","placeholder","Enter right answer","formControlName","rightanswer"],["type","number","matInput","","placeholder","Enter mark","formControlName","marksforthis"],[1,"mb-2",2,"width","200px",3,"src"]],template:function(t,e){1&t&&(o.ic(0,"div",0),o.ic(1,"div",1),o.ic(2,"h3"),o.Yc(3,"Assessment Setup"),o.hc(),o.hc(),o.ic(4,"div",2),o.ic(5,"mat-card"),o.ic(6,"mat-card-title"),o.Yc(7),o.hc(),o.ic(8,"mat-card-content",3),o.ic(9,"mat-tab-group",4),o.ic(10,"mat-tab"),o.Wc(11,Ut,3,0,"ng-template",5),o.Wc(12,se,72,15,"form",6),o.hc(),o.ic(13,"mat-tab"),o.Wc(14,ne,3,0,"ng-template",5),o.Wc(15,Ee,10,2,"form",6),o.hc(),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(16,"div",7),o.ic(17,"mat-card"),o.ic(18,"mat-card-content"),o.ic(19,"mat-tab-group",4),o.ic(20,"mat-tab"),o.Wc(21,we,3,0,"ng-template",5),o.ic(22,"app-exams-list",8),o.tc("examEdit",(function(t){return e.onExamEdit(t)})),o.hc(),o.hc(),o.ic(23,"mat-tab"),o.Wc(24,Ie,3,0,"ng-template",5),o.ic(25,"app-question-list",9),o.tc("questionEdit",(function(t){return e.onQuestionEdit(t)})),o.hc(),o.hc(),o.hc(),o.hc(),o.hc(),o.hc(),o.hc()),2&t&&(o.Pb(7),o.Zc(e.cardTitle),o.Pb(2),o.Ec("selectedIndex",e.selectedIndex),o.Pb(3),o.Ec("ngIf",e.showForm),o.Pb(3),o.Ec("ngIf",e.showForm),o.Pb(4),o.Ec("selectedIndex",e.selectedIndex))},directives:[p.a,p.d,p.b,g.b,g.a,g.c,i.n,ht,Nt,C.a,n.z,n.r,n.k,v.c,v.f,Y.a,n.q,n.i,i.m,D.b,n.c,Zt.b,Zt.d,v.g,Zt.a,n.v,P.a,S.n,v.b,n.e,n.l],styles:[".questions-widget[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding-top:15px}.questions-widget[_ngcontent-%COMP%]:first-child{border-top:0 solid #ccc;padding-top:0}"]}),t})();function Ye(t,e){if(1&t&&(o.ic(0,"mat-option",32),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.classname)}}function Pe(t,e){if(1&t&&(o.ic(0,"mat-option",32),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.sectionname)}}function De(t,e){if(1&t&&(o.ic(0,"mat-option",32),o.Yc(1),o.hc()),2&t){const t=e.$implicit;o.Ec("value",t.id),o.Pb(1),o.Zc(t.examname)}}function Ce(t,e){if(1&t){const t=o.jc();o.ic(0,"th",33),o.ic(1,"mat-checkbox",34),o.tc("change",(function(e){o.Oc(t);const c=o.xc();return e?c.masterToggle():null})),o.hc(),o.hc()}if(2&t){const t=o.xc();o.Pb(1),o.Ec("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Se(t,e){if(1&t){const t=o.jc();o.ic(0,"td",35),o.ic(1,"mat-checkbox",36),o.tc("click",(function(e){return o.Oc(t),e.stopPropagation()}))("change",(function(c){o.Oc(t);const i=e.$implicit,s=o.xc();return c?s.selection.toggle(i):null})),o.hc(),o.hc()}if(2&t){const t=e.$implicit,c=o.xc();o.Pb(1),o.Ec("checked",c.selection.isSelected(t))("aria-label",c.checkboxLabel(t))}}function qe(t,e){1&t&&(o.ic(0,"th",37),o.Yc(1,"Exam Name"),o.hc())}function We(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.examname)}}function ke(t,e){if(1&t&&(o.ic(0,"td",35),o.Wc(1,We,2,1,"span",38),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(62);o.Pb(1),o.Ec("ngIf",t.examname)("ngIfElse",c)}}function Oe(t,e){1&t&&(o.ic(0,"th",37),o.Yc(1,"Date"),o.hc())}function Le(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.yc(2,"date"),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(o.Ac(2,1,t.examdate,"dd-MM-yyyy"))}}function ye(t,e){if(1&t&&(o.ic(0,"td",35),o.Wc(1,Le,3,4,"span",38),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(62);o.Pb(1),o.Ec("ngIf",t.examdate)("ngIfElse",c)}}function Fe(t,e){1&t&&(o.ic(0,"th",37),o.Yc(1,"Obtained Mark"),o.hc())}function _e(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.actualmarks)}}function $e(t,e){if(1&t&&(o.ic(0,"td",35),o.Wc(1,_e,2,1,"span",38),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(62);o.Pb(1),o.Ec("ngIf",t.actualmarks)("ngIfElse",c)}}function je(t,e){1&t&&(o.ic(0,"th",37),o.Yc(1," Total Mark "),o.hc())}function Ae(t,e){if(1&t&&(o.ic(0,"span",40),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.ad(" ",t.totalmarks," ")}}function Re(t,e){if(1&t&&(o.ic(0,"td",35),o.Wc(1,Ae,2,1,"span",39),o.hc()),2&t){const t=e.$implicit;o.xc();const c=o.Mc(62);o.Pb(1),o.Ec("ngIf",t.totalmarks)("ngIfElse",c)}}function Me(t,e){1&t&&o.dc(0,"th",41)}function Te(t,e){if(1&t){const t=o.jc();o.ic(0,"td",35),o.ic(1,"div",42),o.ic(2,"div",43),o.dc(3,"span",44),o.ic(4,"div",45),o.ic(5,"button",46),o.tc("click",(function(){o.Oc(t);const c=e.$implicit;return o.xc().onDelete(c)})),o.dc(6,"span",47),o.Yc(7,"\xa0\xa0\xa0Delete"),o.hc(),o.hc(),o.hc(),o.hc(),o.hc()}}function Qe(t,e){1&t&&o.dc(0,"tr",48)}function Ne(t,e){1&t&&o.dc(0,"tr",49)}function Ze(t,e){1&t&&o.Yc(0,"---")}const Ue=function(){return[5,10,25,100]};let ze=(()=>{class t{constructor(t,e,c,i){this._cs=t,this._router=e,this._activatedRout=c,this.as=i,this.displayedColumns=["select","examname","examdate","actualmarks","totalmarks","actions"],this.filterData="",this.isLoading=!0,this.selection=new x.c(!0,[]),this.classID=new n.g,this.sectionID=new n.g,this.examID=new n.g,this.classList=[],this.sectionList=[],this.examList=[]}ngOnInit(){this.getClassSection()}getResults(){this.as.getTotalResultsByStudentID(this.examID.value,JSON.parse(localStorage.getItem("currentUser")).id).subscribe(t=>{Array.isArray(t)&&(this.recordLength=t.length,this.resultList=new b.k(t),this.resultList.sort=this.TSort,this.resultList.paginator=this.paginator,this.isLoading=!1)})}getClassSection(){this._cs.getClassSection().subscribe(t=>{t&&(this.classList=t)})}onClassChange(t){t&&this._cs.getSections(t.value).subscribe(t=>{t&&(this.sectionList=t)})}getExamList(){this.as.getExams(this.classID.value,this.sectionID.value).subscribe(t=>{t&&(this.examList=t)})}isAllSelected(){if(this.classID.value&&this.sectionID.value&&this.resultList)return this.selection.selected.length===this.resultList.data.length}masterToggle(){this.classID.value&&this.sectionID.value&&(this.isAllSelected()?this.selection.clear():this.resultList.data.forEach(t=>this.selection.select(t)))}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}applyFilter(t){this.resultList.filter=t.target.value.trim().toLowerCase(),this.resultList.paginator&&this.resultList.paginator.firstPage()}onDelete(t){confirm("Are sure you want to delete this result?")&&this.as.deleteResults(t.id).subscribe(t=>{this.getResults()})}}return t.\u0275fac=function(e){return new(e||t)(o.cc(I.a),o.cc(s.g),o.cc(s.a),o.cc(f))},t.\u0275cmp=o.Wb({type:t,selectors:[["app-exam-result"]],viewQuery:function(t,e){var c;1&t&&(o.Sc(w.a,!0),o.Sc(E.a,!0)),2&t&&(o.Lc(c=o.uc())&&(e.paginator=c.first),o.Lc(c=o.uc())&&(e.TSort=c.first))},decls:63,vars:13,consts:[[1,"list-container"],[1,"page-title"],[1,"s-list"],[1,"row"],[1,"col-3"],["appearance","outline",1,"p-0","w-100"],["placeholder","Select Class",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Section",3,"formControl","selectionChange"],["placeholder","Select exam",3,"formControl"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"list-head"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"keyup"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","examname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","examdate"],["matColumnDef","actualmarks"],["matColumnDef","totalmarks"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["dash",""],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.ic(0,"div",0),o.ic(1,"div",1),o.ic(2,"h3"),o.Yc(3,"Online Exams Result"),o.hc(),o.hc(),o.ic(4,"div",2),o.ic(5,"div",3),o.ic(6,"div",4),o.ic(7,"mat-form-field",5),o.ic(8,"mat-label"),o.Yc(9,"Class"),o.hc(),o.ic(10,"mat-select",6),o.tc("selectionChange",(function(t){return e.onClassChange(t)})),o.Wc(11,Ye,2,2,"mat-option",7),o.hc(),o.hc(),o.hc(),o.ic(12,"div",4),o.ic(13,"mat-form-field",5),o.ic(14,"mat-label"),o.Yc(15,"Section"),o.hc(),o.ic(16,"mat-select",8),o.tc("selectionChange",(function(){return e.getExamList()})),o.Wc(17,Pe,2,2,"mat-option",7),o.hc(),o.hc(),o.hc(),o.ic(18,"div",4),o.ic(19,"mat-form-field",5),o.ic(20,"mat-label"),o.Yc(21,"Exams"),o.hc(),o.ic(22,"mat-select",9),o.Wc(23,De,2,2,"mat-option",7),o.hc(),o.hc(),o.hc(),o.ic(24,"div",10),o.ic(25,"button",11),o.tc("click",(function(){return e.getResults()})),o.Yc(26,"Search"),o.hc(),o.hc(),o.hc(),o.ic(27,"mat-card"),o.ic(28,"div",12),o.ic(29,"mat-card-title"),o.Yc(30,"Student Result"),o.hc(),o.ic(31,"div"),o.ic(32,"mat-form-field",13),o.ic(33,"mat-label"),o.Yc(34,"Filter"),o.hc(),o.ic(35,"input",14),o.tc("keyup",(function(t){return e.applyFilter(t)})),o.hc(),o.ic(36,"mat-icon",15),o.Yc(37,"search"),o.hc(),o.hc(),o.hc(),o.hc(),o.ic(38,"mat-card-content",16),o.ic(39,"table",17),o.gc(40,18),o.Wc(41,Ce,2,3,"th",19),o.Wc(42,Se,2,2,"td",20),o.fc(),o.gc(43,21),o.Wc(44,qe,2,0,"th",22),o.Wc(45,ke,2,2,"td",20),o.fc(),o.gc(46,23),o.Wc(47,Oe,2,0,"th",22),o.Wc(48,ye,2,2,"td",20),o.fc(),o.gc(49,24),o.Wc(50,Fe,2,0,"th",22),o.Wc(51,$e,2,2,"td",20),o.fc(),o.gc(52,25),o.Wc(53,je,2,0,"th",22),o.Wc(54,Re,2,2,"td",20),o.fc(),o.gc(55,26),o.Wc(56,Me,1,0,"th",27),o.Wc(57,Te,8,0,"td",20),o.fc(),o.Wc(58,Qe,1,0,"tr",28),o.Wc(59,Ne,1,0,"tr",29),o.hc(),o.dc(60,"mat-paginator",30),o.hc(),o.hc(),o.hc(),o.hc(),o.Wc(61,Ze,1,0,"ng-template",null,31,o.Xc)),2&t&&(o.Pb(10),o.Ec("formControl",e.classID),o.Pb(1),o.Ec("ngForOf",e.classList),o.Pb(5),o.Ec("formControl",e.sectionID),o.Pb(1),o.Ec("ngForOf",e.sectionList),o.Pb(5),o.Ec("formControl",e.examID),o.Pb(1),o.Ec("ngForOf",e.examList),o.Pb(16),o.Ec("dataSource",e.resultList),o.Pb(19),o.Ec("matHeaderRowDef",e.displayedColumns),o.Pb(1),o.Ec("matRowDefColumns",e.displayedColumns),o.Pb(1),o.Ec("length",e.recordLength)("pageSize",10)("pageSizeOptions",o.Hc(12,Ue)))},directives:[v.c,v.f,Y.a,n.q,n.h,i.m,P.a,p.a,p.d,D.b,C.a,v.g,p.b,b.j,E.a,b.c,b.e,b.b,b.g,b.i,w.a,S.n,b.d,q.a,b.a,E.b,i.n,W.a,W.e,W.c,W.b,b.f,b.h],pipes:[i.f],styles:[""]}),t})();var Be=c("PqYM"),He=c("pW6c"),Ve=c("f0Cb"),Ge=c("QibW");let Je=(()=>{class t{transform(t){const e=Math.floor(t/3600),c=Math.floor(t%3600/60);return("00"+e).slice(-2)+":"+("00"+c).slice(-2)+":"+("00"+Math.floor(t-60*c)).slice(-2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.bc({name:"reverseCounter",type:t,pure:!0}),t})();function Xe(t,e){if(1&t){const t=o.jc();o.ic(0,"div",8),o.ic(1,"h2",9),o.Yc(2,"Instructions"),o.hc(),o.ic(3,"div",10),o.ic(4,"ul",11),o.ic(5,"li"),o.ic(6,"p"),o.Yc(7,"Welcome to online exam for "),o.ic(8,"strong"),o.Yc(9),o.hc(),o.hc(),o.hc(),o.ic(10,"li"),o.ic(11,"p"),o.Yc(12,"All questions are compulsory."),o.hc(),o.hc(),o.ic(13,"li"),o.ic(14,"p"),o.Yc(15,"Exam for subject"),o.ic(16,"strong"),o.Yc(17),o.hc(),o.hc(),o.hc(),o.ic(18,"li"),o.ic(19,"p"),o.Yc(20,"Exam has total "),o.ic(21,"strong"),o.Yc(22),o.hc(),o.Yc(23,"questions."),o.hc(),o.hc(),o.ic(24,"li"),o.ic(25,"p"),o.Yc(26,"Total time for exam is"),o.ic(27,"strong"),o.Yc(28),o.hc(),o.Yc(29,"minutes."),o.hc(),o.hc(),o.ic(30,"li"),o.ic(31,"p"),o.Yc(32,"Total marks for exam is "),o.ic(33,"strong"),o.Yc(34),o.hc(),o.hc(),o.hc(),o.ic(35,"li"),o.ic(36,"p"),o.Yc(37,"You are allowed to submit only once, make sure that you have correctly attempted all the questions before submission."),o.hc(),o.hc(),o.ic(38,"li"),o.ic(39,"p"),o.Yc(40,"Make sure you clicked on submit button to successfully complete the test."),o.hc(),o.hc(),o.ic(41,"li"),o.ic(42,"p"),o.Yc(43,"New students must contact their class teacher for the admission number."),o.hc(),o.hc(),o.hc(),o.ic(44,"h3",12),o.ic(45,"em"),o.Yc(46,"Best of Luck for your Exam"),o.hc(),o.hc(),o.dc(47,"mat-divider"),o.dc(48,"br"),o.ic(49,"div",13),o.ic(50,"button",14),o.tc("click",(function(){return o.Oc(t),o.xc(2).getQuestions()})),o.Yc(51,"Start Exam"),o.hc(),o.hc(),o.hc(),o.hc()}if(2&t){const t=o.xc(2);o.Pb(9),o.ad("",null==t.examDetails[0]?null:t.examDetails[0].examname,"."),o.Pb(8),o.ad(" ",null==t.examDetails[0]?null:t.examDetails[0].subjectame,"."),o.Pb(5),o.ad(" ",null==t.examDetails[0]?null:t.examDetails[0].totalquestions," "),o.Pb(6),o.ad(" ",null==t.examDetails[0]?null:t.examDetails[0].timeallotted," "),o.Pb(6),o.ad(" ",null==t.examDetails[0]?null:t.examDetails[0].totalmarks,".")}}function Ke(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.question)}}function tc(t,e){if(1&t&&o.dc(0,"img",26),2&t){const t=o.xc().$implicit;o.Ec("src","data:image/png;base64,"+t.question_image,o.Pc)}}function ec(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.answer1)}}function cc(t,e){if(1&t&&o.dc(0,"img",26),2&t){const t=o.xc().$implicit;o.Ec("src","data:image/png;base64,"+t.answer1_image,o.Pc)}}function ic(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.answer2)}}function sc(t,e){if(1&t&&o.dc(0,"img",26),2&t){const t=o.xc().$implicit;o.Ec("src","data:image/png;base64,"+t.answer2_image,o.Pc)}}function nc(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.answer2)}}function ac(t,e){if(1&t&&o.dc(0,"img",26),2&t){const t=o.xc().$implicit;o.Ec("src","data:image/png;base64,"+t.answer3_image,o.Pc)}}function oc(t,e){if(1&t&&(o.ic(0,"span"),o.Yc(1),o.hc()),2&t){const t=o.xc().$implicit;o.Pb(1),o.Zc(t.answer2)}}function rc(t,e){if(1&t&&o.dc(0,"img",26),2&t){const t=o.xc().$implicit;o.Ec("src","data:image/png;base64,"+t.answer4_image,o.Pc)}}function lc(t,e){if(1&t){const t=o.jc();o.ic(0,"li"),o.ic(1,"div",20),o.ic(2,"strong"),o.Yc(3,"Q."),o.hc(),o.Yc(4,"\xa0 "),o.Wc(5,Ke,2,1,"span",4),o.Wc(6,tc,1,1,"img",21),o.hc(),o.ic(7,"mat-radio-group",22),o.tc("change",(function(c){o.Oc(t);const i=e.$implicit;return o.xc(3).onSelection(c,i.id)})),o.ic(8,"ul",23),o.ic(9,"li",24),o.ic(10,"mat-radio-button",25),o.Wc(11,ec,2,1,"span",4),o.Wc(12,cc,1,1,"img",21),o.hc(),o.hc(),o.ic(13,"li",24),o.ic(14,"mat-radio-button",25),o.Wc(15,ic,2,1,"span",4),o.Wc(16,sc,1,1,"img",21),o.hc(),o.hc(),o.ic(17,"li",24),o.ic(18,"mat-radio-button",25),o.Wc(19,nc,2,1,"span",4),o.Wc(20,ac,1,1,"img",21),o.hc(),o.hc(),o.ic(21,"li",24),o.ic(22,"mat-radio-button",25),o.Wc(23,oc,2,1,"span",4),o.Wc(24,rc,1,1,"img",21),o.hc(),o.hc(),o.hc(),o.hc(),o.hc()}if(2&t){const t=e.$implicit;o.Pb(5),o.Ec("ngIf",t.question),o.Pb(1),o.Ec("ngIf",t.question_image),o.Pb(4),o.Ec("value",t.answer1),o.Pb(1),o.Ec("ngIf",t.answer1),o.Pb(1),o.Ec("ngIf",t.answer1_image),o.Pb(2),o.Ec("value",t.answer2),o.Pb(1),o.Ec("ngIf",t.answer2),o.Pb(1),o.Ec("ngIf",t.answer2_image),o.Pb(2),o.Ec("value",t.answer3),o.Pb(1),o.Ec("ngIf",t.answer3),o.Pb(1),o.Ec("ngIf",t.answer3_image),o.Pb(2),o.Ec("value",t.answer4),o.Pb(1),o.Ec("ngIf",t.answer4),o.Pb(1),o.Ec("ngIf",t.answer4_image)}}function hc(t,e){if(1&t){const t=o.jc();o.ic(0,"div",16),o.ic(1,"button",27),o.tc("click",(function(){return o.Oc(t),o.xc(3).prevQuestion()})),o.Yc(2,"Previous"),o.hc(),o.ic(3,"button",28),o.tc("click",(function(){return o.Oc(t),o.xc(3).nextQuestion()})),o.Yc(4),o.hc(),o.hc()}if(2&t){const t=o.xc(3);o.Pb(1),o.Ec("disabled",0==t.startIndex),o.Pb(3),o.Zc(t.btnLabel)}}function mc(t,e){if(1&t&&(o.ic(0,"div",15),o.ic(1,"div",16),o.ic(2,"p"),o.Yc(3,"Subject: "),o.ic(4,"strong"),o.Yc(5),o.hc(),o.hc(),o.ic(6,"p"),o.Yc(7,"Time Left: "),o.ic(8,"strong"),o.Yc(9),o.yc(10,"reverseCounter"),o.hc(),o.hc(),o.hc(),o.dc(11,"mat-divider"),o.ic(12,"ul",17),o.Wc(13,lc,25,14,"li",18),o.yc(14,"slice"),o.hc(),o.Wc(15,hc,5,2,"div",19),o.hc()),2&t){const t=o.xc(2);o.Pb(5),o.Zc(null==t.examDetails[0]?null:t.examDetails[0].subjectame),o.Pb(4),o.Zc(o.zc(10,4,t.allottedTime)),o.Pb(4),o.Ec("ngForOf",o.Bc(14,6,t.questionAnsList,t.startIndex,t.endIndex)),o.Pb(2),o.Ec("ngIf",!(t.endIndex>t.questionAnsList.length))}}function uc(t,e){if(1&t&&(o.ic(0,"div"),o.Wc(1,Xe,52,5,"div",6),o.Wc(2,mc,16,10,"div",7),o.hc()),2&t){const t=o.xc();o.Pb(1),o.Ec("ngIf",!t.showQuestions),o.Pb(1),o.Ec("ngIf",t.showQuestions)}}function dc(t,e){if(1&t&&(o.ic(0,"div",29),o.ic(1,"p"),o.ic(2,"strong"),o.Yc(3,"Subject: "),o.hc(),o.Yc(4),o.hc(),o.ic(5,"p"),o.ic(6,"strong"),o.Yc(7,"Total Questions: "),o.hc(),o.Yc(8),o.hc(),o.ic(9,"p"),o.ic(10,"strong"),o.Yc(11,"Total Marks: "),o.hc(),o.Yc(12),o.hc(),o.ic(13,"p"),o.ic(14,"strong"),o.Yc(15,"Obtained Mark: "),o.hc(),o.Yc(16),o.hc(),o.hc()),2&t){const t=o.xc();o.Pb(4),o.ad(" ",t.examDetails[0].subjectame,""),o.Pb(4),o.ad(" ",t.examDetails[0].totalquestions,""),o.Pb(4),o.ad(" ",t.examDetails[0].totalmarks,""),o.Pb(4),o.bd(" ",t.obtainedMark,"/",t.examDetails[0].totalmarks,"")}}const fc=[{path:"",component:ve,data:{breadcrumb:"Setup"}},{path:"questions",component:(()=>{class t{constructor(t,e,c){this.date=t,this.authenticationService=e,this.as=c,this.questionAnsList=[],this.examDetails=[],this.tick=1e3,this.btnLabel="Next",this.examResult={},this.obtainedMark=0}ngOnInit(){this.isStartExam=!0,this.showResult=!0,this.showQuestions=!1,this.startIndex=0,this.endIndex=1,this.questionAnsList&&this.questionAnsList.length&&(this.countDown=Object(Be.a)(0,this.tick).subscribe(()=>{0==--this.allottedTime&&this.insertResult()})),this.startAssessment()}startAssessment(){this.authenticationService.currentUser.subscribe(t=>{this.as.getExamsByStudentID(this.date.transform(new Date,"2020-10-23"),t.id).subscribe(t=>{Array.isArray(t)&&t.length?(this.examDetails=t,this.examID=t[0].id,this.isStartExam=!1,this.allottedTime=60*this.examDetails[0].timeallotted):(this.isStartExam=!0,alert("Exams are not scheduled!"))})})}getQuestions(){this.as.getQuestionByExamID(this.examDetails[0].id).subscribe(t=>{Array.isArray(t)&&t.length>0&&(this.countDown=Object(Be.a)(0,this.tick).subscribe(()=>(0==--this.allottedTime&&this.insertResult(),--this.allottedTime)),this.showQuestions=!0,this.questionAnsList=t)})}nextQuestion(){this.startIndex=this.startIndex+1,this.endIndex=this.endIndex+1,this.endIndex===this.questionAnsList.length&&(this.btnLabel="Submit"),this.endIndex>this.questionAnsList.length&&this.insertResult()}insertResult(){this.examResult={examid:this.examDetails[0].id,studentid:JSON.parse(localStorage.getItem("currentUser")).id,totalmarks:this.examDetails[0].totalmarks,actualmarks:this.obtainedMark},this.as.addExamResults(this.examResult).subscribe(t=>{this.showResult=!1})}onSelection(t,e){this.questionAnsList.map(c=>{e===c.id&&t.value===c.rightanswer&&(this.obtainedMark+=c.marksforthis)})}prevQuestion(){this.startIndex=this.startIndex-1,this.endIndex=this.endIndex-1,this.endIndex<this.questionAnsList.length&&(this.btnLabel="Next")}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(o.cc(i.f),o.cc(He.a),o.cc(f))},t.\u0275cmp=o.Wb({type:t,selectors:[["app-assessment-questions"]],features:[o.Ob([i.f])],decls:9,vars:2,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[4,"ngIf"],["class","exam-result",4,"ngIf"],["class","pb-2",4,"ngIf"],["class","questions-widget",4,"ngIf"],[1,"pb-2"],[1,"text-center","font-weight-bold"],[1,""],[1,"m-0"],[1,"font-weight-bold"],[1,"text-center"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"],[1,"questions-widget"],[1,"d-flex","justify-content-between"],[1,"p-3"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"mb-3"],["alt","",3,"src",4,"ngIf"],[3,"change"],[1,"answerList","row"],[1,"col-12","col-md-6"],[3,"value"],["alt","",3,"src"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],[1,"exam-result"]],template:function(t,e){1&t&&(o.ic(0,"div",0),o.ic(1,"div",1),o.ic(2,"h3"),o.Yc(3,"Assessment Questions"),o.hc(),o.hc(),o.ic(4,"div",2),o.ic(5,"mat-card"),o.ic(6,"mat-card-content",3),o.Wc(7,uc,3,2,"div",4),o.Wc(8,dc,17,5,"div",5),o.hc(),o.hc(),o.hc(),o.hc()),2&t&&(o.Pb(7),o.Ec("ngIf",e.showResult),o.Pb(1),o.Ec("ngIf",!e.showResult))},directives:[p.a,p.b,i.n,Ve.a,P.a,i.m,Ge.b,Ge.a],pipes:[Je,i.w],styles:[".questions-widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.questions-widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.questions-widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding-bottom:10px}"]}),t})(),data:{breadcrumb:"Questions"}},{path:"result",component:ze,data:{breadcrumb:"Result"}}];let pc=(()=>{class t{}return t.\u0275mod=o.ac({type:t}),t.\u0275inj=o.Zb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(fc)],s.i]}),t})();var gc=c("jAig");let bc=(()=>{class t{}return t.\u0275mod=o.ac({type:t}),t.\u0275inj=o.Zb({factory:function(e){return new(e||t)},imports:[[i.c,pc,n.m,n.w,W.d,gc.a]]}),t})()}}]);