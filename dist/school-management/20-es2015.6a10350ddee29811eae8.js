(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cFL4:function(t,e,r){"use strict";r.r(e),r.d(e,"OnlineExaminationModule",(function(){return ot}));var c=r("ofXK"),i=r("tyNb"),a=r("3Pt+"),s=r("FtGj"),n=r("fXoL"),o=r("dNgK"),m=r("tk/3"),l=r("z6cu"),h=r("lJxs"),u=r("JIr8"),d=r("AytR");let p=(()=>{class t{constructor(t){this._http=t,this._apiUrl=d.a.apiBaseUrl,this.httpOptions={headers:new m.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}),crossDomain:!0}}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Back-end returned code ${t.status}, body was: `+t.error),Object(l.a)("Something bad happened; please try again later.")}extractData(t){return t||{}}getExams(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/Getexamsdropdown?classid=${t}&sectionid=${e}`).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}getExamsDropdownForStudent(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getexamsdropdownforstudents?studentid="+t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}getExamsByStudentID(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/GetexamsBystudentid?dateTime=${t}&studentid=${e}`).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}getQuestionByExamID(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getquestonsbyexamid?examid="+t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}getClassSection(){return this._http.get(this._apiUrl+"setup/getclassesandsections").pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}getSections(t){return this._http.get(`${this._apiUrl}setup/getsectionsforclass?id=${t}`).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}addExamResults(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddExamResults",t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}addExamSetup(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddOnlineExam",t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}addExamQustions(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddQuestions",t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}getTotalResultsByStudentID(t,e){return this._http.get(this._apiUrl+`OnlineexamsController/GetTotalresultsbystudentid?examid=${t}&studentid=${e}`).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}updateExamResults(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateExamResults",t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}updateExamSetup(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateOnlineExam",t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}updateExamQuestions(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateQuestions",t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}deleteResults(t){return this._http.delete(this._apiUrl+"attandance/DeleteResult?id="+t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}deleteQuestions(t){return this._http.delete(this._apiUrl+"attandance/DeleteQuestion?id="+t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}deleteExamSetup(t){return this._http.delete(this._apiUrl+"attandance/DeleteExam?id="+t).pipe(Object(h.a)(this.extractData),Object(u.a)(this.handleError))}}return t.\u0275fac=function(e){return new(e||t)(n.qc(m.b))},t.\u0275prov=n.Yb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=r("Wp6s"),f=r("wZkO"),b=r("NFeN"),x=r("kmnG"),w=r("d3UM"),q=r("qFsG"),I=r("iadO"),E=r("bTqV"),D=r("FKr1");function S(t,e){1&t&&(n.ic(0,"mat-icon",7),n.Xc(1,"wc"),n.hc(),n.Xc(2," Exam Setup "))}function X(t,e){if(1&t&&(n.ic(0,"mat-option",30),n.Xc(1),n.hc()),2&t){const t=e.$implicit;n.Dc("value",t.id),n.Pb(1),n.Yc(t.classname)}}function v(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Class is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function O(t,e){if(1&t&&(n.ic(0,"mat-option",30),n.Xc(1),n.hc()),2&t){const t=e.$implicit;n.Dc("value",t.id),n.Pb(1),n.Zc("",t.sectionname," ")}}function F(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Section is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function C(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Exam name is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function _(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Exam date is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function j(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Subject is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function N(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Teacher name is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function y(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Allotted time is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function P(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Total questions is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function k(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Total marks is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function V(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Comments is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function A(t,e){if(1&t){const t=n.jc();n.ic(0,"form",8),n.tc("ngSubmit",(function(){return n.Nc(t),n.xc().onSubmit("setup")})),n.ic(1,"div",9),n.ic(2,"div",10),n.ic(3,"mat-form-field",11),n.ic(4,"mat-label"),n.Xc(5,"Class"),n.hc(),n.ic(6,"mat-select",12),n.tc("selectionChange",(function(e){return n.Nc(t),n.xc().onClassChange(e)})),n.Vc(7,X,2,2,"mat-option",13),n.hc(),n.Vc(8,v,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(9,"div",10),n.ic(10,"mat-form-field",11),n.ic(11,"mat-label"),n.Xc(12,"Section"),n.hc(),n.ic(13,"mat-select",15),n.Vc(14,O,2,2,"mat-option",13),n.hc(),n.Vc(15,F,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(16,"div",10),n.ic(17,"mat-form-field",11),n.ic(18,"mat-label"),n.Xc(19,"Exam Name"),n.hc(),n.dc(20,"input",16),n.Vc(21,C,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(22,"div",10),n.ic(23,"mat-form-field",11),n.ic(24,"mat-label"),n.Xc(25,"Date of Exam"),n.hc(),n.dc(26,"input",17),n.dc(27,"mat-datepicker-toggle",18),n.dc(28,"mat-datepicker",null,19),n.Vc(30,_,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(31,"div",10),n.ic(32,"mat-form-field",11),n.ic(33,"mat-label"),n.Xc(34,"Subject"),n.hc(),n.dc(35,"input",20),n.Vc(36,j,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(37,"div",10),n.ic(38,"mat-form-field",11),n.ic(39,"mat-label"),n.Xc(40,"Teacher Name"),n.hc(),n.dc(41,"input",21),n.Vc(42,N,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(43,"div",10),n.ic(44,"mat-form-field",11),n.ic(45,"mat-label"),n.Xc(46,"Allotted Time"),n.hc(),n.dc(47,"input",22),n.Vc(48,y,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(49,"div",10),n.ic(50,"mat-form-field",11),n.ic(51,"mat-label"),n.Xc(52,"Total Questions"),n.hc(),n.dc(53,"input",23),n.Vc(54,P,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(55,"div",10),n.ic(56,"mat-form-field",11),n.ic(57,"mat-label"),n.Xc(58,"Total Marks"),n.hc(),n.dc(59,"input",24),n.Vc(60,k,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(61,"div",25),n.ic(62,"mat-form-field",11),n.ic(63,"mat-label"),n.Xc(64,"Comments"),n.hc(),n.dc(65,"textarea",26),n.Vc(66,V,4,0,"mat-error",14),n.hc(),n.hc(),n.hc(),n.ic(67,"div",27),n.ic(68,"button",28),n.Xc(69,"Next"),n.hc(),n.ic(70,"button",29),n.tc("click",(function(e){return n.Nc(t),n.xc().onFormReset(e,"setup")})),n.Xc(71,"Reset"),n.hc(),n.hc(),n.hc()}if(2&t){const t=n.Lc(29),e=n.xc();n.Dc("formGroup",e.createExamForm),n.Pb(7),n.Dc("ngForOf",e.classList),n.Pb(1),n.Dc("ngIf",e.submitted&&e.ef.classid.hasError("required")),n.Pb(6),n.Dc("ngForOf",e.sectionList),n.Pb(1),n.Dc("ngIf",e.submitted&&e.ef.sectionid.hasError("required")),n.Pb(6),n.Dc("ngIf",e.submitted&&e.ef.examname.hasError("required")),n.Pb(5),n.Dc("matDatepicker",t),n.Pb(1),n.Dc("for",t),n.Pb(3),n.Dc("ngIf",e.submitted&&e.ef.examdate.hasError("required")),n.Pb(6),n.Dc("ngIf",e.submitted&&e.ef.subjectame.hasError("required")),n.Pb(6),n.Dc("ngIf",e.submitted&&e.ef.teachername.hasError("required")),n.Pb(6),n.Dc("ngIf",e.submitted&&e.ef.timeallotted.hasError("required")),n.Pb(6),n.Dc("ngIf",e.submitted&&e.ef.totalquestions.hasError("required")),n.Pb(6),n.Dc("ngIf",e.submitted&&e.ef.totalmarks.hasError("required")),n.Pb(6),n.Dc("ngIf",e.submitted&&e.ef.teachersnotes.hasError("required"))}}function U(t,e){1&t&&(n.ic(0,"mat-icon",31),n.Xc(1,"layers"),n.hc(),n.Xc(2," Create Questions "))}function Q(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Question is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function T(t,e){if(1&t&&n.dc(0,"img",48),2&t){const t=n.xc(3);n.Dc("src",t.qImageSrc,n.Oc)}}function L(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," First answer is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function R(t,e){if(1&t&&n.dc(0,"img",48),2&t){const t=n.xc(3);n.Dc("src",t.qansImageSrc1,n.Oc)}}function G(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Second answer is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function $(t,e){if(1&t&&n.dc(0,"img",48),2&t){const t=n.xc(3);n.Dc("src",t.qansImageSrc1,n.Oc)}}function B(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Third answer is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function M(t,e){if(1&t&&n.dc(0,"img",48),2&t){const t=n.xc(3);n.Dc("src",t.qansImageSrc1,n.Oc)}}function z(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Fourth answer is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function Z(t,e){if(1&t&&n.dc(0,"img",48),2&t){const t=n.xc(3);n.Dc("src",t.qansImageSrc1,n.Oc)}}function W(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Right answer is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function J(t,e){1&t&&(n.ic(0,"mat-error"),n.Xc(1," Question Mark is "),n.ic(2,"strong"),n.Xc(3,"required"),n.hc(),n.hc())}function K(t,e){if(1&t){const t=n.jc();n.ic(0,"div",34),n.ic(1,"div",35),n.ic(2,"div",36),n.ic(3,"mat-form-field",11),n.ic(4,"mat-label"),n.Xc(5,"Question"),n.hc(),n.dc(6,"textarea",37),n.Vc(7,Q,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(8,"div",36),n.Vc(9,T,1,1,"img",38),n.ic(10,"div",39),n.ic(11,"label",40),n.Xc(12,"Upload Question"),n.hc(),n.ic(13,"input",41),n.tc("change",(function(r){n.Nc(t);const c=e.index;return n.xc(2).onFileChange(r,"questionImage",c)})),n.hc(),n.hc(),n.hc(),n.ic(14,"div",10),n.ic(15,"mat-form-field",11),n.ic(16,"mat-label"),n.Xc(17,"First Answer"),n.hc(),n.dc(18,"input",42),n.Vc(19,L,4,0,"mat-error",14),n.hc(),n.ic(20,"div",31),n.Vc(21,R,1,1,"img",38),n.ic(22,"div",39),n.ic(23,"label",40),n.Xc(24,"Upload Answer"),n.hc(),n.ic(25,"input",41),n.tc("change",(function(r){n.Nc(t);const c=e.index;return n.xc(2).onFileChange(r,"answerImage1",c)})),n.hc(),n.hc(),n.hc(),n.hc(),n.ic(26,"div",10),n.ic(27,"mat-form-field",11),n.ic(28,"mat-label"),n.Xc(29,"Second Answer"),n.hc(),n.dc(30,"input",43),n.Vc(31,G,4,0,"mat-error",14),n.hc(),n.ic(32,"div",31),n.Vc(33,$,1,1,"img",38),n.ic(34,"div",39),n.ic(35,"label",40),n.Xc(36,"Upload Answer"),n.hc(),n.ic(37,"input",41),n.tc("change",(function(r){n.Nc(t);const c=e.index;return n.xc(2).onFileChange(r,"answerImage2",c)})),n.hc(),n.hc(),n.hc(),n.hc(),n.ic(38,"div",10),n.ic(39,"mat-form-field",11),n.ic(40,"mat-label"),n.Xc(41,"Third Answer"),n.hc(),n.dc(42,"input",44),n.Vc(43,B,4,0,"mat-error",14),n.hc(),n.ic(44,"div",31),n.Vc(45,M,1,1,"img",38),n.ic(46,"div",39),n.ic(47,"label",40),n.Xc(48,"Upload Answer"),n.hc(),n.ic(49,"input",41),n.tc("change",(function(r){n.Nc(t);const c=e.index;return n.xc(2).onFileChange(r,"answerImage3",c)})),n.hc(),n.hc(),n.hc(),n.hc(),n.ic(50,"div",10),n.ic(51,"mat-form-field",11),n.ic(52,"mat-label"),n.Xc(53,"Fourth Answer"),n.hc(),n.dc(54,"input",45),n.Vc(55,z,4,0,"mat-error",14),n.hc(),n.ic(56,"div",31),n.Vc(57,Z,1,1,"img",38),n.ic(58,"div",39),n.ic(59,"label",40),n.Xc(60,"Upload Answer"),n.hc(),n.ic(61,"input",41),n.tc("change",(function(r){n.Nc(t);const c=e.index;return n.xc(2).onFileChange(r,"answerImage4",c)})),n.hc(),n.hc(),n.hc(),n.hc(),n.ic(62,"div",10),n.ic(63,"mat-form-field",11),n.ic(64,"mat-label"),n.Xc(65,"Right Answer"),n.hc(),n.dc(66,"input",46),n.Vc(67,W,4,0,"mat-error",14),n.hc(),n.hc(),n.ic(68,"div",10),n.ic(69,"mat-form-field",11),n.ic(70,"mat-label"),n.Xc(71,"Question Mark"),n.hc(),n.dc(72,"input",47),n.Vc(73,J,4,0,"mat-error",14),n.hc(),n.hc(),n.hc(),n.hc()}if(2&t){const t=e.$implicit,r=e.index,c=n.xc(2);n.Pb(1),n.Dc("formGroupName",r),n.Pb(6),n.Dc("ngIf",c.submitted&&t.get("question").hasError("required")),n.Pb(2),n.Dc("ngIf",c.qImageSrc),n.Pb(10),n.Dc("ngIf",c.submitted&&t.get("answer1").hasError("required")),n.Pb(2),n.Dc("ngIf",c.qansImageSrc1),n.Pb(10),n.Dc("ngIf",c.submitted&&t.get("answer2").hasError("required")),n.Pb(2),n.Dc("ngIf",c.qansImageSrc2),n.Pb(10),n.Dc("ngIf",c.submitted&&t.get("answer3").hasError("required")),n.Pb(2),n.Dc("ngIf",c.qansImageSrc3),n.Pb(10),n.Dc("ngIf",c.submitted&&t.get("answer4").hasError("required")),n.Pb(2),n.Dc("ngIf",c.qansImageSrc4),n.Pb(10),n.Dc("ngIf",c.submitted&&t.get("rightanswer").hasError("required")),n.Pb(6),n.Dc("ngIf",c.submitted&&t.get("marksforthis").hasError("required"))}}function Y(t,e){if(1&t){const t=n.jc();n.ic(0,"form",8),n.tc("ngSubmit",(function(){return n.Nc(t),n.xc().onSubmit("questions")})),n.ic(1,"div",9),n.Vc(2,K,74,13,"div",32),n.hc(),n.ic(3,"div",27),n.ic(4,"button",33),n.tc("click",(function(){return n.Nc(t),n.xc().addNextSubjectMark()})),n.Xc(5,"Add Question"),n.hc(),n.ic(6,"button",28),n.Xc(7,"Submit"),n.hc(),n.ic(8,"button",29),n.tc("click",(function(e){return n.Nc(t),n.xc().onFormReset(e,"questions")})),n.Xc(9,"Reset"),n.hc(),n.hc(),n.hc()}if(2&t){const t=n.xc();n.Dc("formGroup",t.questionForm),n.Pb(2),n.Dc("ngForOf",t.f.items.controls)}}let H=(()=>{class t{constructor(t,e,r,c){this._ar=t,this._router=e,this._snackBar=r,this._cs=c,this.loading=!1,this.submitted=!1,this.error="",this.cardTitle="Create Assessment",this.showButtons=!1,this.isTabDisabled=!0,this.buttonLabel="Submit",this._phonePattern="^[0-9-+s()]*$",this._emailPattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.selectedIndex=0,this.classList=[],this.sectionList=[],this.showForm=!0,this.horizontalPosition="start",this.verticalPosition="bottom",this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[s.g,s.c]}ngOnInit(){this.createExamForm=new a.j({classid:new a.g(null,a.x.required),sectionid:new a.g("",a.x.required),examname:new a.g(null,a.x.required),examdate:new a.g("",a.x.required),subjectame:new a.g(null,a.x.required),teachername:new a.g(null,a.x.required),timeallotted:new a.g(null,a.x.required),totalquestions:new a.g(null,a.x.required),totalmarks:new a.g(null,a.x.required),teachersnotes:new a.g(null)}),this.questionForm=new a.j({items:new a.d([this.createFields()])}),this.getClassList()}get f(){return this.questionForm.controls}get ef(){return this.createExamForm.controls}createFields(){return new a.j({question:new a.g(null,a.x.required),question_image:new a.g(null),answer1:new a.g(null,a.x.required),answer1_image:new a.g(null),answer2:new a.g(null,a.x.required),answer2_image:new a.g(null),answer3:new a.g(null,a.x.required),answer3_image:new a.g(null),answer4:new a.g(null,a.x.required),answer4_image:new a.g(null),rightanswer:new a.g(null,a.x.required),marksforthis:new a.g(null,a.x.required)})}onFileChange(t,e,r){const c=new FileReader;t.target.files&&t.target.files.length&&(c.readAsDataURL(t.target.files[0]),c.onload=()=>{"questionImage"===e?(this.qImageSrc=c.result,this.questionForm.get("items").at(r).get("question_image").patchValue(this.qImageSrc.substring(22))):"answerImage1"===e?(this.qansImageSrc1=c.result,this.questionForm.get("items").at(r).get("answer1_image").patchValue(this.qansImageSrc1.substring(22))):"answerImage2"===e?(this.qansImageSrc2=c.result,this.questionForm.get("items").at(r).get("answer2_image").patchValue(this.qansImageSrc2.substring(22))):"answerImage3"===e?(this.qansImageSrc3=c.result,this.questionForm.get("items").at(r).get("answer3_image").patchValue(this.qansImageSrc3.substring(22))):"answerImage4"===e&&(this.qansImageSrc4=c.result,this.questionForm.get("items").at(r).get("answer4_image").patchValue(this.qansImageSrc4.substring(22)))})}addNextSubjectMark(){this.f.items.push(this.createFields()),this.controlIndex++}getClassList(){this._cs.getClassSection().subscribe(t=>{t&&(this.classList=t)})}onClassChange(t){t&&this._cs.getSections(t.value).subscribe(t=>{t&&(this.sectionList=t)})}onSubmit(t){if(console.log("onSubmit"),this.submitted=!0,console.log("this.createExamForm.value",this.createExamForm.value),console.log("this.parentForm.value",this.questionForm.value),this.createExamForm.invalid&&0===this.selectedIndex)return;if(this.questionForm.invalid&&1===this.selectedIndex)return;let e,r={};this.loading=!0,"setup"===t&&(Object.assign(r,this.createExamForm.value),this.classList&&this.classList.length&&this.classList.map(t=>{r.classid===t.id&&(r.classname=t.classname)}),this.sectionList&&this.sectionList.length&&this.sectionList.map(t=>{r.sectionid===t.id&&(r.sectionname=t.sectionname)}),this._cs.addExamSetup(r).subscribe(t=>{e=t.examid,this.isTabDisabled=!1,this.showNotification("Submitted Successfully!!"),this.createExamForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100),this.selectedIndex=1},t=>{this.error=t,this.loading=!1,console.error(this.error)})),"questions"===t&&(Object.assign(r,this.questionForm.value),r.items.map(t=>(t.examid=e,t)),console.log("payload",r),this._cs.addExamQustions(r.items).subscribe(t=>{console.log("data",t),this.showNotification("Submitted Successfully!!"),this.questionForm.reset(),this.showForm=!1,this.submitted=!1,setTimeout(()=>{this.showForm=!0},100)},t=>{this.error=t,this.loading=!1,console.error(this.error)}))}showNotification(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}onFormReset(t,e){t&&"setup"===e&&this.createExamForm.reset(),t&&"questions"===e&&this.questionForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(n.cc(i.a),n.cc(i.g),n.cc(o.a),n.cc(p))},t.\u0275cmp=n.Wb({type:t,selectors:[["app-exam-setup"]],decls:16,vars:4,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[3,"selectedIndex"],["mat-tab-label",""],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"example-tab-icon"],[3,"formGroup","ngSubmit"],[1,"row","col-12","m-0","p-0","pt-3"],[1,"col-12","col-sm-6","col-md-4"],["appearance","outline",1,"p-0"],["placeholder","Select Class","formControlName","classid",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Section","formControlName","sectionid"],["matInput","","formControlName","examname","placeholder","Enter Exam Name"],["matInput","","placeholder","Select Date","formControlName","examdate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","Enter Class Subject Name","formControlName","subjectame"],["matInput","","placeholder","Enter Techaer Name","formControlName","teachername"],["type","number","matInput","","placeholder","Enter Allotted Time","formControlName","timeallotted"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalquestions"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalmarks"],[1,"col-12","col-sm-6","col-md-6"],["matInput","","placeholder","Enter Comments","formControlName","teachersnotes","rows","2"],[1,"example-button-row","pt-3","pb-2","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"value"],[1,""],["class","questions-widget","formArrayName","items",4,"ngFor","ngForOf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"],["formArrayName","items",1,"questions-widget"],[1,"row","m-0",3,"formGroupName"],[1,"col-12"],["matInput","","placeholder","Enter Question","formControlName","question","rows","2"],["style","width:200px;","class","mb-2",3,"src",4,"ngIf"],[1,"form-group"],["for","exampleFormControlFile1"],["type","file","id","exampleFormControlFile1","accept","image/*",1,"form-control-file",3,"change"],["matInput","","placeholder","Enter first answer","formControlName","answer1"],["type","number","matInput","","placeholder","Enter second answer","formControlName","answer2"],["matInput","","placeholder","Enter third answer","formControlName","answer3"],["matInput","","placeholder","Enter fourth answer","formControlName","answer4"],["matInput","","placeholder","Enter right answer","formControlName","rightanswer"],["type","number","matInput","","placeholder","Enter mark","formControlName","marksforthis"],[1,"mb-2",2,"width","200px",3,"src"]],template:function(t,e){1&t&&(n.ic(0,"div",0),n.ic(1,"div",1),n.ic(2,"h3"),n.Xc(3,"Assessment Setup"),n.hc(),n.hc(),n.ic(4,"div",2),n.ic(5,"mat-card"),n.ic(6,"mat-card-title"),n.Xc(7),n.hc(),n.ic(8,"mat-card-content",3),n.ic(9,"mat-tab-group",4),n.ic(10,"mat-tab"),n.Vc(11,S,3,0,"ng-template",5),n.Vc(12,A,72,15,"form",6),n.hc(),n.ic(13,"mat-tab"),n.Vc(14,U,3,0,"ng-template",5),n.Vc(15,Y,10,2,"form",6),n.hc(),n.hc(),n.hc(),n.hc(),n.hc(),n.hc()),2&t&&(n.Pb(7),n.Yc(e.cardTitle),n.Pb(2),n.Dc("selectedIndex",e.selectedIndex),n.Pb(3),n.Dc("ngIf",e.showForm),n.Pb(3),n.Dc("ngIf",e.showForm))},directives:[g.a,g.d,g.b,f.b,f.a,f.c,c.n,b.a,a.z,a.r,a.k,x.c,x.f,w.a,a.q,a.i,c.m,q.b,a.c,I.b,I.d,x.g,I.a,a.v,E.a,D.n,x.b,a.e,a.l],styles:[".questions-widget[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding-top:15px}.questions-widget[_ngcontent-%COMP%]:first-child{border-top:0 solid #ccc;padding-top:0}"]}),t})(),tt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Wb({type:t,selectors:[["app-exam-result"]],decls:2,vars:0,template:function(t,e){1&t&&(n.ic(0,"p"),n.Xc(1,"exam-result works!"),n.hc())},styles:[""]}),t})();var et=r("pW6c");function rt(t,e){if(1&t){const t=n.jc();n.ic(0,"button",6),n.tc("click",(function(){return n.Nc(t),n.xc().startAssessment()})),n.Xc(1,"Start Assessment"),n.hc()}}function ct(t,e){if(1&t){const t=n.jc();n.ic(0,"button",6),n.tc("click",(function(){return n.Nc(t),n.xc().getQuestions()})),n.Xc(1,"Start Exam"),n.hc()}}const it=[{path:"",component:H,data:{breadcrumb:"Setup"}},{path:"questions",component:(()=>{class t{constructor(t,e,r){this.date=t,this.authenticationService=e,this.as=r}ngOnInit(){this.isStartExam=!0}startAssessment(){this.authenticationService.currentUser.subscribe(t=>{this.as.getExamsByStudentID((new Date).toISOString(),t.id).subscribe(t=>{Array.isArray(t)&&t.length?(this.examID=t[0].id,this.isStartExam=!1):(this.isStartExam=!0,alert("Exams are not scheduled!"))})})}getQuestions(){this.as.getQuestionByExamID(this.examID).subscribe(t=>{console.log("questions",t)})}}return t.\u0275fac=function(e){return new(e||t)(n.cc(c.f),n.cc(et.a),n.cc(p))},t.\u0275cmp=n.Wb({type:t,selectors:[["app-assessment-questions"]],features:[n.Ob([c.f])],decls:10,vars:2,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[1,"pb-2","text-center"],["mat-raised-button","","type","button","class","mat-next mt-2 mr-3",3,"click",4,"ngIf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"]],template:function(t,e){1&t&&(n.ic(0,"div",0),n.ic(1,"div",1),n.ic(2,"h3"),n.Xc(3,"Assessment Questions"),n.hc(),n.hc(),n.ic(4,"div",2),n.ic(5,"mat-card"),n.ic(6,"mat-card-content",3),n.ic(7,"div",4),n.Vc(8,rt,2,0,"button",5),n.Vc(9,ct,2,0,"button",5),n.hc(),n.hc(),n.hc(),n.hc(),n.hc()),2&t&&(n.Pb(8),n.Dc("ngIf",e.isStartExam),n.Pb(1),n.Dc("ngIf",!e.isStartExam))},directives:[g.a,g.b,c.n,E.a],styles:[""]}),t})(),data:{breadcrumb:"Questions"}},{path:"result",component:tt,data:{breadcrumb:"Result"}}];let at=(()=>{class t{}return t.\u0275mod=n.ac({type:t}),t.\u0275inj=n.Zb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(it)],i.i]}),t})();var st=r("1kSV"),nt=r("jAig");let ot=(()=>{class t{}return t.\u0275mod=n.ac({type:t}),t.\u0275inj=n.Zb({factory:function(e){return new(e||t)},imports:[[c.c,at,a.m,a.w,st.d,nt.a]]}),t})()}}]);