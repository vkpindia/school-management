function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2tqA":function(t,e,a){"use strict";a.r(e),a.d(e,"SalaryModule",(function(){return Lt}));var c,i=a("ofXK"),r=a("tyNb"),n=a("fXoL"),o=a("3Pt+"),s=a("FtGj"),l=a("JX91"),u=a("lJxs"),d=a("dNgK"),m=a("tk/3"),h=a("z6cu"),f=a("JIr8"),p=a("AytR"),y=((c=function(){function t(e){_classCallCheck(this,t),this._http=e,this._apiUrl=p.a.apiBaseUrl,this.httpOptions={headers:new m.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}),crossDomain:!0}}return _createClass(t,[{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Back-end returned code ".concat(t.status,", body was: ")+t.error),Object(h.a)("Something bad happened; please try again later.")}},{key:"extractData",value:function(t){return t||{}}},{key:"getSalryType",value:function(){return this._http.get(this._apiUrl+"setup/getsalarytypes").pipe(Object(u.a)(this.extractData),Object(f.a)(this.handleError))}},{key:"getSalaryDetails",value:function(t){return this._http.get(this._apiUrl+"accounts/getsalarydetails?id="+t).pipe(Object(u.a)(this.extractData),Object(f.a)(this.handleError))}},{key:"getAllTransaction",value:function(t){return this._http.get(this._apiUrl+"accounts/getsalarytransaction?teacherid="+t).pipe(Object(u.a)(this.extractData),Object(f.a)(this.handleError))}},{key:"getAllSalaryDetails",value:function(t){return this._http.get(this._apiUrl+"accounts/getallsalarydetails?id="+t).pipe(Object(u.a)(this.extractData),Object(f.a)(this.handleError))}},{key:"saveSalary",value:function(t){return this._http.post(this._apiUrl+"accounts/addsalary",t).pipe(Object(u.a)(this.extractData),Object(f.a)(this.handleError))}},{key:"searchTeacher",value:function(){return this._http.get(this._apiUrl+"teacher/GetTeacherSearch").pipe(Object(u.a)(this.extractData),Object(f.a)(this.handleError))}},{key:"updateSalary",value:function(t,e){return this._http.put(this._apiUrl+"accounts/updatesalary",e).pipe(Object(f.a)(this.handleError))}},{key:"deleteSalary",value:function(t){return this._http.delete("".concat(this._apiUrl,"accounts/deletesalary?id=").concat(t)).pipe(Object(f.a)(this.handleError))}}]),t}()).\u0275fac=function(t){return new(t||c)(n.rc(m.b))},c.\u0275prov=n.Zb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),b=a("kmnG"),g=a("qFsG"),v=a("/1cH"),j=a("bTqV"),S=a("Wp6s"),k=a("FKr1"),E=a("d3UM"),w=a("iadO"),I=a("bSwM"),D=a("+0xr"),C=a("0EQZ"),P=a("Dh3D"),L=a("M9IT"),W=a("NFeN"),_=a("1kSV");function F(t,e){1&t&&(n.jc(0,"div",26),n.ec(1,"img",27),n.jc(2,"p",28),n.Wc(3,"loading..."),n.ic(),n.ic())}function U(t,e){if(1&t){var a=n.kc();n.jc(0,"th",29),n.jc(1,"mat-checkbox",30),n.uc("change",(function(t){n.Oc(a);var e=n.yc();return t?e.masterToggle():null})),n.ic(),n.ic()}if(2&t){var c=n.yc();n.Pb(1),n.Ec("checked",c.selection.hasValue()&&c.isAllSelected())("indeterminate",c.selection.hasValue()&&!c.isAllSelected())("aria-label",c.checkboxLabel())}}function O(t,e){if(1&t){var a=n.kc();n.jc(0,"td",31),n.jc(1,"mat-checkbox",32),n.uc("click",(function(t){return n.Oc(a),t.stopPropagation()}))("change",(function(t){n.Oc(a);var c=e.$implicit,i=n.yc();return t?i.selection.toggle(c):null})),n.ic(),n.ic()}if(2&t){var c=e.$implicit,i=n.yc();n.Pb(1),n.Ec("checked",i.selection.isSelected(c))("aria-label",i.checkboxLabel(c))}}function A(t,e){1&t&&(n.jc(0,"th",33),n.Wc(1,"Name"),n.ic())}function N(t,e){if(1&t&&(n.jc(0,"span"),n.Wc(1),n.ic()),2&t){var a=n.yc().$implicit;n.Pb(1),n.Xc(a.name)}}function T(t,e){if(1&t&&(n.jc(0,"td",31),n.Uc(1,N,2,1,"span",34),n.ic()),2&t){var a=e.$implicit;n.yc();var c=n.Mc(47);n.Pb(1),n.Ec("ngIf",a.name)("ngIfElse",c)}}function x(t,e){1&t&&(n.jc(0,"th",33),n.Wc(1,"Gross Salary"),n.ic())}function R(t,e){if(1&t&&(n.jc(0,"span"),n.Wc(1),n.zc(2,"currency"),n.ic()),2&t){var a=n.yc().$implicit;n.Pb(1),n.Xc(n.Bc(2,1,a.grosssalary,"INR"))}}function q(t,e){if(1&t&&(n.jc(0,"td",31),n.Uc(1,R,3,4,"span",34),n.ic()),2&t){var a=e.$implicit;n.yc();var c=n.Mc(47);n.Pb(1),n.Ec("ngIf",a.grosssalary)("ngIfElse",c)}}function M(t,e){1&t&&(n.jc(0,"th",33),n.Wc(1,"Net Salary"),n.ic())}function $(t,e){if(1&t&&(n.jc(0,"span"),n.Wc(1),n.zc(2,"currency"),n.ic()),2&t){var a=n.yc().$implicit;n.Pb(1),n.Xc(n.Bc(2,1,a.netsalary,"INR"))}}function B(t,e){if(1&t&&(n.jc(0,"td",31),n.Uc(1,$,3,4,"span",34),n.ic()),2&t){var a=e.$implicit;n.yc();var c=n.Mc(47);n.Pb(1),n.Ec("ngIf",a.netsalary)("ngIfElse",c)}}function z(t,e){1&t&&(n.jc(0,"th",33),n.Wc(1,"Pay Amount "),n.ic())}function X(t,e){if(1&t&&(n.jc(0,"span",36),n.Wc(1),n.zc(2,"currency"),n.ic()),2&t){var a=n.yc().$implicit;n.Pb(1),n.Yc(" ",n.Bc(2,1,a.payamount,"INR")," ")}}function G(t,e){if(1&t&&(n.jc(0,"td",31),n.Uc(1,X,3,4,"span",35),n.ic()),2&t){var a=e.$implicit;n.yc();var c=n.Mc(47);n.Pb(1),n.Ec("ngIf",a.payamount)("ngIfElse",c)}}function V(t,e){1&t&&(n.jc(0,"th",33),n.Wc(1,"PF Amount "),n.ic())}function H(t,e){if(1&t&&(n.jc(0,"span",36),n.Wc(1),n.zc(2,"currency"),n.ic()),2&t){var a=n.yc().$implicit;n.Pb(1),n.Yc(" ",n.Bc(2,1,a.PFamount,"INR")," ")}}function J(t,e){if(1&t&&(n.jc(0,"td",31),n.Uc(1,H,3,4,"span",35),n.ic()),2&t){var a=e.$implicit;n.yc();var c=n.Mc(47);n.Pb(1),n.Ec("ngIf",a.PFamount)("ngIfElse",c)}}function Z(t,e){1&t&&(n.jc(0,"th",33),n.Wc(1,"Pay Date "),n.ic())}function K(t,e){if(1&t&&(n.jc(0,"span",36),n.Wc(1),n.zc(2,"date"),n.ic()),2&t){var a=n.yc().$implicit;n.Pb(1),n.Yc(" ",n.Bc(2,1,a.paydate,"MM/dd/yyyy")," ")}}function Y(t,e){if(1&t&&(n.jc(0,"td",31),n.Uc(1,K,3,4,"span",35),n.ic()),2&t){var a=e.$implicit;n.yc();var c=n.Mc(47);n.Pb(1),n.Ec("ngIf",a.paydate)("ngIfElse",c)}}function Q(t,e){1&t&&n.ec(0,"th",37)}function tt(t,e){if(1&t){var a=n.kc();n.jc(0,"td",31),n.jc(1,"div",38),n.jc(2,"div",39),n.ec(3,"span",40),n.jc(4,"div",41),n.jc(5,"button",42),n.uc("click",(function(){n.Oc(a);var t=e.$implicit;return n.yc().onEdit(t)})),n.ec(6,"span",43),n.Wc(7,"\xa0\xa0\xa0Edit"),n.ic(),n.jc(8,"button",42),n.uc("click",(function(){n.Oc(a);var t=e.$implicit;return n.yc().onDelete(t)})),n.ec(9,"span",44),n.Wc(10,"\xa0\xa0\xa0Delete"),n.ic(),n.ic(),n.ic(),n.ic(),n.ic()}}function et(t,e){1&t&&n.ec(0,"tr",45)}function at(t,e){1&t&&n.ec(0,"tr",46)}function ct(t,e){1&t&&n.Wc(0,"---")}var it,rt=((it=function(){function t(e,a){_classCallCheck(this,t),this._ss=e,this._router=a,this.salaryList=[],this.onEditSalary=new n.r,this.onDeleteSalary=new n.r,this.displayedColumns=["name","grosssalary","netsalary","payamount","paydate","PFamount","actions"],this.filterData="",this.isLoading=!0,this.selection=new C.c(!0,[]),this.showForm=!1,this.isCreate=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.getFeeList(),this.applyFilter()}},{key:"getFeeList",value:function(){this.salaryList&&this.salaryList.length&&(this.recordLength=this.salaryList.length,console.log("this.salaryList",this.salaryList),this.feeList=new D.k(this.salaryList),this.feeList.sort=this.TSort,this.feeList.paginator=this.paginator),this.isLoading=!1}},{key:"isAllSelected",value:function(){return this.selection.selected.length===this.feeList.data.length}},{key:"masterToggle",value:function(){var t=this;this.isAllSelected()?this.selection.clear():this.feeList.data.forEach((function(e){return t.selection.select(e)}))}},{key:"checkboxLabel",value:function(t){return t?"".concat(this.selection.isSelected(t)?"deselect":"select"," row ").concat(t.position+1):(this.isAllSelected()?"select":"deselect")+" all"}},{key:"applyFilter",value:function(){this._ss.searchTeacher().subscribe((function(t){console.log("data",t)}))}},{key:"onEdit",value:function(t){console.log("row",t),t&&this.onEditSalary.emit(t)}},{key:"onDelete",value:function(t){var e=this;console.log("row",t),confirm("Are sure you want to delete this salary record?")&&this._ss.deleteSalary(t.id).subscribe((function(t){e.onDeleteSalary.emit(!0)}))}},{key:"getTransactions",value:function(){this._router.navigate(["accounts/salary/transactions"],{queryParams:{techerID:this.teacherID}})}}]),t}()).\u0275fac=function(t){return new(t||it)(n.dc(y),n.dc(r.g))},it.\u0275cmp=n.Xb({type:it,selectors:[["app-salary-list"]],viewQuery:function(t,e){var a;1&t&&(n.Sc(L.a,!0),n.Sc(P.a,!0)),2&t&&(n.Lc(a=n.vc())&&(e.paginator=a.first),n.Lc(a=n.vc())&&(e.TSort=a.first))},inputs:{salaryList:"salaryList",teacherID:"teacherID"},outputs:{onEditSalary:"onEditSalary",onDeleteSalary:"onDeleteSalary"},decls:48,vars:5,consts:[[1,"list-container"],["class","no-record",4,"ngIf"],[1,"s-list"],[1,"list-head"],[3,"click"],[1,"d-flex","align-items-center"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"ngModel","keyup","ngModelChange"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","grosssalary"],["matColumnDef","netsalary"],["matColumnDef","payamount"],["matColumnDef","PFamount"],["matColumnDef","paydate"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["dash",""],[1,"no-record"],["src","assets/images/page-loader.gif","alt",""],[1,"m-0"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-cogs",2,"color","#00c853"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.jc(0,"div",0),n.Uc(1,F,4,0,"div",1),n.jc(2,"div",2),n.jc(3,"mat-card"),n.jc(4,"div",3),n.jc(5,"mat-card-title"),n.Wc(6,"Student Fee Data ("),n.jc(7,"a",4),n.uc("click",(function(){return e.getTransactions()})),n.Wc(8,"Get all transactions"),n.ic(),n.Wc(9,")"),n.ic(),n.jc(10,"div",5),n.jc(11,"div"),n.jc(12,"mat-form-field",6),n.jc(13,"mat-label"),n.Wc(14,"Filter"),n.ic(),n.jc(15,"input",7),n.uc("keyup",(function(){return e.applyFilter()}))("ngModelChange",(function(t){return e.searchString=t})),n.ic(),n.jc(16,"mat-icon",8),n.Wc(17,"search"),n.ic(),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(18,"mat-card-content",9),n.jc(19,"table",10),n.hc(20,11),n.Uc(21,U,2,3,"th",12),n.Uc(22,O,2,2,"td",13),n.gc(),n.hc(23,14),n.Uc(24,A,2,0,"th",15),n.Uc(25,T,2,2,"td",13),n.gc(),n.hc(26,16),n.Uc(27,x,2,0,"th",15),n.Uc(28,q,2,2,"td",13),n.gc(),n.hc(29,17),n.Uc(30,M,2,0,"th",15),n.Uc(31,B,2,2,"td",13),n.gc(),n.hc(32,18),n.Uc(33,z,2,0,"th",15),n.Uc(34,G,2,2,"td",13),n.gc(),n.hc(35,19),n.Uc(36,V,2,0,"th",15),n.Uc(37,J,2,2,"td",13),n.gc(),n.hc(38,20),n.Uc(39,Z,2,0,"th",15),n.Uc(40,Y,2,2,"td",13),n.gc(),n.hc(41,21),n.Uc(42,Q,1,0,"th",22),n.Uc(43,tt,11,0,"td",13),n.gc(),n.Uc(44,et,1,0,"tr",23),n.Uc(45,at,1,0,"tr",24),n.ic(),n.ic(),n.ic(),n.ic(),n.ic(),n.Uc(46,ct,1,0,"ng-template",null,25,n.Vc)),2&t&&(n.Pb(1),n.Ec("ngIf",e.isLoading),n.Pb(14),n.Ec("ngModel",e.searchString),n.Pb(4),n.Ec("dataSource",e.salaryList),n.Pb(25),n.Ec("matHeaderRowDef",e.displayedColumns),n.Pb(1),n.Ec("matRowDefColumns",e.displayedColumns))},directives:[i.n,S.a,S.d,b.c,b.f,g.b,o.c,o.q,o.t,W.a,b.g,S.b,D.j,P.a,D.c,D.e,D.b,D.g,D.i,D.d,I.a,D.a,P.b,_.a,_.e,_.c,_.b,D.f,D.h],pipes:[i.d,i.f],styles:[""]}),it);function nt(t,e){if(1&t&&(n.jc(0,"mat-option",17),n.Wc(1),n.ic()),2&t){var a=e.$implicit;n.Ec("value",a),n.Pb(1),n.Yc(" ",a.name," ")}}function ot(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Name is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function st(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Gross salary is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function lt(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Net salary is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function ut(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Absent days is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function dt(t,e){if(1&t&&(n.jc(0,"mat-option",17),n.Wc(1),n.ic()),2&t){var a=e.$implicit;n.Ec("value",a.salarytype),n.Pb(1),n.Xc(a.salarytype)}}function mt(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Salary type is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function ht(t,e){1&t&&(n.jc(0,"mat-error"),n.Wc(1," Pay date is "),n.jc(2,"strong"),n.Wc(3,"required"),n.ic(),n.ic())}function ft(t,e){if(1&t){var a=n.kc();n.jc(0,"button",39),n.uc("click",(function(t){return n.Oc(a),n.yc(2).onCancel(t)})),n.Wc(1,"Cancel"),n.ic()}}function pt(t,e){if(1&t){var a=n.kc();n.jc(0,"button",39),n.uc("click",(function(t){return n.Oc(a),n.yc(2).onFormReset(t)})),n.Wc(1,"Reset"),n.ic()}}function yt(t,e){if(1&t){var a=n.kc();n.jc(0,"form",18),n.uc("ngSubmit",(function(){return n.Oc(a),n.yc().onSubmit()})),n.jc(1,"div",3),n.jc(2,"div",4),n.jc(3,"mat-form-field",5),n.jc(4,"mat-label"),n.Wc(5,"Name"),n.ic(),n.ec(6,"input",19),n.Uc(7,ot,4,0,"mat-error",15),n.ic(),n.ic(),n.jc(8,"div",4),n.jc(9,"mat-form-field",5),n.jc(10,"mat-label"),n.Wc(11,"Gross Salary"),n.ic(),n.ec(12,"input",20),n.Uc(13,st,4,0,"mat-error",15),n.ic(),n.ic(),n.jc(14,"div",4),n.jc(15,"mat-form-field",5),n.jc(16,"mat-label"),n.Wc(17,"Net Salary"),n.ic(),n.ec(18,"input",21),n.Uc(19,lt,4,0,"mat-error",15),n.ic(),n.ic(),n.jc(20,"div",4),n.jc(21,"mat-form-field",5),n.jc(22,"mat-label"),n.Wc(23,"Absent Days"),n.ic(),n.ec(24,"input",22),n.Uc(25,ut,4,0,"mat-error",15),n.ic(),n.ic(),n.jc(26,"div",4),n.jc(27,"mat-form-field",5),n.jc(28,"mat-label"),n.Wc(29,"Salary Type"),n.ic(),n.jc(30,"mat-select",23),n.Uc(31,dt,2,2,"mat-option",9),n.ic(),n.Uc(32,mt,4,0,"mat-error",15),n.ic(),n.ic(),n.jc(33,"div",4),n.jc(34,"mat-form-field",5),n.jc(35,"mat-label"),n.Wc(36,"Pay Date"),n.ic(),n.ec(37,"input",24),n.ec(38,"mat-datepicker-toggle",25),n.ec(39,"mat-datepicker",null,26),n.Uc(41,ht,4,0,"mat-error",15),n.ic(),n.ic(),n.jc(42,"div",4),n.jc(43,"mat-form-field",5),n.jc(44,"mat-label"),n.Wc(45,"Pay Amount"),n.ic(),n.ec(46,"input",27),n.ic(),n.ic(),n.jc(47,"div",4),n.jc(48,"mat-form-field",5),n.jc(49,"mat-label"),n.Wc(50,"PF"),n.ic(),n.ec(51,"input",28),n.ic(),n.ic(),n.jc(52,"div",4),n.jc(53,"mat-form-field",5),n.jc(54,"mat-label"),n.Wc(55,"PF Amount"),n.ic(),n.ec(56,"input",29),n.ic(),n.ic(),n.jc(57,"div",4),n.jc(58,"mat-form-field",5),n.jc(59,"mat-label"),n.Wc(60,"ESI"),n.ic(),n.ec(61,"input",30),n.ic(),n.ic(),n.jc(62,"div",4),n.jc(63,"mat-form-field",5),n.jc(64,"mat-label"),n.Wc(65,"ESI Amount"),n.ic(),n.ec(66,"input",31),n.ic(),n.ic(),n.jc(67,"div",4),n.jc(68,"mat-form-field",5),n.jc(69,"mat-label"),n.Wc(70,"Salary After Added"),n.ic(),n.ec(71,"input",32),n.ic(),n.ic(),n.jc(72,"div",4),n.jc(73,"mat-checkbox",33),n.Wc(74,"Status"),n.ic(),n.ic(),n.jc(75,"div",4),n.jc(76,"mat-form-field",5),n.jc(77,"mat-label"),n.Wc(78,"Pending Amount"),n.ic(),n.ec(79,"input",34),n.ic(),n.ic(),n.jc(80,"div",4),n.jc(81,"mat-form-field",5),n.jc(82,"mat-label"),n.Wc(83,"Description"),n.ic(),n.ec(84,"textarea",35),n.ic(),n.ic(),n.ic(),n.jc(85,"div",36),n.jc(86,"button",37),n.Wc(87),n.ic(),n.Uc(88,ft,2,0,"button",38),n.Uc(89,pt,2,0,"button",38),n.ic(),n.ic()}if(2&t){var c=n.Mc(40),i=n.yc();n.Ec("formGroup",i.salaryForm),n.Pb(7),n.Ec("ngIf",i.submitted&&i.f.name.hasError("required")),n.Pb(6),n.Ec("ngIf",i.submitted&&i.f.grosssalary.hasError("required")),n.Pb(6),n.Ec("ngIf",i.submitted&&i.f.netsalary.hasError("required")),n.Pb(6),n.Ec("ngIf",i.submitted&&i.f.absentdays.hasError("required")),n.Pb(6),n.Ec("ngForOf",i.salarytypesList),n.Pb(1),n.Ec("ngIf",i.submitted&&i.f.salarytype.hasError("required")),n.Pb(5),n.Ec("matDatepicker",c),n.Pb(1),n.Ec("for",c),n.Pb(3),n.Ec("ngIf",i.submitted&&i.f.paydate.hasError("required")),n.Pb(46),n.Xc(i.buttonLabel),n.Pb(1),n.Ec("ngIf",i.showButtons),n.Pb(1),n.Ec("ngIf",!i.showButtons)}}function bt(t,e){if(1&t){var a=n.kc();n.hc(0),n.jc(1,"app-salary-list",40),n.uc("onEditSalary",(function(t){return n.Oc(a),n.yc().onEditRecord(t)}))("onDeleteSalary",(function(t){return n.Oc(a),n.yc().onDeleteSalary(t)})),n.ic(),n.gc()}if(2&t){var c=n.yc();n.Pb(1),n.Ec("salaryList",c.salaryList)("teacherID",c.teacherID)}}function gt(t,e){1&t&&n.Wc(0,"---")}var vt,jt=((vt=function(){function t(e,a,c,i,r){_classCallCheck(this,t),this._ar=e,this._router=a,this._snackBar=c,this._fs=i,this._date=r,this.formCancel=new n.r,this.formSubmit=new n.r,this.loading=!1,this.submitted=!1,this.ShowList=!1,this.error="",this.cardTitle="Add/Update salary",this.showButtons=!1,this.showForm=!0,this.buttonLabel="Submit",this.salaryList=[],this.teacherName=new o.g,this.teacherRecordList=[],this._phonePattern="^[0-9-+s()]*$",this._emailPattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.horizontalPosition="start",this.verticalPosition="bottom",this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[s.g,s.c],this.salarytypesList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.salaryForm=new o.j({name:new o.g(null,o.x.required),grosssalary:new o.g(null,o.x.required),netsalary:new o.g(null,o.x.required),absentdays:new o.g(new Date,o.x.required),salarytype:new o.g(new Date,o.x.required),paydate:new o.g(new Date(""),o.x.required),payamount:new o.g(null),PF:new o.g(null),PFamount:new o.g(null),ESI:new o.g(null),ESIamount:new o.g(null),salaryafterded:new o.g(null),status:new o.g(null),pendingamount:new o.g(null),description:new o.g(null)}),this.getSalaryTypes(),this.getTeacherRecord()}},{key:"getSalaryTypes",value:function(){var t=this;this._fs.getSalryType().subscribe((function(e){e&&(t.salarytypesList=e)}))}},{key:"getSalaryDetails",value:function(){var t=this;this._fs.getSalaryDetails(this.teacherID?this.teacherID:1).subscribe((function(e){e&&t.salaryForm.patchValue(e[0])}))}},{key:"getAllSalaryList",value:function(){var t=this;this._fs.getAllSalaryDetails(this.teacherID?this.teacherID:1).subscribe((function(e){e&&(t.salaryList=e,console.log("this.SalaryList",t.salaryList),t.ShowList=!0)}))}},{key:"getOptionText",value:function(t){if(t)return t.name}},{key:"getTeacherRecord",value:function(){var t=this;this._fs.searchTeacher().subscribe((function(e){t.teacherRecordList=e,t.teacherFilteredList=t.teacherName.valueChanges.pipe(Object(l.a)(""),Object(u.a)((function(e){return t._filter(e)})))}))}},{key:"_filter",value:function(t){var e=t;return this.teacherRecordList.filter((function(t){return t.name.toLowerCase().includes(e)}))}},{key:"onOptionSelection",value:function(t){this.teacherID=t.option.value.id,this.teacherID&&(this.getSalaryDetails(),this.getAllSalaryList())}},{key:"onEditRecord",value:function(t){t&&(this.salaryRecord=t,this.salaryForm.patchValue(t),this.buttonLabel="Update")}},{key:"onSubmit",value:function(){var t=this;if(this.submitted=!0,this.salaryForm.value&&(this.salaryForm.value.paydate=this._date.transform(this.salaryForm.value.paydate,"MM/dd/yyyy")),!this.salaryForm.invalid){var e={};Object.assign(e,this.salaryForm.value),this.loading=!0,this.salaryRecord&&this.salaryRecord.id?(e.id=this.salaryRecord.id,e.teacherid=this.salaryRecord.id,this._fs.updateSalary(this.salaryRecord.id,e).subscribe((function(e){t.showNotification("Updated Successfully!!"),t.salaryForm&&t.salaryForm.reset(),t.showForm=!1,setTimeout((function(){t.showForm=!0}),50),t.getAllSalaryList()}),(function(e){t.error=e,t.loading=!1,console.error(t.error)}))):this._fs.saveSalary(e).subscribe((function(e){t.showNotification("Submitted Successfully!!"),t.salaryForm&&t.salaryForm.reset(),t.showForm=!1,setTimeout((function(){t.showForm=!0}),50),t.getAllSalaryList()}),(function(e){t.error=e,t.loading=!1,console.error(t.error)}))}}},{key:"showNotification",value:function(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}},{key:"onFormReset",value:function(t){t&&this.salaryForm&&this.salaryForm.reset()}},{key:"onCancel",value:function(t){t&&this.formCancel.emit(!0)}},{key:"onDeleteSalary",value:function(t){t&&this.getAllSalaryList()}},{key:"f",get:function(){return this.salaryForm.controls}}]),t}()).\u0275fac=function(t){return new(t||vt)(n.dc(r.a),n.dc(r.g),n.dc(d.a),n.dc(y),n.dc(i.f))},vt.\u0275cmp=n.Xb({type:vt,selectors:[["app-add-salary"]],inputs:{salaryDetails:"salaryDetails"},outputs:{formCancel:"formCancel",formSubmit:"formSubmit"},features:[n.Ob([i.f])],decls:28,vars:9,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"row"],[1,"col-4"],["appearance","outline",1,"p-0"],["matInput","","placeholder","Select student","aria-label","Number",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"pt-2"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,""],[4,"ngIf"],["dash",""],[3,"value"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Enter Last Name","formControlName","name"],["matInput","","placeholder","Enter gross salary","formControlName","grosssalary"],["matInput","","placeholder","Enter net salary","formControlName","netsalary"],["matInput","","placeholder","Enter absent days","formControlName","absentdays"],["placeholder","Select salarytype","formControlName","salarytype"],["matInput","","placeholder","Select date","formControlName","paydate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["type","number","matInput","","placeholder","Enter amount","formControlName","payamount"],["type","number","matInput","","placeholder","Enter PF","formControlName","PF"],["type","number","matInput","","placeholder","Enter discount","formControlName","PFamount"],["type","number","matInput","","placeholder","Enter ESI","formControlName","ESI"],["type","number","matInput","","placeholder","Enter ESI amount","formControlName","ESIamount"],["type","number","matInput","","placeholder","Enter after added","formControlName","salaryafterded"],["formControlName","status"],["type","number","matInput","","placeholder","Enter amount","formControlName","pendingamount"],["matInput","","placeholder","Description","rows","3","formControlName","description"],[1,"example-button-row","pt-3","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","class","ml-3 mat-secondary",3,"click",4,"ngIf"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"salaryList","teacherID","onEditSalary","onDeleteSalary"]],template:function(t,e){if(1&t&&(n.jc(0,"div",0),n.jc(1,"div",1),n.jc(2,"h3"),n.Wc(3,"Salary"),n.ic(),n.ic(),n.jc(4,"div",2),n.jc(5,"div",3),n.jc(6,"div",4),n.jc(7,"mat-form-field",5),n.jc(8,"mat-label"),n.Wc(9,"Search"),n.ic(),n.ec(10,"input",6),n.jc(11,"mat-autocomplete",7,8),n.uc("optionSelected",(function(t){return e.onOptionSelection(t)})),n.Uc(13,nt,2,2,"mat-option",9),n.zc(14,"async"),n.ic(),n.ic(),n.ic(),n.jc(15,"div",10),n.jc(16,"button",11),n.uc("click",(function(){return e.getAllSalaryList()})),n.Wc(17,"Search"),n.ic(),n.ic(),n.ic(),n.jc(18,"mat-card"),n.jc(19,"mat-card-title"),n.Wc(20),n.ic(),n.jc(21,"mat-card-content",12),n.Uc(22,yt,90,13,"form",13),n.ic(),n.ic(),n.ic(),n.ic(),n.jc(23,"div",0),n.jc(24,"div",14),n.Uc(25,bt,2,2,"ng-container",15),n.ic(),n.ic(),n.Uc(26,gt,1,0,"ng-template",null,16,n.Vc)),2&t){var a=n.Mc(12);n.Pb(10),n.Ec("formControl",e.teacherName)("matAutocomplete",a),n.Pb(1),n.Ec("displayWith",e.getOptionText),n.Pb(2),n.Ec("ngForOf",n.Ac(14,7,e.teacherFilteredList)),n.Pb(7),n.Xc(e.cardTitle),n.Pb(2),n.Ec("ngIf",e.showForm),n.Pb(3),n.Ec("ngIf",e.ShowList)}},directives:[b.c,b.f,g.b,o.c,v.c,o.q,o.h,v.a,i.m,j.a,S.a,S.d,S.b,i.n,k.n,o.z,o.r,o.k,o.i,E.a,w.b,w.d,b.g,w.a,o.v,I.a,b.b,rt],pipes:[i.b],styles:[""]}),vt),St=a("NUHZ");function kt(t,e){if(1&t&&(n.hc(0),n.ec(1,"app-transactions",1),n.gc()),2&t){var a=n.yc();n.Pb(1),n.Ec("transactionsList",a.transactionList)("displayedColumns",a.displayedColumns)}}var Et,wt,It,Dt=[{path:"",component:jt},{path:"transactions",component:(Et=function(){function t(e,a){var c=this;_classCallCheck(this,t),this._ss=e,this._route=a,this.showTransaction=!1,this._route.queryParamMap.subscribe((function(t){c.teacherID=t.params.techerID}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.displayedColumns=["salarytype","paidamount","paiddate","discription"],this._ss.getAllTransaction(this.teacherID).subscribe((function(e){e&&(t.transactionList=e,t.showTransaction=!0,console.log("this.transactionList",t.transactionList))}))}}]),t}(),Et.\u0275fac=function(t){return new(t||Et)(n.dc(y),n.dc(r.a))},Et.\u0275cmp=n.Xb({type:Et,selectors:[["app-salary-transactions"]],inputs:{displayedColumns:"displayedColumns",transactionList:"transactionList"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"transactionsList","displayedColumns"]],template:function(t,e){1&t&&n.Uc(0,kt,2,2,"ng-container",0),2&t&&n.Ec("ngIf",e.showTransaction)},directives:[i.n,St.a],styles:[""]}),Et)}],Ct=((wt=function t(){_classCallCheck(this,t)}).\u0275mod=n.bc({type:wt}),wt.\u0275inj=n.ac({factory:function(t){return new(t||wt)},imports:[[r.i.forChild(Dt)],r.i]}),wt),Pt=a("Jn5T"),Lt=((It=function t(){_classCallCheck(this,t)}).\u0275mod=n.bc({type:It}),It.\u0275inj=n.ac({factory:function(t){return new(t||It)},imports:[[i.c,Ct,o.m,o.w,_.d,Pt.a]]}),It)}}]);