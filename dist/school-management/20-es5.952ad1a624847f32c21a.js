!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var c=0;c<e.length;c++){var i=e[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,c,i){return c&&e(t.prototype,c),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cFL4:function(e,i,a){"use strict";a.r(i),a.d(i,"OnlineExaminationModule",(function(){return kc}));var n,s=a("ofXK"),r=a("tyNb"),o=a("3Pt+"),l=a("FtGj"),u=a("fXoL"),h=a("dNgK"),m=a("tk/3"),d=a("z6cu"),f=a("lJxs"),p=a("JIr8"),g=a("AytR"),b=((n=function(){function e(c){t(this,e),this._http=c,this._apiUrl=g.a.apiBaseUrl,this.httpOptions={headers:new m.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}),crossDomain:!0}}return c(e,[{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Back-end returned code ".concat(t.status,", body was: ")+t.error),Object(d.a)("Something bad happened; please try again later.")}},{key:"extractData",value:function(t){return t||{}}},{key:"getExams",value:function(t,e){return this._http.get(this._apiUrl+"OnlineexamsController/Getexamsdropdown?classid=".concat(t,"&sectionid=").concat(e)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getExamsDropdownForStudent",value:function(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getexamsdropdownforstudents?studentid="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getExamsByStudentID",value:function(t,e){return this._http.get(this._apiUrl+"OnlineexamsController/GetexamsBystudentid?dateTime=".concat(t,"&studentid=").concat(e)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getQuestionByExamID",value:function(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getquestonsbyexamid?examid="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getClassSection",value:function(){return this._http.get(this._apiUrl+"setup/getclassesandsections").pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getSections",value:function(t){return this._http.get("".concat(this._apiUrl,"setup/getsectionsforclass?id=").concat(t)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"addExamResults",value:function(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddExamResults",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"addExamSetup",value:function(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddOnlineExam",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"addExamQustions",value:function(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddQuestions",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getTotalResultsByStudentID",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._http.get(this._apiUrl+"OnlineexamsController/GetTotalresultsbystudentid?examid=".concat(t,"&studentid=").concat(e)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"updateExamResults",value:function(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateExamResults",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"updateExamSetup",value:function(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateOnlineExam",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"updateExamQuestions",value:function(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateQuestions",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"deleteResults",value:function(t){return this._http.delete(this._apiUrl+"OnlineexamsController/DeleteResult?id="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"deleteQuestions",value:function(t){return this._http.delete(this._apiUrl+"OnlineexamsController/DeleteQuestion?id="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"deleteExamSetup",value:function(t){return this._http.delete(this._apiUrl+"OnlineexamsController/DeleteExam?id="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}}]),e}()).\u0275fac=function(t){return new(t||n)(u.qc(m.b))},n.\u0275prov=u.Yb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),v=a("Wp6s"),x=a("wZkO"),E=a("+0xr"),w=a("0EQZ"),I=a("Dh3D"),k=a("M9IT"),y=a("zWHe"),Y=a("kmnG"),C=a("d3UM"),D=a("bTqV"),P=a("qFsG"),S=a("NFeN"),q=a("FKr1"),L=a("bSwM"),O=a("1kSV");function W(t,e){if(1&t&&(u.ic(0,"mat-option",34),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.classname)}}function F(t,e){if(1&t&&(u.ic(0,"mat-option",34),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.sectionname)}}function _(t,e){if(1&t){var c=u.jc();u.ic(0,"th",35),u.ic(1,"mat-checkbox",36),u.tc("change",(function(t){u.Oc(c);var e=u.xc();return t?e.masterToggle():null})),u.hc(),u.hc()}if(2&t){var i=u.xc();u.Pb(1),u.Ec("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("aria-label",i.checkboxLabel())}}function j(t,e){if(1&t){var c=u.jc();u.ic(0,"td",37),u.ic(1,"mat-checkbox",38),u.tc("click",(function(t){return u.Oc(c),t.stopPropagation()}))("change",(function(t){u.Oc(c);var i=e.$implicit,a=u.xc();return t?a.selection.toggle(i):null})),u.hc(),u.hc()}if(2&t){var i=e.$implicit,a=u.xc();u.Pb(1),u.Ec("checked",a.selection.isSelected(i))("aria-label",a.checkboxLabel(i))}}function A(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Exam Name"),u.hc())}function $(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.examname)}}function R(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,$,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.examname)("ngIfElse",i)}}function M(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Class"),u.hc())}function T(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.classname)}}function Q(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,T,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.classname)("ngIfElse",i)}}function N(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Section"),u.hc())}function Z(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.sectionname)}}function U(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,Z,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.sectionname)("ngIfElse",i)}}function z(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Subject"),u.hc())}function B(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.subjectame)}}function H(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,B,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.subjectame)("ngIfElse",i)}}function V(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Time"),u.hc())}function G(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad("",c.timeallotted," Minute")}}function J(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,G,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.timeallotted)("ngIfElse",i)}}function X(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Total Questions"),u.hc())}function K(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad("",c.totalquestions," Minute")}}function tt(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,K,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.totalquestions)("ngIfElse",i)}}function et(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1," Total Mark "),u.hc())}function ct(t,e){if(1&t&&(u.ic(0,"span",42),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad(" ",c.totalmarks," ")}}function it(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,ct,2,1,"span",41),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.totalmarks)("ngIfElse",i)}}function at(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1," Total Mark "),u.hc())}function nt(t,e){if(1&t&&(u.ic(0,"span",42),u.Yc(1),u.yc(2,"date"),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad(" ",u.Ac(2,1,c.examdate,"dd-MM-yyyy")," ")}}function st(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,nt,3,4,"span",41),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(65);u.Pb(1),u.Ec("ngIf",c.examdate)("ngIfElse",i)}}function rt(t,e){1&t&&u.dc(0,"th",43)}function ot(t,e){if(1&t){var c=u.jc();u.ic(0,"td",37),u.ic(1,"div",44),u.ic(2,"div",45),u.dc(3,"span",46),u.ic(4,"div",47),u.ic(5,"button",48),u.tc("click",(function(){u.Oc(c);var t=e.$implicit;return u.xc().onEdit(t)})),u.dc(6,"span",49),u.Yc(7,"\xa0\xa0\xa0Edit"),u.hc(),u.ic(8,"button",48),u.tc("click",(function(){u.Oc(c);var t=e.$implicit;return u.xc().onDelete(t)})),u.dc(9,"span",50),u.Yc(10,"\xa0\xa0\xa0Delete"),u.hc(),u.hc(),u.hc(),u.hc(),u.hc()}}function lt(t,e){1&t&&u.dc(0,"tr",51)}function ut(t,e){1&t&&u.dc(0,"tr",52)}function ht(t,e){1&t&&u.Yc(0,"---")}var mt,dt=function(){return[5,10,25,100]},ft=((mt=function(){function e(c,i,a,n,s){t(this,e),this._cs=c,this._router=i,this._activatedRout=a,this.as=n,this.cd=s,this.examEdit=new u.r,this.displayedColumns=["select","examname","classname","sectionname","subjectame","timeallotted","totalquestions","totalmarks","examdate","actions"],this.filterData="",this.isLoading=!0,this.selection=new w.c(!0,[]),this.classID=new o.g,this.sectionID=new o.g,this.examID=new o.g,this.classList=[],this.sectionList=[],this.examList=[]}return c(e,[{key:"ngOnChanges",value:function(t){this.cd.detectChanges(),this.updateExamList&&this.getResults()}},{key:"ngOnInit",value:function(){this.getClassSection()}},{key:"getResults",value:function(){var t=this;this.as.getExams(this.classID.value,this.sectionID.value).subscribe((function(e){Array.isArray(e)&&(t.recordLength=e.length,t.resultList=new E.k(e),t.resultList.sort=t.TSort,t.resultList.paginator=t.paginator,t.isLoading=!1)}))}},{key:"getClassSection",value:function(){var t=this;this._cs.getClassSection().subscribe((function(e){e&&(t.classList=e)}))}},{key:"onClassChange",value:function(t){var e=this;t&&this._cs.getSections(t.value).subscribe((function(t){t&&(e.sectionList=t)}))}},{key:"getExamList",value:function(){var t=this;this.as.getExams(this.classID.value,this.sectionID.value).subscribe((function(e){e&&(t.examList=e)}))}},{key:"isAllSelected",value:function(){if(this.classID.value&&this.sectionID.value&&this.resultList)return this.selection.selected.length===this.resultList.data.length}},{key:"masterToggle",value:function(){var t=this;this.classID.value&&this.sectionID.value&&(this.isAllSelected()?this.selection.clear():this.resultList.data.forEach((function(e){return t.selection.select(e)})))}},{key:"checkboxLabel",value:function(t){return t?"".concat(this.selection.isSelected(t)?"deselect":"select"," row ").concat(t.position+1):(this.isAllSelected()?"select":"deselect")+" all"}},{key:"applyFilter",value:function(t){this.resultList.filter=t.target.value.trim().toLowerCase(),this.resultList.paginator&&this.resultList.paginator.firstPage()}},{key:"onDelete",value:function(t){var e=this;confirm("Are sure you want to delete this exam?")&&this.as.deleteExamSetup(t.id).subscribe((function(t){e.getResults()}))}},{key:"onEdit",value:function(t){t&&this.examEdit.emit(t)}}]),e}()).\u0275fac=function(t){return new(t||mt)(u.cc(y.a),u.cc(r.g),u.cc(r.a),u.cc(b),u.cc(u.i))},mt.\u0275cmp=u.Wb({type:mt,selectors:[["app-exams-list"]],viewQuery:function(t,e){var c;1&t&&(u.Sc(k.a,!0),u.Sc(I.a,!0)),2&t&&(u.Lc(c=u.uc())&&(e.paginator=c.first),u.Lc(c=u.uc())&&(e.TSort=c.first))},inputs:{updateExamList:"updateExamList"},outputs:{examEdit:"examEdit"},features:[u.Nb],decls:66,vars:11,consts:[[1,"list-container"],[1,"s-list"],[1,"row"],[1,"col-5"],["appearance","outline",1,"p-0","w-100"],["placeholder","Select Class",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Section",3,"formControl"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"list-head"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"keyup"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","examname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","classname"],["matColumnDef","sectionname"],["matColumnDef","subjectame"],["matColumnDef","timeallotted"],["matColumnDef","totalquestions"],["matColumnDef","totalmarks"],["matColumnDef","examdate"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["dash",""],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-edit",2,"color","green"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.ic(0,"div",0),u.ic(1,"div",1),u.ic(2,"div",2),u.ic(3,"div",3),u.ic(4,"mat-form-field",4),u.ic(5,"mat-label"),u.Yc(6,"Class"),u.hc(),u.ic(7,"mat-select",5),u.tc("selectionChange",(function(t){return e.onClassChange(t)})),u.Wc(8,W,2,2,"mat-option",6),u.hc(),u.hc(),u.hc(),u.ic(9,"div",3),u.ic(10,"mat-form-field",4),u.ic(11,"mat-label"),u.Yc(12,"Section"),u.hc(),u.ic(13,"mat-select",7),u.Wc(14,F,2,2,"mat-option",6),u.hc(),u.hc(),u.hc(),u.ic(15,"div",8),u.ic(16,"button",9),u.tc("click",(function(){return e.getResults()})),u.Yc(17,"Search"),u.hc(),u.hc(),u.hc(),u.ic(18,"mat-card"),u.ic(19,"div",10),u.ic(20,"mat-card-title"),u.Yc(21,"Exam List"),u.hc(),u.ic(22,"div"),u.ic(23,"mat-form-field",11),u.ic(24,"mat-label"),u.Yc(25,"Filter"),u.hc(),u.ic(26,"input",12),u.tc("keyup",(function(t){return e.applyFilter(t)})),u.hc(),u.ic(27,"mat-icon",13),u.Yc(28,"search"),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(29,"mat-card-content",14),u.ic(30,"table",15),u.gc(31,16),u.Wc(32,_,2,3,"th",17),u.Wc(33,j,2,2,"td",18),u.fc(),u.gc(34,19),u.Wc(35,A,2,0,"th",20),u.Wc(36,R,2,2,"td",18),u.fc(),u.gc(37,21),u.Wc(38,M,2,0,"th",20),u.Wc(39,Q,2,2,"td",18),u.fc(),u.gc(40,22),u.Wc(41,N,2,0,"th",20),u.Wc(42,U,2,2,"td",18),u.fc(),u.gc(43,23),u.Wc(44,z,2,0,"th",20),u.Wc(45,H,2,2,"td",18),u.fc(),u.gc(46,24),u.Wc(47,V,2,0,"th",20),u.Wc(48,J,2,2,"td",18),u.fc(),u.gc(49,25),u.Wc(50,X,2,0,"th",20),u.Wc(51,tt,2,2,"td",18),u.fc(),u.gc(52,26),u.Wc(53,et,2,0,"th",20),u.Wc(54,it,2,2,"td",18),u.fc(),u.gc(55,27),u.Wc(56,at,2,0,"th",20),u.Wc(57,st,2,2,"td",18),u.fc(),u.gc(58,28),u.Wc(59,rt,1,0,"th",29),u.Wc(60,ot,11,0,"td",18),u.fc(),u.Wc(61,lt,1,0,"tr",30),u.Wc(62,ut,1,0,"tr",31),u.hc(),u.dc(63,"mat-paginator",32),u.hc(),u.hc(),u.hc(),u.hc(),u.Wc(64,ht,1,0,"ng-template",null,33,u.Xc)),2&t&&(u.Pb(7),u.Ec("formControl",e.classID),u.Pb(1),u.Ec("ngForOf",e.classList),u.Pb(5),u.Ec("formControl",e.sectionID),u.Pb(1),u.Ec("ngForOf",e.sectionList),u.Pb(16),u.Ec("dataSource",e.resultList),u.Pb(31),u.Ec("matHeaderRowDef",e.displayedColumns),u.Pb(1),u.Ec("matRowDefColumns",e.displayedColumns),u.Pb(1),u.Ec("length",e.recordLength)("pageSize",10)("pageSizeOptions",u.Hc(10,dt)))},directives:[Y.c,Y.f,C.a,o.q,o.h,s.m,D.a,v.a,v.d,P.b,S.a,Y.g,v.b,E.j,I.a,E.c,E.e,E.b,E.g,E.i,k.a,q.n,E.d,L.a,E.a,I.b,s.n,O.a,O.e,O.c,O.b,E.f,E.h],pipes:[s.f],styles:[""]}),mt);function pt(t,e){if(1&t&&(u.ic(0,"mat-option",34),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.classname)}}function gt(t,e){if(1&t&&(u.ic(0,"mat-option",34),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.sectionname)}}function bt(t,e){if(1&t&&(u.ic(0,"mat-option",34),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.examname)}}function vt(t,e){if(1&t){var c=u.jc();u.ic(0,"th",35),u.ic(1,"mat-checkbox",36),u.tc("change",(function(t){u.Oc(c);var e=u.xc();return t?e.masterToggle():null})),u.hc(),u.hc()}if(2&t){var i=u.xc();u.Pb(1),u.Ec("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("aria-label",i.checkboxLabel())}}function xt(t,e){if(1&t){var c=u.jc();u.ic(0,"td",37),u.ic(1,"mat-checkbox",38),u.tc("click",(function(t){return u.Oc(c),t.stopPropagation()}))("change",(function(t){u.Oc(c);var i=e.$implicit,a=u.xc();return t?a.selection.toggle(i):null})),u.hc(),u.hc()}if(2&t){var i=e.$implicit,a=u.xc();u.Pb(1),u.Ec("checked",a.selection.isSelected(i))("aria-label",a.checkboxLabel(i))}}function Et(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Question"),u.hc())}function wt(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.question)}}function It(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,wt,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(68);u.Pb(1),u.Ec("ngIf",c.question)("ngIfElse",i)}}function kt(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Answer-1"),u.hc())}function yt(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.answer1)}}function Yt(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,yt,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(68);u.Pb(1),u.Ec("ngIf",c.answer1)("ngIfElse",i)}}function Ct(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1,"Answer-2"),u.hc())}function Dt(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.answer2)}}function Pt(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,Dt,2,1,"span",40),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(68);u.Pb(1),u.Ec("ngIf",c.answer2)("ngIfElse",i)}}function St(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1," Answer-3 "),u.hc())}function qt(t,e){if(1&t&&(u.ic(0,"span",42),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad(" ",c.answer3," ")}}function Lt(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,qt,2,1,"span",41),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(68);u.Pb(1),u.Ec("ngIf",c.answer3)("ngIfElse",i)}}function Ot(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1," Answer-4 "),u.hc())}function Wt(t,e){if(1&t&&(u.ic(0,"span",42),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad(" ",c.answer4," ")}}function Ft(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,Wt,2,1,"span",41),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(68);u.Pb(1),u.Ec("ngIf",c.answer4)("ngIfElse",i)}}function _t(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1," Right Answer "),u.hc())}function jt(t,e){if(1&t&&(u.ic(0,"span",42),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad(" ",c.rightanswer," ")}}function At(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,jt,2,1,"span",41),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(68);u.Pb(1),u.Ec("ngIf",c.rightanswer)("ngIfElse",i)}}function $t(t,e){1&t&&(u.ic(0,"th",39),u.Yc(1," Mark "),u.hc())}function Rt(t,e){if(1&t&&(u.ic(0,"span",42),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad(" ",c.marksforthis," ")}}function Mt(t,e){if(1&t&&(u.ic(0,"td",37),u.Wc(1,Rt,2,1,"span",41),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(68);u.Pb(1),u.Ec("ngIf",c.marksforthis)("ngIfElse",i)}}function Tt(t,e){1&t&&u.dc(0,"th",43)}function Qt(t,e){if(1&t){var c=u.jc();u.ic(0,"td",37),u.ic(1,"div",44),u.ic(2,"div",45),u.dc(3,"span",46),u.ic(4,"div",47),u.ic(5,"button",48),u.tc("click",(function(){u.Oc(c);var t=e.$implicit;return u.xc().onEdit(t)})),u.dc(6,"span",49),u.Yc(7,"\xa0\xa0\xa0Edit"),u.hc(),u.ic(8,"button",48),u.tc("click",(function(){u.Oc(c);var t=e.$implicit;return u.xc().onDelete(t)})),u.dc(9,"span",50),u.Yc(10,"\xa0\xa0\xa0Delete"),u.hc(),u.hc(),u.hc(),u.hc(),u.hc()}}function Nt(t,e){1&t&&u.dc(0,"tr",51)}function Zt(t,e){1&t&&u.dc(0,"tr",52)}function Ut(t,e){1&t&&u.Yc(0,"---")}var zt,Bt=function(){return[5,10,25,100]},Ht=((zt=function(){function e(c,i,a,n,s){t(this,e),this._cs=c,this._router=i,this._activatedRout=a,this.as=n,this.cd=s,this.questionEdit=new u.r,this.displayedColumns=["select","question","answer1","answer2","answer3","answer4","rightanswer","marksforthis","actions"],this.filterData="",this.isLoading=!0,this.selection=new w.c(!0,[]),this.classID=new o.g,this.sectionID=new o.g,this.examID=new o.g,this.classList=[],this.sectionList=[],this.examList=[]}return c(e,[{key:"ngOnChanges",value:function(t){this.cd.detectChanges(),this.updateList&&this.getExamList()}},{key:"ngOnInit",value:function(){this.getClassSection()}},{key:"getResults",value:function(){var t=this;this.as.getQuestionByExamID(this.examID.value).subscribe((function(e){Array.isArray(e)&&(t.recordLength=e.length,t.resultList=new E.k(e),t.resultList.sort=t.TSort,t.resultList.paginator=t.paginator,t.isLoading=!1)}))}},{key:"getClassSection",value:function(){var t=this;this._cs.getClassSection().subscribe((function(e){e&&(t.classList=e)}))}},{key:"onClassChange",value:function(t){var e=this;t&&this._cs.getSections(t.value).subscribe((function(t){t&&(e.sectionList=t)}))}},{key:"getExamList",value:function(){var t=this;this.as.getExams(this.classID.value,this.sectionID.value).subscribe((function(e){e&&(t.examList=e)}))}},{key:"isAllSelected",value:function(){if(this.classID.value&&this.sectionID.value&&this.resultList)return this.selection.selected.length===this.resultList.data.length}},{key:"masterToggle",value:function(){var t=this;this.classID.value&&this.sectionID.value&&(this.isAllSelected()?this.selection.clear():this.resultList.data.forEach((function(e){return t.selection.select(e)})))}},{key:"checkboxLabel",value:function(t){return t?"".concat(this.selection.isSelected(t)?"deselect":"select"," row ").concat(t.position+1):(this.isAllSelected()?"select":"deselect")+" all"}},{key:"applyFilter",value:function(t){this.resultList.filter=t.target.value.trim().toLowerCase(),this.resultList.paginator&&this.resultList.paginator.firstPage()}},{key:"onDelete",value:function(t){var e=this;confirm("Are sure you want to delete this question?")&&this.as.deleteQuestions(t.id).subscribe((function(t){e.getResults()}))}},{key:"onEdit",value:function(t){t&&this.questionEdit.emit(t)}}]),e}()).\u0275fac=function(t){return new(t||zt)(u.cc(y.a),u.cc(r.g),u.cc(r.a),u.cc(b),u.cc(u.i))},zt.\u0275cmp=u.Wb({type:zt,selectors:[["app-question-list"]],viewQuery:function(t,e){var c;1&t&&(u.Sc(k.a,!0),u.Sc(I.a,!0)),2&t&&(u.Lc(c=u.uc())&&(e.paginator=c.first),u.Lc(c=u.uc())&&(e.TSort=c.first))},inputs:{updateList:"updateList"},outputs:{questionEdit:"questionEdit"},features:[u.Nb],decls:69,vars:13,consts:[[1,"list-container"],[1,"s-list"],[1,"row"],[1,"col-3"],["appearance","outline",1,"p-0","w-100"],["placeholder","Select Class",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Section",3,"formControl","selectionChange"],["placeholder","Select exam",3,"formControl"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"list-head"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"keyup"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","question"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","answer1"],["matColumnDef","answer2"],["matColumnDef","answer3"],["matColumnDef","answer4"],["matColumnDef","rightanswer"],["matColumnDef","marksforthis"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["dash",""],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-edit",2,"color","green"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.ic(0,"div",0),u.ic(1,"div",1),u.ic(2,"div",2),u.ic(3,"div",3),u.ic(4,"mat-form-field",4),u.ic(5,"mat-label"),u.Yc(6,"Class"),u.hc(),u.ic(7,"mat-select",5),u.tc("selectionChange",(function(t){return e.onClassChange(t)})),u.Wc(8,pt,2,2,"mat-option",6),u.hc(),u.hc(),u.hc(),u.ic(9,"div",3),u.ic(10,"mat-form-field",4),u.ic(11,"mat-label"),u.Yc(12,"Section"),u.hc(),u.ic(13,"mat-select",7),u.tc("selectionChange",(function(){return e.getExamList()})),u.Wc(14,gt,2,2,"mat-option",6),u.hc(),u.hc(),u.hc(),u.ic(15,"div",3),u.ic(16,"mat-form-field",4),u.ic(17,"mat-label"),u.Yc(18,"Exams"),u.hc(),u.ic(19,"mat-select",8),u.Wc(20,bt,2,2,"mat-option",6),u.hc(),u.hc(),u.hc(),u.ic(21,"div",9),u.ic(22,"button",10),u.tc("click",(function(){return e.getResults()})),u.Yc(23,"Search"),u.hc(),u.hc(),u.hc(),u.ic(24,"mat-card"),u.ic(25,"div",11),u.ic(26,"mat-card-title"),u.Yc(27,"Assessment Questions"),u.hc(),u.ic(28,"div"),u.ic(29,"mat-form-field",12),u.ic(30,"mat-label"),u.Yc(31,"Filter"),u.hc(),u.ic(32,"input",13),u.tc("keyup",(function(t){return e.applyFilter(t)})),u.hc(),u.ic(33,"mat-icon",14),u.Yc(34,"search"),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(35,"mat-card-content",15),u.ic(36,"table",16),u.gc(37,17),u.Wc(38,vt,2,3,"th",18),u.Wc(39,xt,2,2,"td",19),u.fc(),u.gc(40,20),u.Wc(41,Et,2,0,"th",21),u.Wc(42,It,2,2,"td",19),u.fc(),u.gc(43,22),u.Wc(44,kt,2,0,"th",21),u.Wc(45,Yt,2,2,"td",19),u.fc(),u.gc(46,23),u.Wc(47,Ct,2,0,"th",21),u.Wc(48,Pt,2,2,"td",19),u.fc(),u.gc(49,24),u.Wc(50,St,2,0,"th",21),u.Wc(51,Lt,2,2,"td",19),u.fc(),u.gc(52,25),u.Wc(53,Ot,2,0,"th",21),u.Wc(54,Ft,2,2,"td",19),u.fc(),u.gc(55,26),u.Wc(56,_t,2,0,"th",21),u.Wc(57,At,2,2,"td",19),u.fc(),u.gc(58,27),u.Wc(59,$t,2,0,"th",21),u.Wc(60,Mt,2,2,"td",19),u.fc(),u.gc(61,28),u.Wc(62,Tt,1,0,"th",29),u.Wc(63,Qt,11,0,"td",19),u.fc(),u.Wc(64,Nt,1,0,"tr",30),u.Wc(65,Zt,1,0,"tr",31),u.hc(),u.dc(66,"mat-paginator",32),u.hc(),u.hc(),u.hc(),u.hc(),u.Wc(67,Ut,1,0,"ng-template",null,33,u.Xc)),2&t&&(u.Pb(7),u.Ec("formControl",e.classID),u.Pb(1),u.Ec("ngForOf",e.classList),u.Pb(5),u.Ec("formControl",e.sectionID),u.Pb(1),u.Ec("ngForOf",e.sectionList),u.Pb(5),u.Ec("formControl",e.examID),u.Pb(1),u.Ec("ngForOf",e.examList),u.Pb(16),u.Ec("dataSource",e.resultList),u.Pb(28),u.Ec("matHeaderRowDef",e.displayedColumns),u.Pb(1),u.Ec("matRowDefColumns",e.displayedColumns),u.Pb(1),u.Ec("length",e.recordLength)("pageSize",10)("pageSizeOptions",u.Hc(12,Bt)))},directives:[Y.c,Y.f,C.a,o.q,o.h,s.m,D.a,v.a,v.d,P.b,S.a,Y.g,v.b,E.j,I.a,E.c,E.e,E.b,E.g,E.i,k.a,q.n,E.d,L.a,E.a,I.b,s.n,O.a,O.e,O.c,O.b,E.f,E.h],styles:[""]}),zt),Vt=a("iadO");function Gt(t,e){1&t&&(u.ic(0,"mat-icon",10),u.Yc(1,"wc"),u.hc(),u.Yc(2," Exam Setup "))}function Jt(t,e){if(1&t&&(u.ic(0,"mat-option",33),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.classname)}}function Xt(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Class is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function Kt(t,e){if(1&t&&(u.ic(0,"mat-option",33),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.ad("",c.sectionname," ")}}function te(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Section is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function ee(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Exam name is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function ce(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Exam date is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function ie(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Subject is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function ae(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Teacher name is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function ne(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Allotted time is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function se(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Total questions is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function re(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Total marks is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function oe(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Comments is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function le(t,e){if(1&t){var c=u.jc();u.ic(0,"form",11),u.tc("ngSubmit",(function(){return u.Oc(c),u.xc().onSubmit("setup")})),u.ic(1,"div",12),u.ic(2,"div",13),u.ic(3,"mat-form-field",14),u.ic(4,"mat-label"),u.Yc(5,"Class"),u.hc(),u.ic(6,"mat-select",15),u.tc("selectionChange",(function(t){return u.Oc(c),u.xc().onClassChange(t)})),u.Wc(7,Jt,2,2,"mat-option",16),u.hc(),u.Wc(8,Xt,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(9,"div",13),u.ic(10,"mat-form-field",14),u.ic(11,"mat-label"),u.Yc(12,"Section"),u.hc(),u.ic(13,"mat-select",18),u.Wc(14,Kt,2,2,"mat-option",16),u.hc(),u.Wc(15,te,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(16,"div",13),u.ic(17,"mat-form-field",14),u.ic(18,"mat-label"),u.Yc(19,"Exam Name"),u.hc(),u.dc(20,"input",19),u.Wc(21,ee,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(22,"div",13),u.ic(23,"mat-form-field",14),u.ic(24,"mat-label"),u.Yc(25,"Date of Exam"),u.hc(),u.dc(26,"input",20),u.dc(27,"mat-datepicker-toggle",21),u.dc(28,"mat-datepicker",null,22),u.Wc(30,ce,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(31,"div",13),u.ic(32,"mat-form-field",14),u.ic(33,"mat-label"),u.Yc(34,"Subject"),u.hc(),u.dc(35,"input",23),u.Wc(36,ie,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(37,"div",13),u.ic(38,"mat-form-field",14),u.ic(39,"mat-label"),u.Yc(40,"Teacher Name"),u.hc(),u.dc(41,"input",24),u.Wc(42,ae,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(43,"div",13),u.ic(44,"mat-form-field",14),u.ic(45,"mat-label"),u.Yc(46,"Allotted Time"),u.hc(),u.dc(47,"input",25),u.Wc(48,ne,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(49,"div",13),u.ic(50,"mat-form-field",14),u.ic(51,"mat-label"),u.Yc(52,"Total Questions"),u.hc(),u.dc(53,"input",26),u.Wc(54,se,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(55,"div",13),u.ic(56,"mat-form-field",14),u.ic(57,"mat-label"),u.Yc(58,"Total Marks"),u.hc(),u.dc(59,"input",27),u.Wc(60,re,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(61,"div",28),u.ic(62,"mat-form-field",14),u.ic(63,"mat-label"),u.Yc(64,"Comments"),u.hc(),u.dc(65,"textarea",29),u.Wc(66,oe,4,0,"mat-error",17),u.hc(),u.hc(),u.hc(),u.ic(67,"div",30),u.ic(68,"button",31),u.Yc(69,"Next"),u.hc(),u.ic(70,"button",32),u.tc("click",(function(t){return u.Oc(c),u.xc().onFormReset(t,"setup")})),u.Yc(71,"Reset"),u.hc(),u.hc(),u.hc()}if(2&t){var i=u.Mc(29),a=u.xc();u.Ec("formGroup",a.createExamForm),u.Pb(7),u.Ec("ngForOf",a.classList),u.Pb(1),u.Ec("ngIf",a.submitted&&a.ef.classid.hasError("required")),u.Pb(6),u.Ec("ngForOf",a.sectionList),u.Pb(1),u.Ec("ngIf",a.submitted&&a.ef.sectionid.hasError("required")),u.Pb(6),u.Ec("ngIf",a.submitted&&a.ef.examname.hasError("required")),u.Pb(5),u.Ec("matDatepicker",i),u.Pb(1),u.Ec("for",i),u.Pb(3),u.Ec("ngIf",a.submitted&&a.ef.examdate.hasError("required")),u.Pb(6),u.Ec("ngIf",a.submitted&&a.ef.subjectame.hasError("required")),u.Pb(6),u.Ec("ngIf",a.submitted&&a.ef.teachername.hasError("required")),u.Pb(6),u.Ec("ngIf",a.submitted&&a.ef.timeallotted.hasError("required")),u.Pb(6),u.Ec("ngIf",a.submitted&&a.ef.totalquestions.hasError("required")),u.Pb(6),u.Ec("ngIf",a.submitted&&a.ef.totalmarks.hasError("required")),u.Pb(6),u.Ec("ngIf",a.submitted&&a.ef.teachersnotes.hasError("required"))}}function ue(t,e){1&t&&(u.ic(0,"mat-icon",34),u.Yc(1,"layers"),u.hc(),u.Yc(2," Create Questions "))}function he(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Question is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function me(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," First answer is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function de(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Second answer is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function fe(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Third answer is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function pe(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Fourth answer is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function ge(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Right answer is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function be(t,e){1&t&&(u.ic(0,"mat-error"),u.Yc(1," Question Mark is "),u.ic(2,"strong"),u.Yc(3,"required"),u.hc(),u.hc())}function ve(t,e){if(1&t){var c=u.jc();u.ic(0,"div",37),u.ic(1,"div",38),u.ic(2,"div",39),u.ic(3,"mat-form-field",14),u.ic(4,"mat-label"),u.Yc(5,"Question"),u.hc(),u.dc(6,"textarea",40),u.Wc(7,he,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(8,"div",39),u.dc(9,"img",41),u.ic(10,"div",42),u.ic(11,"label",43),u.Yc(12,"Upload Question"),u.hc(),u.ic(13,"input",44),u.tc("change",(function(t){u.Oc(c);var i=e.index;return u.xc(2).onFileChange(t,"questionImage",i)})),u.hc(),u.hc(),u.hc(),u.ic(14,"div",13),u.ic(15,"mat-form-field",14),u.ic(16,"mat-label"),u.Yc(17,"First Answer"),u.hc(),u.dc(18,"input",45),u.Wc(19,me,4,0,"mat-error",17),u.hc(),u.ic(20,"div",34),u.dc(21,"img",41),u.ic(22,"div",42),u.ic(23,"label",43),u.Yc(24,"Upload Answer"),u.hc(),u.ic(25,"input",44),u.tc("change",(function(t){u.Oc(c);var i=e.index;return u.xc(2).onFileChange(t,"answerImage1",i)})),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(26,"div",13),u.ic(27,"mat-form-field",14),u.ic(28,"mat-label"),u.Yc(29,"Second Answer"),u.hc(),u.dc(30,"input",46),u.Wc(31,de,4,0,"mat-error",17),u.hc(),u.ic(32,"div",34),u.dc(33,"img",41),u.ic(34,"div",42),u.ic(35,"label",43),u.Yc(36,"Upload Answer"),u.hc(),u.ic(37,"input",44),u.tc("change",(function(t){u.Oc(c);var i=e.index;return u.xc(2).onFileChange(t,"answerImage2",i)})),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(38,"div",13),u.ic(39,"mat-form-field",14),u.ic(40,"mat-label"),u.Yc(41,"Third Answer"),u.hc(),u.dc(42,"input",47),u.Wc(43,fe,4,0,"mat-error",17),u.hc(),u.ic(44,"div",34),u.dc(45,"img",41),u.ic(46,"div",42),u.ic(47,"label",43),u.Yc(48,"Upload Answer"),u.hc(),u.ic(49,"input",44),u.tc("change",(function(t){u.Oc(c);var i=e.index;return u.xc(2).onFileChange(t,"answerImage3",i)})),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(50,"div",13),u.ic(51,"mat-form-field",14),u.ic(52,"mat-label"),u.Yc(53,"Fourth Answer"),u.hc(),u.dc(54,"input",48),u.Wc(55,pe,4,0,"mat-error",17),u.hc(),u.ic(56,"div",34),u.dc(57,"img",41),u.ic(58,"div",42),u.ic(59,"label",43),u.Yc(60,"Upload Answer"),u.hc(),u.ic(61,"input",44),u.tc("change",(function(t){u.Oc(c);var i=e.index;return u.xc(2).onFileChange(t,"answerImage4",i)})),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(62,"div",13),u.ic(63,"mat-form-field",14),u.ic(64,"mat-label"),u.Yc(65,"Right Answer"),u.hc(),u.dc(66,"input",49),u.Wc(67,ge,4,0,"mat-error",17),u.hc(),u.hc(),u.ic(68,"div",13),u.ic(69,"mat-form-field",14),u.ic(70,"mat-label"),u.Yc(71,"Question Mark"),u.hc(),u.dc(72,"input",50),u.Wc(73,be,4,0,"mat-error",17),u.hc(),u.hc(),u.hc(),u.hc()}if(2&t){var i=e.$implicit,a=e.index,n=u.xc(2);u.Pb(1),u.Ec("formGroupName",a),u.Pb(6),u.Ec("ngIf",n.submitted&&i.get("question").hasError("required")),u.Pb(2),u.Fc("id","qImageSrc"+a),u.Pb(10),u.Ec("ngIf",n.submitted&&i.get("answer1").hasError("required")),u.Pb(2),u.Fc("id","qansImageSrc1"+a),u.Pb(10),u.Ec("ngIf",n.submitted&&i.get("answer2").hasError("required")),u.Pb(2),u.Fc("id","qansImageSrc2"+a),u.Pb(10),u.Ec("ngIf",n.submitted&&i.get("answer3").hasError("required")),u.Pb(2),u.Fc("id","qansImageSrc3"+a),u.Pb(10),u.Ec("ngIf",n.submitted&&i.get("answer4").hasError("required")),u.Pb(2),u.Fc("id","qansImageSrc4"+a),u.Pb(10),u.Ec("ngIf",n.submitted&&i.get("rightanswer").hasError("required")),u.Pb(6),u.Ec("ngIf",n.submitted&&i.get("marksforthis").hasError("required"))}}function xe(t,e){if(1&t){var c=u.jc();u.ic(0,"form",11),u.tc("ngSubmit",(function(){return u.Oc(c),u.xc().onSubmit("questions")})),u.ic(1,"div",12),u.Wc(2,ve,74,13,"div",35),u.hc(),u.ic(3,"div",30),u.ic(4,"button",36),u.tc("click",(function(){return u.Oc(c),u.xc().addNextSubjectMark()})),u.Yc(5,"Add Question"),u.hc(),u.ic(6,"button",31),u.Yc(7,"Submit"),u.hc(),u.ic(8,"button",32),u.tc("click",(function(t){return u.Oc(c),u.xc().onFormReset(t,"questions")})),u.Yc(9,"Reset"),u.hc(),u.hc(),u.hc()}if(2&t){var i=u.xc();u.Ec("formGroup",i.questionForm),u.Pb(2),u.Ec("ngForOf",i.f.items.controls)}}function Ee(t,e){1&t&&(u.ic(0,"mat-icon",10),u.Yc(1,"wc"),u.hc(),u.Yc(2," Exam List "))}function we(t,e){1&t&&(u.ic(0,"mat-icon",34),u.Yc(1,"layers"),u.hc(),u.Yc(2," Questions List "))}var Ie,ke=((Ie=function(){function e(c,i,a,n){t(this,e),this._ar=c,this._router=i,this._snackBar=a,this._cs=n,this.loading=!1,this.submitted=!1,this.error="",this.cardTitle="Create Assessment",this.showButtons=!1,this.isTabDisabled=!0,this.buttonLabel="Submit",this._phonePattern="^[0-9-+s()]*$",this._emailPattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.selectedIndex=0,this.classList=[],this.sectionList=[],this.showForm=!0,this.horizontalPosition="start",this.verticalPosition="bottom",this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[l.g,l.c]}return c(e,[{key:"ngOnInit",value:function(){this.createExamForm=new o.j({classid:new o.g(null,o.x.required),sectionid:new o.g("",o.x.required),examname:new o.g(null,o.x.required),examdate:new o.g("",o.x.required),subjectame:new o.g(null,o.x.required),teachername:new o.g(null,o.x.required),timeallotted:new o.g(null,o.x.required),totalquestions:new o.g(null,o.x.required),totalmarks:new o.g(null,o.x.required),teachersnotes:new o.g(null)}),this.updateExamList=!1,this.updateList=!1,this.questionForm=new o.j({items:new o.d([this.createFields()])}),this.getClassList()}},{key:"createFields",value:function(){return new o.j({question:new o.g(null),question_image:new o.g(null),answer1:new o.g(null),answer1_image:new o.g(null),answer2:new o.g(null),answer2_image:new o.g(null),answer3:new o.g(null),answer3_image:new o.g(null),answer4:new o.g(null),answer4_image:new o.g(null),rightanswer:new o.g(null),marksforthis:new o.g(null)})}},{key:"onFileChange",value:function(t,e,c){var i=this,a=new FileReader;if(t.target.files&&t.target.files.length){var n=t.target.files[0].type.split("/")[1];a.readAsDataURL(t.target.files[0]),a.onload=function(){if("questionImage"===e){var t=a.result;document.querySelector("#qImageSrc"+c).setAttribute("src",t),i.questionForm.get("items").at(c).get("question_image").patchValue(t.replace("data:image/".concat(n,";base64,"),""))}else if("answerImage1"===e){var s=a.result;document.querySelector("#qansImageSrc1"+c).setAttribute("src",s),i.questionForm.get("items").at(c).get("answer1_image").patchValue(s.replace("data:image/".concat(n,";base64,"),""))}else if("answerImage2"===e){var r=a.result;document.querySelector("#qansImageSrc2"+c).setAttribute("src",r),i.questionForm.get("items").at(c).get("answer2_image").patchValue(r.replace("data:image/".concat(n,";base64,"),""))}else if("answerImage3"===e){var o=a.result;document.querySelector("#qansImageSrc3"+c).setAttribute("src",o),i.questionForm.get("items").at(c).get("answer3_image").patchValue(o.replace("data:image/".concat(n,";base64,"),""))}else if("answerImage4"===e){var l=a.result;document.querySelector("#qansImageSrc4"+c).setAttribute("src",l),i.questionForm.get("items").at(c).get("answer4_image").patchValue(l.replace("data:image/".concat(n,";base64,"),""))}}}}},{key:"addNextSubjectMark",value:function(){this.f.items.push(this.createFields()),this.controlIndex++}},{key:"getClassList",value:function(){var t=this;this._cs.getClassSection().subscribe((function(e){e&&(t.classList=e)}))}},{key:"onClassChange",value:function(t){var e=this;t&&this._cs.getSections(t.value).subscribe((function(t){t&&(e.sectionList=t)}))}},{key:"onSubmit",value:function(t){var e=this;if(console.log("onSubmit"),this.submitted=!0,console.log("this.createExamForm.value",this.createExamForm.value),console.log("this.parentForm.value",this.questionForm.value),!(this.createExamForm.invalid&&0===this.selectedIndex||this.questionForm.invalid&&1===this.selectedIndex)){var c={};this.loading=!0,"setup"===t&&(Object.assign(c,this.createExamForm.value),this.classList&&this.classList.length&&this.classList.map((function(t){c.classid===t.id&&(c.classname=t.classname)})),this.sectionList&&this.sectionList.length&&this.sectionList.map((function(t){c.sectionid===t.id&&(c.sectionname=t.sectionname)})),this.examDetails&&this.examDetails.id?(c.id=this.examDetails.id,this._cs.updateExamSetup(c).subscribe((function(t){e.isTabDisabled=!1,e.showNotification("Updated Successfully!!"),e.updateExamList=!0,e.createExamForm.reset(),e.showForm=!1,e.submitted=!1,setTimeout((function(){e.showForm=!0}),100)}),(function(t){e.error=t,e.loading=!1,console.error(e.error)}))):this._cs.addExamSetup(c).subscribe((function(t){localStorage.setItem("examID",t.id),e.isTabDisabled=!1,e.showNotification("Submitted Successfully!!"),e.createExamForm.reset(),e.showForm=!1,e.submitted=!1,setTimeout((function(){e.showForm=!0}),100),e.selectedIndex=1}),(function(t){e.error=t,e.loading=!1,console.error(e.error)}))),"questions"===t&&(Object.assign(c,this.questionForm.value),c.items.map((function(t){return e.questionsRecord&&e.questionsRecord.id&&(t.id=e.questionsRecord.id),t.examid=e.questionsRecord?e.questionsRecord.examid:localStorage.getItem("examID"),t})),this.questionsRecord&&this.questionsRecord.id?this._cs.updateExamQuestions(c.items).subscribe((function(t){e.showNotification("Updated Successfully!!"),e.updateList=!0,e.questionForm.reset(),e.showForm=!1,e.submitted=!1,setTimeout((function(){e.showForm=!0}),100)}),(function(t){e.error=t,e.loading=!1,console.error(e.error)})):this._cs.addExamQustions(c.items).subscribe((function(t){e.showNotification("Submitted Successfully!!"),e.questionForm.reset(),e.showForm=!1,e.submitted=!1,setTimeout((function(){e.showForm=!0}),100)}),(function(t){e.error=t,e.loading=!1,console.error(e.error)})))}}},{key:"showNotification",value:function(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}},{key:"onExamEdit",value:function(t){t&&(this.examDetails=t,this.createExamForm.patchValue(t))}},{key:"onQuestionEdit",value:function(t){if(t){this.selectedIndex=1,this.questionsRecord=t;var e=[];e.push(t),console.log("questionsList",e),this.questionForm.patchValue({items:e})}}},{key:"onFormReset",value:function(t,e){t&&"setup"===e&&this.createExamForm.reset(),t&&"questions"===e&&this.questionForm.reset()}},{key:"f",get:function(){return this.questionForm.controls}},{key:"ef",get:function(){return this.createExamForm.controls}}]),e}()).\u0275fac=function(t){return new(t||Ie)(u.cc(r.a),u.cc(r.g),u.cc(h.a),u.cc(b))},Ie.\u0275cmp=u.Wb({type:Ie,selectors:[["app-exam-setup"]],decls:26,vars:7,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[3,"selectedIndex"],["mat-tab-label",""],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"pt-3"],[3,"updateExamList","examEdit"],[3,"updateList","questionEdit"],[1,"example-tab-icon"],[3,"formGroup","ngSubmit"],[1,"row","col-12","m-0","p-0","pt-3"],[1,"col-12","col-sm-6","col-md-4"],["appearance","outline",1,"p-0"],["placeholder","Select Class","formControlName","classid",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Section","formControlName","sectionid"],["matInput","","formControlName","examname","placeholder","Enter Exam Name"],["matInput","","placeholder","Select Date","formControlName","examdate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","Enter Class Subject Name","formControlName","subjectame"],["matInput","","placeholder","Enter Techaer Name","formControlName","teachername"],["type","number","matInput","","placeholder","Enter Allotted Time","formControlName","timeallotted"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalquestions"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalmarks"],[1,"col-12","col-sm-6","col-md-6"],["matInput","","placeholder","Enter Comments","formControlName","teachersnotes","rows","2"],[1,"example-button-row","pt-3","pb-2","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"value"],[1,""],["class","questions-widget","formArrayName","items",4,"ngFor","ngForOf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"],["formArrayName","items",1,"questions-widget"],[1,"row","m-0",3,"formGroupName"],[1,"col-12"],["matInput","","placeholder","Enter Question","formControlName","question","rows","2"],[1,"mb-2",2,"width","200px",3,"id"],[1,"form-group"],["for","exampleFormControlFile1"],["type","file","accept","image/*",1,"form-control-file",3,"change"],["matInput","","placeholder","Enter first answer","formControlName","answer1"],["type","text","matInput","","placeholder","Enter second answer","formControlName","answer2"],["matInput","","placeholder","Enter third answer","formControlName","answer3"],["matInput","","placeholder","Enter fourth answer","formControlName","answer4"],["matInput","","placeholder","Enter right answer","formControlName","rightanswer"],["type","number","matInput","","placeholder","Enter mark","formControlName","marksforthis"]],template:function(t,e){1&t&&(u.ic(0,"div",0),u.ic(1,"div",1),u.ic(2,"h3"),u.Yc(3,"Assessment Setup"),u.hc(),u.hc(),u.ic(4,"div",2),u.ic(5,"mat-card"),u.ic(6,"mat-card-title"),u.Yc(7),u.hc(),u.ic(8,"mat-card-content",3),u.ic(9,"mat-tab-group",4),u.ic(10,"mat-tab"),u.Wc(11,Gt,3,0,"ng-template",5),u.Wc(12,le,72,15,"form",6),u.hc(),u.ic(13,"mat-tab"),u.Wc(14,ue,3,0,"ng-template",5),u.Wc(15,xe,10,2,"form",6),u.hc(),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(16,"div",7),u.ic(17,"mat-card"),u.ic(18,"mat-card-content"),u.ic(19,"mat-tab-group",4),u.ic(20,"mat-tab"),u.Wc(21,Ee,3,0,"ng-template",5),u.ic(22,"app-exams-list",8),u.tc("examEdit",(function(t){return e.onExamEdit(t)})),u.hc(),u.hc(),u.ic(23,"mat-tab"),u.Wc(24,we,3,0,"ng-template",5),u.ic(25,"app-question-list",9),u.tc("questionEdit",(function(t){return e.onQuestionEdit(t)})),u.hc(),u.hc(),u.hc(),u.hc(),u.hc(),u.hc(),u.hc()),2&t&&(u.Pb(7),u.Zc(e.cardTitle),u.Pb(2),u.Ec("selectedIndex",e.selectedIndex),u.Pb(3),u.Ec("ngIf",e.showForm),u.Pb(3),u.Ec("ngIf",e.showForm),u.Pb(4),u.Ec("selectedIndex",e.selectedIndex),u.Pb(3),u.Ec("updateExamList",e.updateExamList),u.Pb(3),u.Ec("updateList",e.updateList))},directives:[v.a,v.d,v.b,x.b,x.a,x.c,s.n,ft,Ht,S.a,o.z,o.r,o.k,Y.c,Y.f,C.a,o.q,o.i,s.m,P.b,o.c,Vt.b,Vt.d,Y.g,Vt.a,o.v,D.a,q.n,Y.b,o.e,o.l],styles:[".questions-widget[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding-top:15px}.questions-widget[_ngcontent-%COMP%]:first-child{border-top:0 solid #ccc;padding-top:0}"]}),Ie);function ye(t,e){if(1&t&&(u.ic(0,"mat-option",32),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.classname)}}function Ye(t,e){if(1&t&&(u.ic(0,"mat-option",32),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.sectionname)}}function Ce(t,e){if(1&t&&(u.ic(0,"mat-option",32),u.Yc(1),u.hc()),2&t){var c=e.$implicit;u.Ec("value",c.id),u.Pb(1),u.Zc(c.examname)}}function De(t,e){if(1&t){var c=u.jc();u.ic(0,"th",33),u.ic(1,"mat-checkbox",34),u.tc("change",(function(t){u.Oc(c);var e=u.xc();return t?e.masterToggle():null})),u.hc(),u.hc()}if(2&t){var i=u.xc();u.Pb(1),u.Ec("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("aria-label",i.checkboxLabel())}}function Pe(t,e){if(1&t){var c=u.jc();u.ic(0,"td",35),u.ic(1,"mat-checkbox",36),u.tc("click",(function(t){return u.Oc(c),t.stopPropagation()}))("change",(function(t){u.Oc(c);var i=e.$implicit,a=u.xc();return t?a.selection.toggle(i):null})),u.hc(),u.hc()}if(2&t){var i=e.$implicit,a=u.xc();u.Pb(1),u.Ec("checked",a.selection.isSelected(i))("aria-label",a.checkboxLabel(i))}}function Se(t,e){1&t&&(u.ic(0,"th",37),u.Yc(1,"Exam Name"),u.hc())}function qe(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.examname)}}function Le(t,e){if(1&t&&(u.ic(0,"td",35),u.Wc(1,qe,2,1,"span",38),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(62);u.Pb(1),u.Ec("ngIf",c.examname)("ngIfElse",i)}}function Oe(t,e){1&t&&(u.ic(0,"th",37),u.Yc(1,"Date"),u.hc())}function We(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.yc(2,"date"),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(u.Ac(2,1,c.examdate,"dd-MM-yyyy"))}}function Fe(t,e){if(1&t&&(u.ic(0,"td",35),u.Wc(1,We,3,4,"span",38),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(62);u.Pb(1),u.Ec("ngIf",c.examdate)("ngIfElse",i)}}function _e(t,e){1&t&&(u.ic(0,"th",37),u.Yc(1,"Obtained Mark"),u.hc())}function je(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.actualmarks)}}function Ae(t,e){if(1&t&&(u.ic(0,"td",35),u.Wc(1,je,2,1,"span",38),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(62);u.Pb(1),u.Ec("ngIf",c.actualmarks)("ngIfElse",i)}}function $e(t,e){1&t&&(u.ic(0,"th",37),u.Yc(1," Total Mark "),u.hc())}function Re(t,e){if(1&t&&(u.ic(0,"span",40),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.ad(" ",c.totalmarks," ")}}function Me(t,e){if(1&t&&(u.ic(0,"td",35),u.Wc(1,Re,2,1,"span",39),u.hc()),2&t){var c=e.$implicit;u.xc();var i=u.Mc(62);u.Pb(1),u.Ec("ngIf",c.totalmarks)("ngIfElse",i)}}function Te(t,e){1&t&&u.dc(0,"th",41)}function Qe(t,e){if(1&t){var c=u.jc();u.ic(0,"td",35),u.ic(1,"div",42),u.ic(2,"div",43),u.dc(3,"span",44),u.ic(4,"div",45),u.ic(5,"button",46),u.tc("click",(function(){u.Oc(c);var t=e.$implicit;return u.xc().onDelete(t)})),u.dc(6,"span",47),u.Yc(7,"\xa0\xa0\xa0Delete"),u.hc(),u.hc(),u.hc(),u.hc(),u.hc()}}function Ne(t,e){1&t&&u.dc(0,"tr",48)}function Ze(t,e){1&t&&u.dc(0,"tr",49)}function Ue(t,e){1&t&&u.Yc(0,"---")}var ze,Be,He=function(){return[5,10,25,100]},Ve=((ze=function(){function e(c,i,a,n){t(this,e),this._cs=c,this._router=i,this._activatedRout=a,this.as=n,this.displayedColumns=["select","examname","examdate","actualmarks","totalmarks","actions"],this.filterData="",this.isLoading=!0,this.selection=new w.c(!0,[]),this.classID=new o.g,this.sectionID=new o.g,this.examID=new o.g,this.classList=[],this.sectionList=[],this.examList=[]}return c(e,[{key:"ngOnInit",value:function(){this.getClassSection()}},{key:"getResults",value:function(){var t=this;this.as.getTotalResultsByStudentID(this.examID.value,JSON.parse(localStorage.getItem("currentUser")).id).subscribe((function(e){Array.isArray(e)&&(t.recordLength=e.length,t.resultList=new E.k(e),t.resultList.sort=t.TSort,t.resultList.paginator=t.paginator,t.isLoading=!1)}))}},{key:"getClassSection",value:function(){var t=this;this._cs.getClassSection().subscribe((function(e){e&&(t.classList=e)}))}},{key:"onClassChange",value:function(t){var e=this;t&&this._cs.getSections(t.value).subscribe((function(t){t&&(e.sectionList=t)}))}},{key:"getExamList",value:function(){var t=this;this.as.getExams(this.classID.value,this.sectionID.value).subscribe((function(e){e&&(t.examList=e)}))}},{key:"isAllSelected",value:function(){if(this.classID.value&&this.sectionID.value&&this.resultList)return this.selection.selected.length===this.resultList.data.length}},{key:"masterToggle",value:function(){var t=this;this.classID.value&&this.sectionID.value&&(this.isAllSelected()?this.selection.clear():this.resultList.data.forEach((function(e){return t.selection.select(e)})))}},{key:"checkboxLabel",value:function(t){return t?"".concat(this.selection.isSelected(t)?"deselect":"select"," row ").concat(t.position+1):(this.isAllSelected()?"select":"deselect")+" all"}},{key:"applyFilter",value:function(t){this.resultList.filter=t.target.value.trim().toLowerCase(),this.resultList.paginator&&this.resultList.paginator.firstPage()}},{key:"onDelete",value:function(t){var e=this;confirm("Are sure you want to delete this result?")&&this.as.deleteResults(t.id).subscribe((function(t){e.getResults()}))}}]),e}()).\u0275fac=function(t){return new(t||ze)(u.cc(y.a),u.cc(r.g),u.cc(r.a),u.cc(b))},ze.\u0275cmp=u.Wb({type:ze,selectors:[["app-exam-result"]],viewQuery:function(t,e){var c;1&t&&(u.Sc(k.a,!0),u.Sc(I.a,!0)),2&t&&(u.Lc(c=u.uc())&&(e.paginator=c.first),u.Lc(c=u.uc())&&(e.TSort=c.first))},decls:63,vars:13,consts:[[1,"list-container"],[1,"page-title"],[1,"s-list"],[1,"row"],[1,"col-3"],["appearance","outline",1,"p-0","w-100"],["placeholder","Select Class",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Section",3,"formControl","selectionChange"],["placeholder","Select exam",3,"formControl"],[1,"col-2","pt-1","mt-1"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"list-head"],["appearance","outline",1,"col-12","p-0"],["matInput","","placeholder","Search...",3,"keyup"],["matSuffix",""],[1,"pt-4"],["mat-table","","matSort","",1,"col-12",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","examname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","examdate"],["matColumnDef","actualmarks"],["matColumnDef","totalmarks"],["matColumnDef","actions"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["dash",""],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],[4,"ngIf","ngIfElse"],["class","p-0 m-0",4,"ngIf","ngIfElse"],[1,"p-0","m-0"],["mat-header-cell","",2,"width","50px"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"flaticon-more-button-of-three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"fa","fa-trash",2,"color","#f00"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.ic(0,"div",0),u.ic(1,"div",1),u.ic(2,"h3"),u.Yc(3,"Online Exams Result"),u.hc(),u.hc(),u.ic(4,"div",2),u.ic(5,"div",3),u.ic(6,"div",4),u.ic(7,"mat-form-field",5),u.ic(8,"mat-label"),u.Yc(9,"Class"),u.hc(),u.ic(10,"mat-select",6),u.tc("selectionChange",(function(t){return e.onClassChange(t)})),u.Wc(11,ye,2,2,"mat-option",7),u.hc(),u.hc(),u.hc(),u.ic(12,"div",4),u.ic(13,"mat-form-field",5),u.ic(14,"mat-label"),u.Yc(15,"Section"),u.hc(),u.ic(16,"mat-select",8),u.tc("selectionChange",(function(){return e.getExamList()})),u.Wc(17,Ye,2,2,"mat-option",7),u.hc(),u.hc(),u.hc(),u.ic(18,"div",4),u.ic(19,"mat-form-field",5),u.ic(20,"mat-label"),u.Yc(21,"Exams"),u.hc(),u.ic(22,"mat-select",9),u.Wc(23,Ce,2,2,"mat-option",7),u.hc(),u.hc(),u.hc(),u.ic(24,"div",10),u.ic(25,"button",11),u.tc("click",(function(){return e.getResults()})),u.Yc(26,"Search"),u.hc(),u.hc(),u.hc(),u.ic(27,"mat-card"),u.ic(28,"div",12),u.ic(29,"mat-card-title"),u.Yc(30,"Student Result"),u.hc(),u.ic(31,"div"),u.ic(32,"mat-form-field",13),u.ic(33,"mat-label"),u.Yc(34,"Filter"),u.hc(),u.ic(35,"input",14),u.tc("keyup",(function(t){return e.applyFilter(t)})),u.hc(),u.ic(36,"mat-icon",15),u.Yc(37,"search"),u.hc(),u.hc(),u.hc(),u.hc(),u.ic(38,"mat-card-content",16),u.ic(39,"table",17),u.gc(40,18),u.Wc(41,De,2,3,"th",19),u.Wc(42,Pe,2,2,"td",20),u.fc(),u.gc(43,21),u.Wc(44,Se,2,0,"th",22),u.Wc(45,Le,2,2,"td",20),u.fc(),u.gc(46,23),u.Wc(47,Oe,2,0,"th",22),u.Wc(48,Fe,2,2,"td",20),u.fc(),u.gc(49,24),u.Wc(50,_e,2,0,"th",22),u.Wc(51,Ae,2,2,"td",20),u.fc(),u.gc(52,25),u.Wc(53,$e,2,0,"th",22),u.Wc(54,Me,2,2,"td",20),u.fc(),u.gc(55,26),u.Wc(56,Te,1,0,"th",27),u.Wc(57,Qe,8,0,"td",20),u.fc(),u.Wc(58,Ne,1,0,"tr",28),u.Wc(59,Ze,1,0,"tr",29),u.hc(),u.dc(60,"mat-paginator",30),u.hc(),u.hc(),u.hc(),u.hc(),u.Wc(61,Ue,1,0,"ng-template",null,31,u.Xc)),2&t&&(u.Pb(10),u.Ec("formControl",e.classID),u.Pb(1),u.Ec("ngForOf",e.classList),u.Pb(5),u.Ec("formControl",e.sectionID),u.Pb(1),u.Ec("ngForOf",e.sectionList),u.Pb(5),u.Ec("formControl",e.examID),u.Pb(1),u.Ec("ngForOf",e.examList),u.Pb(16),u.Ec("dataSource",e.resultList),u.Pb(19),u.Ec("matHeaderRowDef",e.displayedColumns),u.Pb(1),u.Ec("matRowDefColumns",e.displayedColumns),u.Pb(1),u.Ec("length",e.recordLength)("pageSize",10)("pageSizeOptions",u.Hc(12,He)))},directives:[Y.c,Y.f,C.a,o.q,o.h,s.m,D.a,v.a,v.d,P.b,S.a,Y.g,v.b,E.j,I.a,E.c,E.e,E.b,E.g,E.i,k.a,q.n,E.d,L.a,E.a,I.b,s.n,O.a,O.e,O.c,O.b,E.f,E.h],pipes:[s.f],styles:[""]}),ze),Ge=a("PqYM"),Je=a("pW6c"),Xe=a("f0Cb"),Ke=a("QibW"),tc=((Be=function(){function e(){t(this,e)}return c(e,[{key:"transform",value:function(t){var e=Math.floor(t/3600),c=Math.floor(t%3600/60);return("00"+e).slice(-2)+":"+("00"+c).slice(-2)+":"+("00"+Math.floor(t-60*c)).slice(-2)}}]),e}()).\u0275fac=function(t){return new(t||Be)},Be.\u0275pipe=u.bc({name:"reverseCounter",type:Be,pure:!0}),Be);function ec(t,e){if(1&t){var c=u.jc();u.ic(0,"div",8),u.ic(1,"h2",9),u.Yc(2,"Instructions"),u.hc(),u.ic(3,"div",10),u.ic(4,"ul",11),u.ic(5,"li"),u.ic(6,"p"),u.Yc(7,"Welcome to online exam for "),u.ic(8,"strong"),u.Yc(9),u.hc(),u.hc(),u.hc(),u.ic(10,"li"),u.ic(11,"p"),u.Yc(12,"All questions are compulsory."),u.hc(),u.hc(),u.ic(13,"li"),u.ic(14,"p"),u.Yc(15,"Exam for subject"),u.ic(16,"strong"),u.Yc(17),u.hc(),u.hc(),u.hc(),u.ic(18,"li"),u.ic(19,"p"),u.Yc(20,"Exam has total "),u.ic(21,"strong"),u.Yc(22),u.hc(),u.Yc(23,"questions."),u.hc(),u.hc(),u.ic(24,"li"),u.ic(25,"p"),u.Yc(26,"Total time for exam is"),u.ic(27,"strong"),u.Yc(28),u.hc(),u.Yc(29,"minutes."),u.hc(),u.hc(),u.ic(30,"li"),u.ic(31,"p"),u.Yc(32,"Total marks for exam is "),u.ic(33,"strong"),u.Yc(34),u.hc(),u.hc(),u.hc(),u.ic(35,"li"),u.ic(36,"p"),u.Yc(37,"You are allowed to submit only once, make sure that you have correctly attempted all the questions before submission."),u.hc(),u.hc(),u.ic(38,"li"),u.ic(39,"p"),u.Yc(40,"Make sure you clicked on submit button to successfully complete the test."),u.hc(),u.hc(),u.ic(41,"li"),u.ic(42,"p"),u.Yc(43,"New students must contact their class teacher for the admission number."),u.hc(),u.hc(),u.hc(),u.ic(44,"h3",12),u.ic(45,"em"),u.Yc(46,"Best of Luck for your Exam"),u.hc(),u.hc(),u.dc(47,"mat-divider"),u.dc(48,"br"),u.ic(49,"div",13),u.ic(50,"button",14),u.tc("click",(function(){return u.Oc(c),u.xc(2).getQuestions()})),u.Yc(51,"Start Exam"),u.hc(),u.hc(),u.hc(),u.hc()}if(2&t){var i=u.xc(2);u.Pb(9),u.ad("",null==i.examDetails[0]?null:i.examDetails[0].examname,"."),u.Pb(8),u.ad(" ",null==i.examDetails[0]?null:i.examDetails[0].subjectame,"."),u.Pb(5),u.ad(" ",null==i.examDetails[0]?null:i.examDetails[0].totalquestions," "),u.Pb(6),u.ad(" ",null==i.examDetails[0]?null:i.examDetails[0].timeallotted," "),u.Pb(6),u.ad(" ",null==i.examDetails[0]?null:i.examDetails[0].totalmarks,".")}}function cc(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.question)}}function ic(t,e){if(1&t&&u.dc(0,"img",26),2&t){var c=u.xc().$implicit;u.Ec("src","data:image/png;base64,"+c.question_image,u.Pc)}}function ac(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.answer1)}}function nc(t,e){if(1&t&&u.dc(0,"img",26),2&t){var c=u.xc().$implicit;u.Ec("src","data:image/png;base64,"+c.answer1_image,u.Pc)}}function sc(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.answer2)}}function rc(t,e){if(1&t&&u.dc(0,"img",26),2&t){var c=u.xc().$implicit;u.Ec("src","data:image/png;base64,"+c.answer2_image,u.Pc)}}function oc(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.answer2)}}function lc(t,e){if(1&t&&u.dc(0,"img",26),2&t){var c=u.xc().$implicit;u.Ec("src","data:image/png;base64,"+c.answer3_image,u.Pc)}}function uc(t,e){if(1&t&&(u.ic(0,"span"),u.Yc(1),u.hc()),2&t){var c=u.xc().$implicit;u.Pb(1),u.Zc(c.answer2)}}function hc(t,e){if(1&t&&u.dc(0,"img",26),2&t){var c=u.xc().$implicit;u.Ec("src","data:image/png;base64,"+c.answer4_image,u.Pc)}}function mc(t,e){if(1&t){var c=u.jc();u.ic(0,"li"),u.ic(1,"div",20),u.ic(2,"strong"),u.Yc(3,"Q."),u.hc(),u.Yc(4,"\xa0 "),u.Wc(5,cc,2,1,"span",4),u.Wc(6,ic,1,1,"img",21),u.hc(),u.ic(7,"mat-radio-group",22),u.tc("change",(function(t){u.Oc(c);var i=e.$implicit;return u.xc(3).onSelection(t,i.id)})),u.ic(8,"ul",23),u.ic(9,"li",24),u.ic(10,"mat-radio-button",25),u.Wc(11,ac,2,1,"span",4),u.Wc(12,nc,1,1,"img",21),u.hc(),u.hc(),u.ic(13,"li",24),u.ic(14,"mat-radio-button",25),u.Wc(15,sc,2,1,"span",4),u.Wc(16,rc,1,1,"img",21),u.hc(),u.hc(),u.ic(17,"li",24),u.ic(18,"mat-radio-button",25),u.Wc(19,oc,2,1,"span",4),u.Wc(20,lc,1,1,"img",21),u.hc(),u.hc(),u.ic(21,"li",24),u.ic(22,"mat-radio-button",25),u.Wc(23,uc,2,1,"span",4),u.Wc(24,hc,1,1,"img",21),u.hc(),u.hc(),u.hc(),u.hc(),u.hc()}if(2&t){var i=e.$implicit;u.Pb(5),u.Ec("ngIf",i.question),u.Pb(1),u.Ec("ngIf",i.question_image),u.Pb(4),u.Ec("value",i.answer1),u.Pb(1),u.Ec("ngIf",i.answer1),u.Pb(1),u.Ec("ngIf",i.answer1_image),u.Pb(2),u.Ec("value",i.answer2),u.Pb(1),u.Ec("ngIf",i.answer2),u.Pb(1),u.Ec("ngIf",i.answer2_image),u.Pb(2),u.Ec("value",i.answer3),u.Pb(1),u.Ec("ngIf",i.answer3),u.Pb(1),u.Ec("ngIf",i.answer3_image),u.Pb(2),u.Ec("value",i.answer4),u.Pb(1),u.Ec("ngIf",i.answer4),u.Pb(1),u.Ec("ngIf",i.answer4_image)}}function dc(t,e){if(1&t){var c=u.jc();u.ic(0,"div",16),u.ic(1,"button",27),u.tc("click",(function(){return u.Oc(c),u.xc(3).prevQuestion()})),u.Yc(2,"Previous"),u.hc(),u.ic(3,"button",28),u.tc("click",(function(){return u.Oc(c),u.xc(3).nextQuestion()})),u.Yc(4),u.hc(),u.hc()}if(2&t){var i=u.xc(3);u.Pb(1),u.Ec("disabled",0==i.startIndex),u.Pb(3),u.Zc(i.btnLabel)}}function fc(t,e){if(1&t&&(u.ic(0,"div",15),u.ic(1,"div",16),u.ic(2,"p"),u.Yc(3,"Subject: "),u.ic(4,"strong"),u.Yc(5),u.hc(),u.hc(),u.ic(6,"p"),u.Yc(7,"Time Left: "),u.ic(8,"strong"),u.Yc(9),u.yc(10,"reverseCounter"),u.hc(),u.hc(),u.hc(),u.dc(11,"mat-divider"),u.ic(12,"ul",17),u.Wc(13,mc,25,14,"li",18),u.yc(14,"slice"),u.hc(),u.Wc(15,dc,5,2,"div",19),u.hc()),2&t){var c=u.xc(2);u.Pb(5),u.Zc(null==c.examDetails[0]?null:c.examDetails[0].subjectame),u.Pb(4),u.Zc(u.zc(10,4,c.allottedTime)),u.Pb(4),u.Ec("ngForOf",u.Bc(14,6,c.questionAnsList,c.startIndex,c.endIndex)),u.Pb(2),u.Ec("ngIf",!(c.endIndex>c.questionAnsList.length))}}function pc(t,e){if(1&t&&(u.ic(0,"div"),u.Wc(1,ec,52,5,"div",6),u.Wc(2,fc,16,10,"div",7),u.hc()),2&t){var c=u.xc();u.Pb(1),u.Ec("ngIf",!c.showQuestions),u.Pb(1),u.Ec("ngIf",c.showQuestions)}}function gc(t,e){if(1&t&&(u.ic(0,"div",29),u.ic(1,"p"),u.ic(2,"strong"),u.Yc(3,"Subject: "),u.hc(),u.Yc(4),u.hc(),u.ic(5,"p"),u.ic(6,"strong"),u.Yc(7,"Total Questions: "),u.hc(),u.Yc(8),u.hc(),u.ic(9,"p"),u.ic(10,"strong"),u.Yc(11,"Total Marks: "),u.hc(),u.Yc(12),u.hc(),u.ic(13,"p"),u.ic(14,"strong"),u.Yc(15,"Obtained Mark: "),u.hc(),u.Yc(16),u.hc(),u.hc()),2&t){var c=u.xc();u.Pb(4),u.ad(" ",c.examDetails[0].subjectame,""),u.Pb(4),u.ad(" ",c.examDetails[0].totalquestions,""),u.Pb(4),u.ad(" ",c.examDetails[0].totalmarks,""),u.Pb(4),u.bd(" ",c.obtainedMark,"/",c.examDetails[0].totalmarks,"")}}var bc,vc,xc,Ec=[{path:"",component:ke,data:{breadcrumb:"Setup"}},{path:"questions",component:(bc=function(){function e(c,i,a){t(this,e),this.date=c,this.authenticationService=i,this.as=a,this.questionAnsList=[],this.examDetails=[],this.tick=1e3,this.btnLabel="Next",this.examResult={},this.obtainedMark=0}return c(e,[{key:"ngOnInit",value:function(){var t=this;this.isStartExam=!0,this.showResult=!0,this.showQuestions=!1,this.startIndex=0,this.endIndex=1,this.questionAnsList&&this.questionAnsList.length&&(this.countDown=Object(Ge.a)(0,this.tick).subscribe((function(){0==--t.allottedTime&&t.insertResult()}))),this.startAssessment()}},{key:"startAssessment",value:function(){var t=this;this.authenticationService.currentUser.subscribe((function(e){t.as.getExamsByStudentID(t.date.transform(new Date,"2020-10-23"),e.id).subscribe((function(e){Array.isArray(e)&&e.length?(t.examDetails=e,t.examID=e[0].id,t.isStartExam=!1,t.allottedTime=60*t.examDetails[0].timeallotted):(t.isStartExam=!0,alert("Exams are not scheduled!"))}))}))}},{key:"getQuestions",value:function(){var t=this;this.as.getQuestionByExamID(this.examDetails[0].id).subscribe((function(e){Array.isArray(e)&&e.length>0&&(t.countDown=Object(Ge.a)(0,t.tick).subscribe((function(){return 0==--t.allottedTime&&t.insertResult(),--t.allottedTime})),t.showQuestions=!0,t.questionAnsList=e)}))}},{key:"nextQuestion",value:function(){this.startIndex=this.startIndex+1,this.endIndex=this.endIndex+1,this.endIndex===this.questionAnsList.length&&(this.btnLabel="Submit"),this.endIndex>this.questionAnsList.length&&this.insertResult()}},{key:"insertResult",value:function(){var t=this;this.examResult={examid:this.examDetails[0].id,studentid:JSON.parse(localStorage.getItem("currentUser")).id,totalmarks:this.examDetails[0].totalmarks,actualmarks:this.obtainedMark},this.as.addExamResults(this.examResult).subscribe((function(e){t.showResult=!1}))}},{key:"onSelection",value:function(t,e){var c=this;this.questionAnsList.map((function(i){e===i.id&&t.value===i.rightanswer&&(c.obtainedMark+=i.marksforthis)}))}},{key:"prevQuestion",value:function(){this.startIndex=this.startIndex-1,this.endIndex=this.endIndex-1,this.endIndex<this.questionAnsList.length&&(this.btnLabel="Next")}},{key:"ngOnDestroy",value:function(){}}]),e}(),bc.\u0275fac=function(t){return new(t||bc)(u.cc(s.f),u.cc(Je.a),u.cc(b))},bc.\u0275cmp=u.Wb({type:bc,selectors:[["app-assessment-questions"]],features:[u.Ob([s.f])],decls:9,vars:2,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[4,"ngIf"],["class","exam-result",4,"ngIf"],["class","pb-2",4,"ngIf"],["class","questions-widget",4,"ngIf"],[1,"pb-2"],[1,"text-center","font-weight-bold"],[1,""],[1,"m-0"],[1,"font-weight-bold"],[1,"text-center"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"],[1,"questions-widget"],[1,"d-flex","justify-content-between"],[1,"p-3"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"mb-3"],["alt","",3,"src",4,"ngIf"],[3,"change"],[1,"answerList","row"],[1,"col-12","col-md-6"],[3,"value"],["alt","",3,"src"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],[1,"exam-result"]],template:function(t,e){1&t&&(u.ic(0,"div",0),u.ic(1,"div",1),u.ic(2,"h3"),u.Yc(3,"Assessment Questions"),u.hc(),u.hc(),u.ic(4,"div",2),u.ic(5,"mat-card"),u.ic(6,"mat-card-content",3),u.Wc(7,pc,3,2,"div",4),u.Wc(8,gc,17,5,"div",5),u.hc(),u.hc(),u.hc(),u.hc()),2&t&&(u.Pb(7),u.Ec("ngIf",e.showResult),u.Pb(1),u.Ec("ngIf",!e.showResult))},directives:[v.a,v.b,s.n,Xe.a,D.a,s.m,Ke.b,Ke.a],pipes:[tc,s.w],styles:[".questions-widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.questions-widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.questions-widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding-bottom:10px}"]}),bc),data:{breadcrumb:"Questions"}},{path:"result",component:Ve,data:{breadcrumb:"Result"}}],wc=((vc=function e(){t(this,e)}).\u0275mod=u.ac({type:vc}),vc.\u0275inj=u.Zb({factory:function(t){return new(t||vc)},imports:[[r.i.forChild(Ec)],r.i]}),vc),Ic=a("jAig"),kc=((xc=function e(){t(this,e)}).\u0275mod=u.ac({type:xc}),xc.\u0275inj=u.Zb({factory:function(t){return new(t||xc)},imports:[[s.c,wc,o.m,o.w,O.d,Ic.a]]}),xc)}}])}();