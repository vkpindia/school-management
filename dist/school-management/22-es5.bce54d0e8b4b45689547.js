function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"4dcf":function(e,t,i){"use strict";i.r(t),i.d(t,"SetupModule",(function(){return q}));var c,n=i("ofXK"),s=i("3Pt+"),r=i("fXoL"),a=i("tyNb"),o=i("dNgK"),p=i("tk/3"),l=i("z6cu"),u=i("lJxs"),h=i("JIr8"),d=i("AytR"),f=((c=function(){function e(t){_classCallCheck(this,e),this._http=t,this._apiUrl=d.a.apiBaseUrl,this.httpOptions={headers:new p.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"})}}return _createClass(e,[{key:"handleError",value:function(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Back-end returned code ".concat(e.status,", body was: ")+e.error),Object(l.a)("Something bad happened; please try again later.")}},{key:"extractData",value:function(e){return e||{}}},{key:"getTransportTypes",value:function(){return this._http.get(this._apiUrl+"setup/getvillages",this.httpOptions).pipe(Object(u.a)(this.extractData),Object(h.a)(this.handleError))}},{key:"getExpanseTypes",value:function(){return this._http.get(this._apiUrl+"setup/getexpensetypes",this.httpOptions).pipe(Object(u.a)(this.extractData),Object(h.a)(this.handleError))}},{key:"getFeeType",value:function(){return this._http.get(this._apiUrl+"setup/getfeetypes",this.httpOptions).pipe(Object(u.a)(this.extractData),Object(h.a)(this.handleError))}},{key:"getSalaryType",value:function(){return this._http.get(this._apiUrl+"setup/getsalarytypes",this.httpOptions).pipe(Object(u.a)(this.extractData),Object(h.a)(this.handleError))}},{key:"getExpanses",value:function(){return this._http.get(this._apiUrl+"setup/getexpenses",this.httpOptions).pipe(Object(u.a)(this.extractData),Object(h.a)(this.handleError))}},{key:"saveSetup",value:function(e){return this._http.post(this._apiUrl+"setup/addgenerictype",e,this.httpOptions).pipe(Object(u.a)(this.extractData),Object(h.a)(this.handleError))}},{key:"deleteEvent",value:function(e,t){return"transport"==t?this._http.delete("".concat(this._apiUrl,"setup/deletevillages?id=").concat(e),this.httpOptions).pipe(Object(h.a)(this.handleError)):"salary"==t?this._http.delete("".concat(this._apiUrl,"setup/deletesalarytypes?id=").concat(e),this.httpOptions).pipe(Object(h.a)(this.handleError)):"fee"==t?this._http.delete("".concat(this._apiUrl,"setup/deletefeetypes?id=").concat(e),this.httpOptions).pipe(Object(h.a)(this.handleError)):"expanse"==t?this._http.delete("".concat(this._apiUrl,"setup/deleteexpensetypes?id=").concat(e),this.httpOptions).pipe(Object(h.a)(this.handleError)):void 0}}]),e}()).\u0275fac=function(e){return new(e||c)(r.rc(p.b))},c.\u0275prov=r.Zb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),y=i("Wp6s"),g=i("f0Cb"),m=i("kmnG"),b=i("d3UM"),v=i("qFsG"),j=i("bTqV"),T=i("FKr1");function O(e,t){if(1&e&&(r.jc(0,"mat-option",29),r.Wc(1),r.ic()),2&e){var i=t.$implicit;r.Ec("value",i.value),r.Pb(1),r.Xc(i.label)}}function _(e,t){1&e&&(r.jc(0,"mat-error"),r.Wc(1," Type is "),r.jc(2,"strong"),r.Wc(3,"required"),r.ic(),r.ic())}function x(e,t){if(1&e&&(r.jc(0,"mat-error"),r.Wc(1),r.jc(2,"strong"),r.Wc(3,"required"),r.ic(),r.ic()),2&e){var i=r.yc(2);r.Pb(1),r.Yc(" ",i.fieldLabel?i.fieldLabel:"Setup Type"," is ")}}function k(e,t){1&e&&(r.jc(0,"mat-error"),r.Wc(1," Amount is "),r.jc(2,"strong"),r.Wc(3,"required"),r.ic(),r.ic())}function P(e,t){if(1&e){var i=r.kc();r.jc(0,"form",17),r.uc("ngSubmit",(function(){return r.Oc(i),r.yc().onSubmit()})),r.jc(1,"div",2),r.jc(2,"div",18),r.jc(3,"mat-form-field",19),r.jc(4,"mat-label"),r.Wc(5,"Type"),r.ic(),r.jc(6,"mat-select",20),r.uc("selectionChange",(function(e){return r.Oc(i),r.yc().onSetupTypeChange(e)})),r.Uc(7,O,2,2,"ng-template",21),r.ic(),r.Uc(8,_,4,0,"mat-error",22),r.ic(),r.ic(),r.jc(9,"div",18),r.jc(10,"mat-form-field",19),r.jc(11,"mat-label"),r.Wc(12),r.ic(),r.ec(13,"input",23),r.Uc(14,x,4,1,"mat-error",22),r.ic(),r.ic(),r.jc(15,"div",24),r.jc(16,"mat-form-field",19),r.jc(17,"mat-label"),r.Wc(18,"Amount"),r.ic(),r.ec(19,"input",25),r.Uc(20,k,4,0,"mat-error",22),r.ic(),r.ic(),r.ic(),r.jc(21,"div",26),r.jc(22,"button",27),r.Wc(23,"Submit"),r.ic(),r.jc(24,"button",28),r.uc("click",(function(e){return r.Oc(i),r.yc().onFormReset(e)})),r.Wc(25,"Reset"),r.ic(),r.ic(),r.ic()}if(2&e){var c=r.yc();r.Ec("formGroup",c.setupForm),r.Pb(7),r.Ec("ngForOf",c.setupTypeList),r.Pb(1),r.Ec("ngIf",c.submitted&&c.f.type.hasError("required")),r.Pb(4),r.Xc(c.fieldLabel?c.fieldLabel:"Setup Type"),r.Pb(2),r.Ec("ngIf",c.submitted&&c.f.typename.hasError("required")),r.Pb(1),r.Ec("hidden","Transport Type"!=c.fieldLabel),r.Pb(5),r.Ec("ngIf",c.submitted&&c.f.optionalparam.hasError("required"))}}function E(e,t){if(1&e){var i=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.ic(),r.jc(6,"a",30),r.uc("click",(function(){r.Oc(i);var e=t.$implicit;return r.yc().deleteTransportType(e,"fee")})),r.ic(),r.ic()}if(2&e){var c=t.$implicit,n=t.index;r.Pb(3),r.Yc("",n+1,"."),r.Pb(2),r.Xc(c.feetype)}}function C(e,t){if(1&e){var i=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.ic(),r.jc(6,"a",30),r.uc("click",(function(){r.Oc(i);var e=t.$implicit;return r.yc().deleteTransportType(e,"salary")})),r.ic(),r.ic()}if(2&e){var c=t.$implicit,n=t.index;r.Pb(3),r.Yc("",n+1,"."),r.Pb(2),r.Xc(c.salarytype)}}function F(e,t){if(1&e){var i=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.zc(6,"currency"),r.ic(),r.jc(7,"a",30),r.uc("click",(function(){r.Oc(i);var e=t.$implicit;return r.yc().deleteTransportType(e,"transport")})),r.ic(),r.ic()}if(2&e){var c=t.$implicit,n=t.index;r.Pb(3),r.Yc("",n+1,"."),r.Pb(2),r.Zc("",c.villagename,"\xa0-\xa0",r.Bc(6,3,c.price,"INR"),"")}}function w(e,t){if(1&e){var i=r.kc();r.jc(0,"li"),r.jc(1,"span"),r.jc(2,"strong"),r.Wc(3),r.ic(),r.ic(),r.jc(4,"span"),r.Wc(5),r.ic(),r.jc(6,"a",30),r.uc("click",(function(){r.Oc(i);var e=t.$implicit;return r.yc().deleteTransportType(e,"expanse")})),r.ic(),r.ic()}if(2&e){var c=t.$implicit,n=t.index;r.Pb(3),r.Yc("",n+1,"."),r.Pb(2),r.Xc(c.expensetype)}}var L,S,W=((L=function(){function e(t,i,c,n){_classCallCheck(this,e),this._ar=t,this._router=i,this._snackBar=c,this._cs=n,this.setupTypeList=[{value:"villages",label:"Transport"},{value:"expensetypes",label:"Expense Type"},{value:"feetypes",label:"Fee Type"},{value:"salarytypes",label:"Salary Type"}],this.loading=!1,this.showForm=!0,this.submitted=!1,this.error="",this.cardTitle="Add New Class",this.classSectionList=[],this.feeTypeList=[],this.transportList=[],this.expansesTypeList=[],this.salaryTypeList=[],this.expansesList=[],this.horizontalPosition="start",this.verticalPosition="bottom"}return _createClass(e,[{key:"ngOnInit",value:function(){this.setupForm=new s.j({type:new s.g(null,s.x.required),typename:new s.g([],s.x.required),optionalparam:new s.g(null)}),this.getTransportType(),this.getExpansesType(),this.getFeeType(),this.getSaleType(),this.getExpanses()}},{key:"getFeeType",value:function(){var e=this;this._cs.getFeeType().subscribe((function(t){t&&(e.feeTypeList=t)}))}},{key:"getExpansesType",value:function(){var e=this;this._cs.getExpanseTypes().subscribe((function(t){t&&(e.expansesTypeList=t)}))}},{key:"getSaleType",value:function(){var e=this;this._cs.getSalaryType().subscribe((function(t){t&&(e.salaryTypeList=t)}))}},{key:"getTransportType",value:function(){var e=this;this._cs.getTransportTypes().subscribe((function(t){t&&(e.transportList=t)}))}},{key:"getExpanses",value:function(){var e=this;this._cs.getExpanses().subscribe((function(t){t&&(e.expansesList=t)}))}},{key:"onSubmit",value:function(){var e=this;if(console.log("onSubmit"),this.submitted=!0,!this.setupForm.invalid){var t={};this.loading=!0,Object.assign(t,this.setupForm.value),delete t.section,this._cs.saveSetup(t).subscribe((function(t){e.showNotification("Submitted Successfully!!"),"villages"==e.setupForm.value.type?e.getTransportType():"expensetypes"==e.setupForm.value.type?e.getExpansesType():"feetypes"==e.setupForm.value.type?e.getFeeType():"salarytypes"==e.setupForm.value.type?e.getSaleType():e.getExpanses(),e.setupForm.reset(),e.showForm=!1,setTimeout((function(){e.showForm=!0}),50)}),(function(t){e.error=t,e.loading=!1,console.error(e.error)}))}}},{key:"onSetupTypeChange",value:function(e){e&&("villages"==e.value?this.fieldLabel="Transport Type":"expensetypes"==e.value?this.fieldLabel="Expense Type":"feetypes"==e.value?this.fieldLabel="Fee Type":"salarytypes"==e.value&&(this.fieldLabel="Salary Type"))}},{key:"showNotification",value:function(e){this._snackBar.open(e,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}},{key:"onFormReset",value:function(e){e&&this.setupForm.reset()}},{key:"deleteTransportType",value:function(e,t){var i=this;confirm("Are you sure u want to delete "+t+" type?")&&this._cs.deleteEvent(e.id,t).subscribe((function(e){"transport"==t?i.getTransportType():"expanse"==t?i.getExpansesType():"fee"==t?i.getFeeType():"salary"==t&&i.getSaleType()}))}},{key:"f",get:function(){return this.setupForm.controls}}]),e}()).\u0275fac=function(e){return new(e||L)(r.dc(a.a),r.dc(a.g),r.dc(o.a),r.dc(f))},L.\u0275cmp=r.Xb({type:L,selectors:[["app-setup"]],decls:47,vars:5,consts:[[1,"list-container"],[1,"page-title"],[1,"row","m-0"],[1,"col-12","s-list","pl-0","pr-0"],[1,"h-100"],[1,"list-head"],[1,""],[1,"form-container"],[1,"form-fields","pt-4"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"s-list","col-12","p-0","pt-3"],[1,"mt-4"],[1,"pt-4"],[1,"row","m-0","pt-2","setup-list"],[1,"col-12","col-sm-6","col-md-3","list"],[1,"p-0","m-0",2,"list-style","none"],[4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"col-6"],["appearance","outline",1,"col-12","p-0"],["placeholder","Enter Type","formControlName","type",3,"selectionChange"],["ngFor","",3,"ngForOf"],[4,"ngIf"],["matInput","","placeholder","Setup Type","formControlName","typename"],[1,"col-6",3,"hidden"],["matInput","","placeholder","Enter Amount","formControlName","optionalparam"],[1,"example-button-row","pt-3","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"value"],["href","javascript:void(0)",1,"fa","fa-trash",2,"color","#f00",3,"click"]],template:function(e,t){1&e&&(r.jc(0,"div",0),r.jc(1,"div",1),r.jc(2,"h3"),r.Wc(3,"Setup"),r.ic(),r.ic(),r.jc(4,"div",2),r.jc(5,"div",3),r.jc(6,"mat-card",4),r.jc(7,"div",5),r.jc(8,"mat-card-title"),r.Wc(9,"Create Setup"),r.ic(),r.ic(),r.jc(10,"mat-card-content",6),r.jc(11,"div",7),r.jc(12,"div",8),r.Uc(13,P,26,7,"form",9),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.jc(14,"div",2),r.jc(15,"div",10),r.jc(16,"mat-card",4),r.jc(17,"div",5),r.jc(18,"mat-card-title"),r.Wc(19,"Setup List"),r.ic(),r.ec(20,"mat-divider",11),r.ic(),r.jc(21,"mat-card-content",12),r.jc(22,"div",13),r.jc(23,"div",14),r.jc(24,"h3"),r.jc(25,"strong"),r.Wc(26,"Fee Type List"),r.ic(),r.ic(),r.jc(27,"ul",15),r.Uc(28,E,7,2,"li",16),r.ic(),r.ic(),r.jc(29,"div",14),r.jc(30,"h3"),r.jc(31,"strong"),r.Wc(32,"Salary Type List"),r.ic(),r.ic(),r.jc(33,"ul",15),r.Uc(34,C,7,2,"li",16),r.ic(),r.ic(),r.jc(35,"div",14),r.jc(36,"h3"),r.jc(37,"strong"),r.Wc(38,"Transport Type List"),r.ic(),r.ic(),r.jc(39,"ul",15),r.Uc(40,F,8,6,"li",16),r.ic(),r.ic(),r.jc(41,"div",14),r.jc(42,"h3"),r.jc(43,"strong"),r.Wc(44,"Expense Type List"),r.ic(),r.ic(),r.jc(45,"ul",15),r.Uc(46,w,7,2,"li",16),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic(),r.ic()),2&e&&(r.Pb(13),r.Ec("ngIf",t.showForm),r.Pb(15),r.Ec("ngForOf",t.feeTypeList),r.Pb(6),r.Ec("ngForOf",t.salaryTypeList),r.Pb(6),r.Ec("ngForOf",t.transportList),r.Pb(6),r.Ec("ngForOf",t.expansesTypeList))},directives:[y.a,y.d,y.b,n.n,g.a,n.m,s.z,s.r,s.k,m.c,m.f,b.a,s.q,s.i,v.b,s.c,j.a,T.n,m.b],pipes:[n.d],styles:[".setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{border-right:1px solid #ccc;margin-bottom:20px}.setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]:last-child{border-right:none!important}@media screen and (max-width:991px){.setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]:nth-child(2){border-right:none!important}}@media screen and (max-width:576px){.setup-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{border-right:none!important}}.setup-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:10px}.setup-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:15px}.setup-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){flex:1}"]}),L),U=i("1kSV"),M=i("jAig"),I=[{path:"",component:W}],q=((S=function e(){_classCallCheck(this,e)}).\u0275mod=r.bc({type:S}),S.\u0275inj=r.ac({factory:function(e){return new(e||S)},imports:[[n.c,s.m,a.i.forChild(I),s.w,U.d,M.a]]}),S)}}]);