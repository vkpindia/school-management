!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var c=0;c<e.length;c++){var i=e[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,c,i){return c&&e(t.prototype,c),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cFL4:function(e,i,r){"use strict";r.r(i),r.d(i,"OnlineExaminationModule",(function(){return gt}));var n,a=r("ofXK"),s=r("tyNb"),o=r("3Pt+"),u=r("FtGj"),l=r("fXoL"),m=r("dNgK"),h=r("tk/3"),d=r("z6cu"),f=r("lJxs"),p=r("JIr8"),g=r("AytR"),b=((n=function(){function e(c){t(this,e),this._http=c,this._apiUrl=g.a.apiBaseUrl,this.httpOptions={headers:new h.d({"Content-Type":"Application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}),crossDomain:!0}}return c(e,[{key:"handleError",value:function(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error("Back-end returned code ".concat(t.status,", body was: ")+t.error),Object(d.a)("Something bad happened; please try again later.")}},{key:"extractData",value:function(t){return t||{}}},{key:"getExams",value:function(t,e){return this._http.get(this._apiUrl+"OnlineexamsController/Getexamsdropdown?classid=".concat(t,"&sectionid=").concat(e)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getExamsDropdownForStudent",value:function(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getexamsdropdownforstudents?studentid="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getExamsByStudentID",value:function(t,e){return this._http.get(this._apiUrl+"OnlineexamsController/GetexamsBystudentid?dateTime=".concat(t,"&studentid=").concat(e)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getQuestionByExamID",value:function(t){return this._http.get(this._apiUrl+"OnlineexamsController/Getquestonsbyexamid?examid="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getClassSection",value:function(){return this._http.get(this._apiUrl+"setup/getclassesandsections").pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getSections",value:function(t){return this._http.get("".concat(this._apiUrl,"setup/getsectionsforclass?id=").concat(t)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"addExamResults",value:function(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddExamResults",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"addExamSetup",value:function(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddOnlineExam",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"addExamQustions",value:function(t){return this._http.post(this._apiUrl+"OnlineexamsController/AddQuestions",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"getTotalResultsByStudentID",value:function(t,e){return this._http.get(this._apiUrl+"OnlineexamsController/GetTotalresultsbystudentid?examid=".concat(t,"&studentid=").concat(e)).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"updateExamResults",value:function(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateExamResults",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"updateExamSetup",value:function(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateOnlineExam",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"updateExamQuestions",value:function(t){return this._http.put(this._apiUrl+"OnlineexamsController/UpdateQuestions",t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"deleteResults",value:function(t){return this._http.delete(this._apiUrl+"attandance/DeleteResult?id="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"deleteQuestions",value:function(t){return this._http.delete(this._apiUrl+"attandance/DeleteQuestion?id="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"deleteExamSetup",value:function(t){return this._http.delete(this._apiUrl+"attandance/DeleteExam?id="+t).pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}}]),e}()).\u0275fac=function(t){return new(t||n)(l.qc(h.b))},n.\u0275prov=l.Yb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),x=r("Wp6s"),v=r("wZkO"),w=r("NFeN"),q=r("kmnG"),I=r("d3UM"),E=r("qFsG"),y=r("iadO"),D=r("bTqV"),S=r("FKr1");function X(t,e){1&t&&(l.ic(0,"mat-icon",7),l.Xc(1,"wc"),l.hc(),l.Xc(2," Exam Setup "))}function k(t,e){if(1&t&&(l.ic(0,"mat-option",30),l.Xc(1),l.hc()),2&t){var c=e.$implicit;l.Dc("value",c.id),l.Pb(1),l.Yc(c.classname)}}function O(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Class is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function F(t,e){if(1&t&&(l.ic(0,"mat-option",30),l.Xc(1),l.hc()),2&t){var c=e.$implicit;l.Dc("value",c.id),l.Pb(1),l.Zc("",c.sectionname," ")}}function C(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Section is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function _(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Exam name is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function j(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Exam date is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function N(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Subject is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function P(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Teacher name is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function V(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Allotted time is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function A(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Total questions is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function U(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Total marks is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function T(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Comments is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function Q(t,e){if(1&t){var c=l.jc();l.ic(0,"form",8),l.tc("ngSubmit",(function(){return l.Nc(c),l.xc().onSubmit("setup")})),l.ic(1,"div",9),l.ic(2,"div",10),l.ic(3,"mat-form-field",11),l.ic(4,"mat-label"),l.Xc(5,"Class"),l.hc(),l.ic(6,"mat-select",12),l.tc("selectionChange",(function(t){return l.Nc(c),l.xc().onClassChange(t)})),l.Vc(7,k,2,2,"mat-option",13),l.hc(),l.Vc(8,O,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(9,"div",10),l.ic(10,"mat-form-field",11),l.ic(11,"mat-label"),l.Xc(12,"Section"),l.hc(),l.ic(13,"mat-select",15),l.Vc(14,F,2,2,"mat-option",13),l.hc(),l.Vc(15,C,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(16,"div",10),l.ic(17,"mat-form-field",11),l.ic(18,"mat-label"),l.Xc(19,"Exam Name"),l.hc(),l.dc(20,"input",16),l.Vc(21,_,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(22,"div",10),l.ic(23,"mat-form-field",11),l.ic(24,"mat-label"),l.Xc(25,"Date of Exam"),l.hc(),l.dc(26,"input",17),l.dc(27,"mat-datepicker-toggle",18),l.dc(28,"mat-datepicker",null,19),l.Vc(30,j,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(31,"div",10),l.ic(32,"mat-form-field",11),l.ic(33,"mat-label"),l.Xc(34,"Subject"),l.hc(),l.dc(35,"input",20),l.Vc(36,N,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(37,"div",10),l.ic(38,"mat-form-field",11),l.ic(39,"mat-label"),l.Xc(40,"Teacher Name"),l.hc(),l.dc(41,"input",21),l.Vc(42,P,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(43,"div",10),l.ic(44,"mat-form-field",11),l.ic(45,"mat-label"),l.Xc(46,"Allotted Time"),l.hc(),l.dc(47,"input",22),l.Vc(48,V,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(49,"div",10),l.ic(50,"mat-form-field",11),l.ic(51,"mat-label"),l.Xc(52,"Total Questions"),l.hc(),l.dc(53,"input",23),l.Vc(54,A,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(55,"div",10),l.ic(56,"mat-form-field",11),l.ic(57,"mat-label"),l.Xc(58,"Total Marks"),l.hc(),l.dc(59,"input",24),l.Vc(60,U,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(61,"div",25),l.ic(62,"mat-form-field",11),l.ic(63,"mat-label"),l.Xc(64,"Comments"),l.hc(),l.dc(65,"textarea",26),l.Vc(66,T,4,0,"mat-error",14),l.hc(),l.hc(),l.hc(),l.ic(67,"div",27),l.ic(68,"button",28),l.Xc(69,"Next"),l.hc(),l.ic(70,"button",29),l.tc("click",(function(t){return l.Nc(c),l.xc().onFormReset(t,"setup")})),l.Xc(71,"Reset"),l.hc(),l.hc(),l.hc()}if(2&t){var i=l.Lc(29),r=l.xc();l.Dc("formGroup",r.createExamForm),l.Pb(7),l.Dc("ngForOf",r.classList),l.Pb(1),l.Dc("ngIf",r.submitted&&r.ef.classid.hasError("required")),l.Pb(6),l.Dc("ngForOf",r.sectionList),l.Pb(1),l.Dc("ngIf",r.submitted&&r.ef.sectionid.hasError("required")),l.Pb(6),l.Dc("ngIf",r.submitted&&r.ef.examname.hasError("required")),l.Pb(5),l.Dc("matDatepicker",i),l.Pb(1),l.Dc("for",i),l.Pb(3),l.Dc("ngIf",r.submitted&&r.ef.examdate.hasError("required")),l.Pb(6),l.Dc("ngIf",r.submitted&&r.ef.subjectame.hasError("required")),l.Pb(6),l.Dc("ngIf",r.submitted&&r.ef.teachername.hasError("required")),l.Pb(6),l.Dc("ngIf",r.submitted&&r.ef.timeallotted.hasError("required")),l.Pb(6),l.Dc("ngIf",r.submitted&&r.ef.totalquestions.hasError("required")),l.Pb(6),l.Dc("ngIf",r.submitted&&r.ef.totalmarks.hasError("required")),l.Pb(6),l.Dc("ngIf",r.submitted&&r.ef.teachersnotes.hasError("required"))}}function L(t,e){1&t&&(l.ic(0,"mat-icon",31),l.Xc(1,"layers"),l.hc(),l.Xc(2," Create Questions "))}function R(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Question is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function G(t,e){if(1&t&&l.dc(0,"img",48),2&t){var c=l.xc(3);l.Dc("src",c.qImageSrc,l.Oc)}}function B(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," First answer is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function M(t,e){if(1&t&&l.dc(0,"img",48),2&t){var c=l.xc(3);l.Dc("src",c.qansImageSrc1,l.Oc)}}function z(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Second answer is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function Z(t,e){if(1&t&&l.dc(0,"img",48),2&t){var c=l.xc(3);l.Dc("src",c.qansImageSrc1,l.Oc)}}function W(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Third answer is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function J(t,e){if(1&t&&l.dc(0,"img",48),2&t){var c=l.xc(3);l.Dc("src",c.qansImageSrc1,l.Oc)}}function K(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Fourth answer is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function $(t,e){if(1&t&&l.dc(0,"img",48),2&t){var c=l.xc(3);l.Dc("src",c.qansImageSrc1,l.Oc)}}function Y(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Right answer is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function H(t,e){1&t&&(l.ic(0,"mat-error"),l.Xc(1," Question Mark is "),l.ic(2,"strong"),l.Xc(3,"required"),l.hc(),l.hc())}function tt(t,e){if(1&t){var c=l.jc();l.ic(0,"div",34),l.ic(1,"div",35),l.ic(2,"div",36),l.ic(3,"mat-form-field",11),l.ic(4,"mat-label"),l.Xc(5,"Question"),l.hc(),l.dc(6,"textarea",37),l.Vc(7,R,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(8,"div",36),l.Vc(9,G,1,1,"img",38),l.ic(10,"div",39),l.ic(11,"label",40),l.Xc(12,"Upload Question"),l.hc(),l.ic(13,"input",41),l.tc("change",(function(t){l.Nc(c);var i=e.index;return l.xc(2).onFileChange(t,"questionImage",i)})),l.hc(),l.hc(),l.hc(),l.ic(14,"div",10),l.ic(15,"mat-form-field",11),l.ic(16,"mat-label"),l.Xc(17,"First Answer"),l.hc(),l.dc(18,"input",42),l.Vc(19,B,4,0,"mat-error",14),l.hc(),l.ic(20,"div",31),l.Vc(21,M,1,1,"img",38),l.ic(22,"div",39),l.ic(23,"label",40),l.Xc(24,"Upload Answer"),l.hc(),l.ic(25,"input",41),l.tc("change",(function(t){l.Nc(c);var i=e.index;return l.xc(2).onFileChange(t,"answerImage1",i)})),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(26,"div",10),l.ic(27,"mat-form-field",11),l.ic(28,"mat-label"),l.Xc(29,"Second Answer"),l.hc(),l.dc(30,"input",43),l.Vc(31,z,4,0,"mat-error",14),l.hc(),l.ic(32,"div",31),l.Vc(33,Z,1,1,"img",38),l.ic(34,"div",39),l.ic(35,"label",40),l.Xc(36,"Upload Answer"),l.hc(),l.ic(37,"input",41),l.tc("change",(function(t){l.Nc(c);var i=e.index;return l.xc(2).onFileChange(t,"answerImage2",i)})),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(38,"div",10),l.ic(39,"mat-form-field",11),l.ic(40,"mat-label"),l.Xc(41,"Third Answer"),l.hc(),l.dc(42,"input",44),l.Vc(43,W,4,0,"mat-error",14),l.hc(),l.ic(44,"div",31),l.Vc(45,J,1,1,"img",38),l.ic(46,"div",39),l.ic(47,"label",40),l.Xc(48,"Upload Answer"),l.hc(),l.ic(49,"input",41),l.tc("change",(function(t){l.Nc(c);var i=e.index;return l.xc(2).onFileChange(t,"answerImage3",i)})),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(50,"div",10),l.ic(51,"mat-form-field",11),l.ic(52,"mat-label"),l.Xc(53,"Fourth Answer"),l.hc(),l.dc(54,"input",45),l.Vc(55,K,4,0,"mat-error",14),l.hc(),l.ic(56,"div",31),l.Vc(57,$,1,1,"img",38),l.ic(58,"div",39),l.ic(59,"label",40),l.Xc(60,"Upload Answer"),l.hc(),l.ic(61,"input",41),l.tc("change",(function(t){l.Nc(c);var i=e.index;return l.xc(2).onFileChange(t,"answerImage4",i)})),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(62,"div",10),l.ic(63,"mat-form-field",11),l.ic(64,"mat-label"),l.Xc(65,"Right Answer"),l.hc(),l.dc(66,"input",46),l.Vc(67,Y,4,0,"mat-error",14),l.hc(),l.hc(),l.ic(68,"div",10),l.ic(69,"mat-form-field",11),l.ic(70,"mat-label"),l.Xc(71,"Question Mark"),l.hc(),l.dc(72,"input",47),l.Vc(73,H,4,0,"mat-error",14),l.hc(),l.hc(),l.hc(),l.hc()}if(2&t){var i=e.$implicit,r=e.index,n=l.xc(2);l.Pb(1),l.Dc("formGroupName",r),l.Pb(6),l.Dc("ngIf",n.submitted&&i.get("question").hasError("required")),l.Pb(2),l.Dc("ngIf",n.qImageSrc),l.Pb(10),l.Dc("ngIf",n.submitted&&i.get("answer1").hasError("required")),l.Pb(2),l.Dc("ngIf",n.qansImageSrc1),l.Pb(10),l.Dc("ngIf",n.submitted&&i.get("answer2").hasError("required")),l.Pb(2),l.Dc("ngIf",n.qansImageSrc2),l.Pb(10),l.Dc("ngIf",n.submitted&&i.get("answer3").hasError("required")),l.Pb(2),l.Dc("ngIf",n.qansImageSrc3),l.Pb(10),l.Dc("ngIf",n.submitted&&i.get("answer4").hasError("required")),l.Pb(2),l.Dc("ngIf",n.qansImageSrc4),l.Pb(10),l.Dc("ngIf",n.submitted&&i.get("rightanswer").hasError("required")),l.Pb(6),l.Dc("ngIf",n.submitted&&i.get("marksforthis").hasError("required"))}}function et(t,e){if(1&t){var c=l.jc();l.ic(0,"form",8),l.tc("ngSubmit",(function(){return l.Nc(c),l.xc().onSubmit("questions")})),l.ic(1,"div",9),l.Vc(2,tt,74,13,"div",32),l.hc(),l.ic(3,"div",27),l.ic(4,"button",33),l.tc("click",(function(){return l.Nc(c),l.xc().addNextSubjectMark()})),l.Xc(5,"Add Question"),l.hc(),l.ic(6,"button",28),l.Xc(7,"Submit"),l.hc(),l.ic(8,"button",29),l.tc("click",(function(t){return l.Nc(c),l.xc().onFormReset(t,"questions")})),l.Xc(9,"Reset"),l.hc(),l.hc(),l.hc()}if(2&t){var i=l.xc();l.Dc("formGroup",i.questionForm),l.Pb(2),l.Dc("ngForOf",i.f.items.controls)}}var ct,it,rt=((it=function(){function e(c,i,r,n){t(this,e),this._ar=c,this._router=i,this._snackBar=r,this._cs=n,this.loading=!1,this.submitted=!1,this.error="",this.cardTitle="Create Assessment",this.showButtons=!1,this.isTabDisabled=!0,this.buttonLabel="Submit",this._phonePattern="^[0-9-+s()]*$",this._emailPattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.selectedIndex=0,this.classList=[],this.sectionList=[],this.showForm=!0,this.horizontalPosition="start",this.verticalPosition="bottom",this.visible=!0,this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[u.g,u.c]}return c(e,[{key:"ngOnInit",value:function(){this.createExamForm=new o.j({classid:new o.g(null,o.x.required),sectionid:new o.g("",o.x.required),examname:new o.g(null,o.x.required),examdate:new o.g("",o.x.required),subjectame:new o.g(null,o.x.required),teachername:new o.g(null,o.x.required),timeallotted:new o.g(null,o.x.required),totalquestions:new o.g(null,o.x.required),totalmarks:new o.g(null,o.x.required),teachersnotes:new o.g(null)}),this.questionForm=new o.j({items:new o.d([this.createFields()])}),this.getClassList()}},{key:"createFields",value:function(){return new o.j({question:new o.g(null,o.x.required),question_image:new o.g(null),answer1:new o.g(null,o.x.required),answer1_image:new o.g(null),answer2:new o.g(null,o.x.required),answer2_image:new o.g(null),answer3:new o.g(null,o.x.required),answer3_image:new o.g(null),answer4:new o.g(null,o.x.required),answer4_image:new o.g(null),rightanswer:new o.g(null,o.x.required),marksforthis:new o.g(null,o.x.required)})}},{key:"onFileChange",value:function(t,e,c){var i=this,r=new FileReader;t.target.files&&t.target.files.length&&(r.readAsDataURL(t.target.files[0]),r.onload=function(){"questionImage"===e?(i.qImageSrc=r.result,i.questionForm.get("items").at(c).get("question_image").patchValue(i.qImageSrc.substring(22))):"answerImage1"===e?(i.qansImageSrc1=r.result,i.questionForm.get("items").at(c).get("answer1_image").patchValue(i.qansImageSrc1.substring(22))):"answerImage2"===e?(i.qansImageSrc2=r.result,i.questionForm.get("items").at(c).get("answer2_image").patchValue(i.qansImageSrc2.substring(22))):"answerImage3"===e?(i.qansImageSrc3=r.result,i.questionForm.get("items").at(c).get("answer3_image").patchValue(i.qansImageSrc3.substring(22))):"answerImage4"===e&&(i.qansImageSrc4=r.result,i.questionForm.get("items").at(c).get("answer4_image").patchValue(i.qansImageSrc4.substring(22)))})}},{key:"addNextSubjectMark",value:function(){this.f.items.push(this.createFields()),this.controlIndex++}},{key:"getClassList",value:function(){var t=this;this._cs.getClassSection().subscribe((function(e){e&&(t.classList=e)}))}},{key:"onClassChange",value:function(t){var e=this;t&&this._cs.getSections(t.value).subscribe((function(t){t&&(e.sectionList=t)}))}},{key:"onSubmit",value:function(t){var e=this;if(console.log("onSubmit"),this.submitted=!0,console.log("this.createExamForm.value",this.createExamForm.value),console.log("this.parentForm.value",this.questionForm.value),!(this.createExamForm.invalid&&0===this.selectedIndex||this.questionForm.invalid&&1===this.selectedIndex)){var c,i={};this.loading=!0,"setup"===t&&(Object.assign(i,this.createExamForm.value),this.classList&&this.classList.length&&this.classList.map((function(t){i.classid===t.id&&(i.classname=t.classname)})),this.sectionList&&this.sectionList.length&&this.sectionList.map((function(t){i.sectionid===t.id&&(i.sectionname=t.sectionname)})),this._cs.addExamSetup(i).subscribe((function(t){c=t.examid,e.isTabDisabled=!1,e.showNotification("Submitted Successfully!!"),e.createExamForm.reset(),e.showForm=!1,e.submitted=!1,setTimeout((function(){e.showForm=!0}),100),e.selectedIndex=1}),(function(t){e.error=t,e.loading=!1,console.error(e.error)}))),"questions"===t&&(Object.assign(i,this.questionForm.value),i.items.map((function(t){return t.examid=c,t})),console.log("payload",i),this._cs.addExamQustions(i.items).subscribe((function(t){console.log("data",t),e.showNotification("Submitted Successfully!!"),e.questionForm.reset(),e.showForm=!1,e.submitted=!1,setTimeout((function(){e.showForm=!0}),100)}),(function(t){e.error=t,e.loading=!1,console.error(e.error)})))}}},{key:"showNotification",value:function(t){this._snackBar.open(t,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]})}},{key:"onFormReset",value:function(t,e){t&&"setup"===e&&this.createExamForm.reset(),t&&"questions"===e&&this.questionForm.reset()}},{key:"f",get:function(){return this.questionForm.controls}},{key:"ef",get:function(){return this.createExamForm.controls}}]),e}()).\u0275fac=function(t){return new(t||it)(l.cc(s.a),l.cc(s.g),l.cc(m.a),l.cc(b))},it.\u0275cmp=l.Wb({type:it,selectors:[["app-exam-setup"]],decls:16,vars:4,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[3,"selectedIndex"],["mat-tab-label",""],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"example-tab-icon"],[3,"formGroup","ngSubmit"],[1,"row","col-12","m-0","p-0","pt-3"],[1,"col-12","col-sm-6","col-md-4"],["appearance","outline",1,"p-0"],["placeholder","Select Class","formControlName","classid",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Section","formControlName","sectionid"],["matInput","","formControlName","examname","placeholder","Enter Exam Name"],["matInput","","placeholder","Select Date","formControlName","examdate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","Enter Class Subject Name","formControlName","subjectame"],["matInput","","placeholder","Enter Techaer Name","formControlName","teachername"],["type","number","matInput","","placeholder","Enter Allotted Time","formControlName","timeallotted"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalquestions"],["type","number","matInput","","placeholder","Enter Total Questions","formControlName","totalmarks"],[1,"col-12","col-sm-6","col-md-6"],["matInput","","placeholder","Enter Comments","formControlName","teachersnotes","rows","2"],[1,"example-button-row","pt-3","pb-2","text-center"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","",1,"ml-3","mat-secondary",3,"click"],[3,"value"],[1,""],["class","questions-widget","formArrayName","items",4,"ngFor","ngForOf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"],["formArrayName","items",1,"questions-widget"],[1,"row","m-0",3,"formGroupName"],[1,"col-12"],["matInput","","placeholder","Enter Question","formControlName","question","rows","2"],["style","width:200px;","class","mb-2",3,"src",4,"ngIf"],[1,"form-group"],["for","exampleFormControlFile1"],["type","file","id","exampleFormControlFile1","accept","image/*",1,"form-control-file",3,"change"],["matInput","","placeholder","Enter first answer","formControlName","answer1"],["type","number","matInput","","placeholder","Enter second answer","formControlName","answer2"],["matInput","","placeholder","Enter third answer","formControlName","answer3"],["matInput","","placeholder","Enter fourth answer","formControlName","answer4"],["matInput","","placeholder","Enter right answer","formControlName","rightanswer"],["type","number","matInput","","placeholder","Enter mark","formControlName","marksforthis"],[1,"mb-2",2,"width","200px",3,"src"]],template:function(t,e){1&t&&(l.ic(0,"div",0),l.ic(1,"div",1),l.ic(2,"h3"),l.Xc(3,"Assessment Setup"),l.hc(),l.hc(),l.ic(4,"div",2),l.ic(5,"mat-card"),l.ic(6,"mat-card-title"),l.Xc(7),l.hc(),l.ic(8,"mat-card-content",3),l.ic(9,"mat-tab-group",4),l.ic(10,"mat-tab"),l.Vc(11,X,3,0,"ng-template",5),l.Vc(12,Q,72,15,"form",6),l.hc(),l.ic(13,"mat-tab"),l.Vc(14,L,3,0,"ng-template",5),l.Vc(15,et,10,2,"form",6),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc()),2&t&&(l.Pb(7),l.Yc(e.cardTitle),l.Pb(2),l.Dc("selectedIndex",e.selectedIndex),l.Pb(3),l.Dc("ngIf",e.showForm),l.Pb(3),l.Dc("ngIf",e.showForm))},directives:[x.a,x.d,x.b,v.b,v.a,v.c,a.n,w.a,o.z,o.r,o.k,q.c,q.f,I.a,o.q,o.i,a.m,E.b,o.c,y.b,y.d,q.g,y.a,o.v,D.a,S.n,q.b,o.e,o.l],styles:[".questions-widget[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding-top:15px}.questions-widget[_ngcontent-%COMP%]:first-child{border-top:0 solid #ccc;padding-top:0}"]}),it),nt=((ct=function(){function e(){t(this,e)}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||ct)},ct.\u0275cmp=l.Wb({type:ct,selectors:[["app-exam-result"]],decls:2,vars:0,template:function(t,e){1&t&&(l.ic(0,"p"),l.Xc(1,"exam-result works!"),l.hc())},styles:[""]}),ct),at=r("pW6c");function st(t,e){if(1&t){var c=l.jc();l.ic(0,"button",6),l.tc("click",(function(){return l.Nc(c),l.xc().startAssessment()})),l.Xc(1,"Start Assessment"),l.hc()}}function ot(t,e){if(1&t){var c=l.jc();l.ic(0,"button",6),l.tc("click",(function(){return l.Nc(c),l.xc().getQuestions()})),l.Xc(1,"Start Exam"),l.hc()}}var ut,lt,mt,ht=[{path:"",component:rt,data:{breadcrumb:"Setup"}},{path:"questions",component:(ut=function(){function e(c,i,r){t(this,e),this.date=c,this.authenticationService=i,this.as=r}return c(e,[{key:"ngOnInit",value:function(){this.isStartExam=!0}},{key:"startAssessment",value:function(){var t=this;this.authenticationService.currentUser.subscribe((function(e){t.as.getExamsByStudentID((new Date).toISOString(),e.id).subscribe((function(e){Array.isArray(e)&&e.length?(t.examID=e[0].id,t.isStartExam=!1):(t.isStartExam=!0,alert("Exams are not scheduled!"))}))}))}},{key:"getQuestions",value:function(){this.as.getQuestionByExamID(this.examID).subscribe((function(t){console.log("questions",t)}))}}]),e}(),ut.\u0275fac=function(t){return new(t||ut)(l.cc(a.f),l.cc(at.a),l.cc(b))},ut.\u0275cmp=l.Wb({type:ut,selectors:[["app-assessment-questions"]],features:[l.Ob([a.f])],decls:10,vars:2,consts:[[1,"form-container"],[1,"page-title"],[1,"form-fields"],[1,"pt-2"],[1,"pb-2","text-center"],["mat-raised-button","","type","button","class","mat-next mt-2 mr-3",3,"click",4,"ngIf"],["mat-raised-button","","type","button",1,"mat-next","mt-2","mr-3",3,"click"]],template:function(t,e){1&t&&(l.ic(0,"div",0),l.ic(1,"div",1),l.ic(2,"h3"),l.Xc(3,"Assessment Questions"),l.hc(),l.hc(),l.ic(4,"div",2),l.ic(5,"mat-card"),l.ic(6,"mat-card-content",3),l.ic(7,"div",4),l.Vc(8,st,2,0,"button",5),l.Vc(9,ot,2,0,"button",5),l.hc(),l.hc(),l.hc(),l.hc(),l.hc()),2&t&&(l.Pb(8),l.Dc("ngIf",e.isStartExam),l.Pb(1),l.Dc("ngIf",!e.isStartExam))},directives:[x.a,x.b,a.n,D.a],styles:[""]}),ut),data:{breadcrumb:"Questions"}},{path:"result",component:nt,data:{breadcrumb:"Result"}}],dt=((lt=function e(){t(this,e)}).\u0275mod=l.ac({type:lt}),lt.\u0275inj=l.Zb({factory:function(t){return new(t||lt)},imports:[[s.i.forChild(ht)],s.i]}),lt),ft=r("1kSV"),pt=r("jAig"),gt=((mt=function e(){t(this,e)}).\u0275mod=l.ac({type:mt}),mt.\u0275inj=l.Zb({factory:function(t){return new(t||mt)},imports:[[a.c,dt,o.m,o.w,ft.d,pt.a]]}),mt)}}])}();